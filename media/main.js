/*! For license information please see main.0f1e3d8c.js.LICENSE.txt */
(()=>{var e={240:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},s=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,o=t.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(r in e);return"undefined"===typeof r||t.call(e,r)},l=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},a=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(o)return o(e,n).value}return e[n]};e.exports=function e(){var t,n,r,o,c,u,d=arguments[0],p=1,f=arguments.length,h=!1;for("boolean"===typeof d&&(h=d,d=arguments[1]||{},p=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});p<f;++p)if(null!=(t=arguments[p]))for(n in t)r=a(d,n),d!==(o=a(t,n))&&(h&&o&&(s(o)||(c=i(o)))?(c?(c=!1,u=r&&i(r)?r:[]):u=r&&s(r)?r:{},l(d,{name:n,newValue:e(h,u,o)})):"undefined"!==typeof o&&l(d,{name:n,newValue:o}));return d}},837:e=>{e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},730:(e,t,n)=>{"use strict";var r=n(43),o=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function a(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(h,e)||!d.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),M=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var P,F=Object.assign;function z(e){if(void 0===P)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var $=!1;function B(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(1!==s||1!==l)do{if(s--,0>--l||o[s]!==i[l]){var a="\n"+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}}while(1<=s&&0<=l);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function j(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case C:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Q(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ie(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ae(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(fe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ee=null;function Ce(e){if(e=wo(e)){if("function"!==typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=xo(t),xe(e.stateNode,e.type,t))}}function Te(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Me(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ne(e,t){return e(t)}function Ae(){}var Oe=!1;function Ie(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ne(e,t,n)}finally{Oe=!1,(null!==Se||null!==Ee)&&(Ae(),Me())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=xo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var De=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){De=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){De=!1}function _e(e,t,n,r,o,i,s,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Pe=!1,Fe=null,ze=!1,$e=null,Be={onError:function(e){Pe=!0,Fe=e}};function je(e,t,n,r,o,i,s,l,a){Pe=!1,Fe=null,_e.apply(Be,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(i(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return We(o),e;if(s===r)return We(o),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=s;else{for(var l=!1,a=o.child;a;){if(a===n){l=!0,n=o,r=s;break}if(a===r){l=!0,r=o,n=s;break}a=a.sibling}if(!l){for(a=s.child;a;){if(a===n){l=!0,n=s,r=o;break}if(a===r){l=!0,r=s,n=o;break}a=a.sibling}if(!l)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Je=o.unstable_requestPaint,Xe=o.unstable_now,Qe=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/at|0)|0},lt=Math.log,at=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var l=s&~o;0!==l?r=dt(l):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~o)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var vt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,xt,St,Et,Ct,Tt=!1,Mt=[],Nt=null,At=null,Ot=null,It=new Map,Rt=new Map,Dt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _t(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Pt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Ft(e){var t=vo(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function $t(e,t,n){zt(e)&&n.delete(t)}function Bt(){Tt=!1,null!==Nt&&zt(Nt)&&(Nt=null),null!==At&&zt(At)&&(At=null),null!==Ot&&zt(Ot)&&(Ot=null),It.forEach($t),Rt.forEach($t)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Bt)))}function Ht(e){function t(t){return jt(t,e)}if(0<Mt.length){jt(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&jt(Nt,e),null!==At&&jt(At,e),null!==Ot&&jt(Ot,e),It.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var Ut=w.ReactCurrentBatchConfig,Wt=!0;function Vt(e,t,n,r){var o=vt,i=Ut.transition;Ut.transition=null;try{vt=1,Gt(e,t,n,r)}finally{vt=o,Ut.transition=i}}function qt(e,t,n,r){var o=vt,i=Ut.transition;Ut.transition=null;try{vt=4,Gt(e,t,n,r)}finally{vt=o,Ut.transition=i}}function Gt(e,t,n,r){if(Wt){var o=Yt(e,t,n,r);if(null===o)Wr(e,t,r,Kt,n),_t(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Nt=Pt(Nt,e,t,n,r,o),!0;case"dragenter":return At=Pt(At,e,t,n,r,o),!0;case"mouseover":return Ot=Pt(Ot,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return It.set(i,Pt(It.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Rt.set(i,Pt(Rt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(_t(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==o;){var i=wo(o);if(null!==i&&kt(i),null===(i=Yt(e,t,n,r))&&Wr(e,t,r,Kt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=vo(e=ke(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Qt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Qt,r=n.length,o="value"in Xt?Xt.value:Xt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,ln,an,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=F({},cn,{view:0,detail:0}),pn=on(dn),fn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(sn=e.screenX-an.screenX,ln=e.screenY-an.screenY):ln=sn=0,an=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),hn=on(fn),mn=on(F({},fn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),yn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=on(bn),wn=on(F({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return En}var Tn=F({},dn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=on(Tn),Nn=on(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(In),Dn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,_n=null;u&&"documentMode"in document&&(_n=document.documentMode);var Pn=u&&"TextEvent"in window&&!_n,Fn=u&&(!Ln||_n&&8<_n&&11>=_n),zn=String.fromCharCode(32),$n=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Vn(e,t,n,r){Te(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Gn=null;function Kn(e){zr(e,0)}function Yn(e){if(G(ko(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Qn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Qn=Zn}else Qn=!1;Xn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Vn(t,Gn,e,ke(e)),Ie(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ir(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ar(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!lr(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var s=ur(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,br=null,vr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&ar(br,r)||(br=r,0<(r=qr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Sr={},Er={};function Cr(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Tr=Cr("animationend"),Mr=Cr("animationiteration"),Nr=Cr("animationstart"),Ar=Cr("transitionend"),Or=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Or.set(e,t),a(t,[e])}for(var Dr=0;Dr<Ir.length;Dr++){var Lr=Ir[Dr];Rr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Rr(Tr,"onAnimationEnd"),Rr(Mr,"onAnimationIteration"),Rr(Nr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,l,a,c){if(je.apply(this,arguments),Pe){if(!Pe)throw Error(i(198));var u=Fe;Pe=!1,Fe=null,ze||(ze=!0,$e=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;Fr(o,l,c),i=a}else for(s=0;s<r.length;s++){if(a=(l=r[s]).instance,c=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;Fr(o,l,c),i=a}}}if(ze)throw e=$e,ze=!1,$e=null,e}function $r(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[jr]){e[jr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Pr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Br("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Jt(t)){case 1:var o=Vt;break;case 4:o=qt;break;default:o=Gt}n=o.bind(null,t,n,e),o=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var l=r.stateNode.containerInfo;if(l===o||8===l.nodeType&&l.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var a=s.tag;if((3===a||4===a)&&((a=s.stateNode.containerInfo)===o||8===a.nodeType&&a.parentNode===o))return;s=s.return}for(;null!==l;){if(null===(s=vo(l)))return;if(5===(a=s.tag)||6===a){r=i=s;continue e}l=l.parentNode}}r=r.return}Ie((function(){var r=i,o=ke(n),s=[];e:{var l=Or.get(e);if(void 0!==l){var a=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":a=Mn;break;case"focusin":c="focus",a=gn;break;case"focusout":c="blur",a=gn;break;case"beforeblur":case"afterblur":a=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=An;break;case Tr:case Mr:case Nr:a=yn;break;case Ar:a=On;break;case"scroll":a=pn;break;case"wheel":a=Rn;break;case"copy":case"cut":case"paste":a=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,p=u?null!==l?l+"Capture":null:l;u=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Re(h,p))&&u.push(Vr(h,m,f)))),d)break;h=h.return}0<u.length&&(l=new a(l,c,null,n,o),s.push({event:l,listeners:u}))}}if(0===(7&t)){if(a="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vo(c)&&!c[mo])&&(a||l)&&(l=o.window===o?o:(l=o.ownerDocument)?l.defaultView||l.parentWindow:window,a?(a=r,null!==(c=(c=n.relatedTarget||n.toElement)?vo(c):null)&&(c!==(d=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(a=null,c=r),a!==c)){if(u=hn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==a?l:ko(a),f=null==c?l:ko(c),(l=new u(m,h+"leave",a,n,o)).target=d,l.relatedTarget=f,m=null,vo(o)===r&&((u=new u(p,h+"enter",c,n,o)).target=f,u.relatedTarget=d,m=u),d=m,a&&c)e:{for(p=c,h=0,f=u=a;f;f=Gr(f))h++;for(f=0,m=p;m;m=Gr(m))f++;for(;0<h-f;)u=Gr(u),h--;for(;0<f-h;)p=Gr(p),f--;for(;h--;){if(u===p||null!==p&&u===p.alternate)break e;u=Gr(u),p=Gr(p)}u=null}else u=null;null!==a&&Kr(s,l,a,u,!1),null!==c&&null!==d&&Kr(s,d,c,u,!0)}if("select"===(a=(l=r?ko(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===a&&"file"===l.type)var g=Jn;else if(Wn(l))if(Xn)g=sr;else{g=or;var y=rr}else(a=l.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=ir);switch(g&&(g=g(e,r))?Vn(s,g,n,o):(y&&y(e,l,r),"focusout"===e&&(y=l._wrapperState)&&y.controlled&&"number"===l.type&&ee(l,"number",l.value)),y=r?ko(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,br=null);break;case"focusout":br=yr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,wr(s,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,o)}var b;if(Ln)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Hn?Bn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Fn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Hn&&(b=en()):(Qt="value"in(Xt=o)?Xt.value:Xt.textContent,Hn=!0)),0<(y=qr(r,v)).length&&(v=new wn(v,e,null,n,o),s.push({event:v,listeners:y}),b?v.data=b:null!==(b=jn(n))&&(v.data=b))),(b=Pn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:($n=!0,zn);case"textInput":return(e=t.data)===zn&&$n?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Ln&&Bn(e,t)?(e=en(),Zt=Qt=Xt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=b))}zr(s,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Re(e,n))&&r.unshift(Vr(e,i,o)),null!=(i=Re(e,t))&&r.push(Vr(e,i,o))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(null!==a&&a===r)break;5===l.tag&&null!==c&&(l=c,o?null!=(a=Re(n,i))&&s.unshift(Vr(n,a,l)):o||null!=(a=Re(n,i))&&s.push(Vr(n,a,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Qr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(i(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(lo)}:ro;function lo(e){setTimeout((function(){throw e}))}function ao(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ht(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),fo="__reactFiber$"+po,ho="__reactProps$"+po,mo="__reactContainer$"+po,go="__reactEvents$"+po,yo="__reactListeners$"+po,bo="__reactHandles$"+po;function vo(e){var t=e[fo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[fo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[fo])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[fo]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ko(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xo(e){return e[ho]||null}var So=[],Eo=-1;function Co(e){return{current:e}}function To(e){0>Eo||(e.current=So[Eo],So[Eo]=null,Eo--)}function Mo(e,t){Eo++,So[Eo]=e.current,e.current=t}var No={},Ao=Co(No),Oo=Co(!1),Io=No;function Ro(e,t){var n=e.type.contextTypes;if(!n)return No;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Do(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lo(){To(Oo),To(Ao)}function _o(e,t,n){if(Ao.current!==No)throw Error(i(168));Mo(Ao,t),Mo(Oo,n)}function Po(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,U(e)||"Unknown",o));return F({},n,r)}function Fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||No,Io=Ao.current,Mo(Ao,e),Mo(Oo,Oo.current),!0}function zo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Po(e,t,Io),r.__reactInternalMemoizedMergedChildContext=e,To(Oo),To(Ao),Mo(Ao,e)):To(Oo),Mo(Oo,n)}var $o=null,Bo=!1,jo=!1;function Ho(e){null===$o?$o=[e]:$o.push(e)}function Uo(){if(!jo&&null!==$o){jo=!0;var e=0,t=vt;try{var n=$o;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}$o=null,Bo=!1}catch(o){throw null!==$o&&($o=$o.slice(e+1)),Ge(Ze,Uo),o}finally{vt=t,jo=!1}}return null}var Wo=[],Vo=0,qo=null,Go=0,Ko=[],Yo=0,Jo=null,Xo=1,Qo="";function Zo(e,t){Wo[Vo++]=Go,Wo[Vo++]=qo,qo=e,Go=t}function ei(e,t,n){Ko[Yo++]=Xo,Ko[Yo++]=Qo,Ko[Yo++]=Jo,Jo=e;var r=Xo;e=Qo;var o=32-st(r)-1;r&=~(1<<o),n+=1;var i=32-st(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Xo=1<<32-st(t)+o|n<<o|r,Qo=i+e}else Xo=1<<i|n<<o|r,Qo=e}function ti(e){null!==e.return&&(Zo(e,1),ei(e,1,0))}function ni(e){for(;e===qo;)qo=Wo[--Vo],Wo[Vo]=null,Go=Wo[--Vo],Wo[Vo]=null;for(;e===Jo;)Jo=Ko[--Yo],Ko[Yo]=null,Qo=Ko[--Yo],Ko[Yo]=null,Xo=Ko[--Yo],Ko[Yo]=null}var ri=null,oi=null,ii=!1,si=null;function li(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ai(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Jo?{id:Xo,overflow:Qo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!ai(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&ai(e,t)?li(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function pi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw fi(),Error(i(418));for(;t;)li(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=oi;e;)e=co(e.nextSibling)}function hi(){oi=ri=null,ii=!1}function mi(e){null===si?si=[e]:si.push(e)}var gi=w.ReactCurrentBatchConfig;function yi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var bi=Co(null),vi=null,wi=null,ki=null;function xi(){ki=wi=vi=null}function Si(e){var t=bi.current;To(bi),e._currentValue=t}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t){vi=e,ki=wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wl=!0),e.firstContext=null)}function Ti(e){var t=e._currentValue;if(ki!==e)if(e={context:e,memoizedValue:t,next:null},null===wi){if(null===vi)throw Error(i(308));wi=e,vi.dependencies={lanes:0,firstContext:e}}else wi=wi.next=e;return t}var Mi=null;function Ni(e){null===Mi?Mi=[e]:Mi.push(e)}function Ai(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ni(t)):(n.next=o.next,o.next=n),t.interleaved=n,Oi(e,r)}function Oi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ii=!1;function Ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Di(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Li(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _i(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Aa)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Oi(e,n)}return null===(o=r.interleaved)?(t.next=t,Ni(r)):(t.next=o.next,o.next=t),r.interleaved=t,Oi(e,n)}function Pi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Fi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zi(e,t,n,r){var o=e.updateQueue;Ii=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var a=l,c=a.next;a.next=null,null===s?i=c:s.next=c,s=a;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=a))}if(null!==i){var d=o.baseState;for(s=0,u=c=a=null,l=i;;){var p=l.lane,f=l.eventTime;if((r&p)===p){null!==u&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,m=l;switch(p=t,f=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=m.payload)?h.call(f,d,p):h)||void 0===p)break e;d=F({},d,p);break e;case 2:Ii=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=f,a=d):u=u.next=f,s|=p;if(null===(l=l.next)){if(null===(l=o.shared.pending))break;l=(p=l).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===u&&(a=d),o.baseState=a,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Fa|=s,e.lanes=s,e.memoizedState=d}}function $i(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Bi=(new r.Component).refs;function ji(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Hi={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),o=nc(e),i=Li(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=_i(e,i,o))&&(rc(t,e,o,r),Pi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),o=nc(e),i=Li(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=_i(e,i,o))&&(rc(t,e,o,r),Pi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),o=Li(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=_i(e,o,r))&&(rc(t,e,r,n),Pi(t,e,r))}};function Ui(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!ar(n,r)||!ar(o,i))}function Wi(e,t,n){var r=!1,o=No,i=t.contextType;return"object"===typeof i&&null!==i?i=Ti(i):(o=Do(t)?Io:Ao.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ro(e,o):No),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Hi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Vi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hi.enqueueReplaceState(t,t.state,null)}function qi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Bi,Ri(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ti(i):(i=Do(t)?Io:Ao.current,o.context=Ro(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ji(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Hi.enqueueReplaceState(o,o.state,null),zi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function Gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;t===Bi&&(t=o.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ki(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yi(e){return(0,e._init)(e._payload)}function Ji(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=zc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===R&&Yi(i)===t.type)?((r=o(t,n.props)).ref=Gi(e,t,n),r.return=e,r):((r=_c(n.type,n.key,n.props,null,e.mode,r)).ref=Gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$c(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=_c(t.type,t.key,t.props,null,e.mode,n)).ref=Gi(e,null,t),n.return=e,n;case x:return(t=$c(t,e.mode,n)).return=e,t;case R:return p(e,(0,t._init)(t._payload),n)}if(te(t)||_(t))return(t=Pc(t,e.mode,n,null)).return=e,t;Ki(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:a(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===o?c(e,t,n,r):null;case x:return n.key===o?u(e,t,n,r):null;case R:return f(e,t,(o=n._init)(n._payload),r)}if(te(n)||_(n))return null!==o?null:d(e,t,n,r,null);Ki(e,n)}return null}function h(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return a(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case R:return h(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||_(r))return d(t,e=e.get(n)||null,r,o,null);Ki(t,r)}return null}function m(o,i,l,a){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<l.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(o,d,l[m],a);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),i=s(y,i,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===l.length)return n(o,d),ii&&Zo(o,m),c;if(null===d){for(;m<l.length;m++)null!==(d=p(o,l[m],a))&&(i=s(d,i,m),null===u?c=d:u.sibling=d,u=d);return ii&&Zo(o,m),c}for(d=r(o,d);m<l.length;m++)null!==(g=h(d,o,m,l[m],a))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),ii&&Zo(o,m),c}function g(o,l,a,c){var u=_(a);if("function"!==typeof u)throw Error(i(150));if(null==(a=u.call(a)))throw Error(i(151));for(var d=u=null,m=l,g=l=0,y=null,b=a.next();null!==m&&!b.done;g++,b=a.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=f(o,m,b.value,c);if(null===v){null===m&&(m=y);break}e&&m&&null===v.alternate&&t(o,m),l=s(v,l,g),null===d?u=v:d.sibling=v,d=v,m=y}if(b.done)return n(o,m),ii&&Zo(o,g),u;if(null===m){for(;!b.done;g++,b=a.next())null!==(b=p(o,b.value,c))&&(l=s(b,l,g),null===d?u=b:d.sibling=b,d=b);return ii&&Zo(o,g),u}for(m=r(o,m);!b.done;g++,b=a.next())null!==(b=h(m,o,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),l=s(b,l,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(o,e)})),ii&&Zo(o,g),u}return function e(r,i,s,a){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case k:e:{for(var c=s.key,u=i;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(r,u.sibling),(i=o(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Yi(c)===u.type){n(r,u.sibling),(i=o(u,s.props)).ref=Gi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===S?((i=Pc(s.props.children,r.mode,a,s.key)).return=r,r=i):((a=_c(s.type,s.key,s.props,null,r.mode,a)).ref=Gi(r,i,s),a.return=r,r=a)}return l(r);case x:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=o(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=$c(s,r.mode,a)).return=r,r=i}return l(r);case R:return e(r,i,(u=s._init)(s._payload),a)}if(te(s))return m(r,i,s,a);if(_(s))return g(r,i,s,a);Ki(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,s)).return=r,r=i):(n(r,i),(i=zc(s,r.mode,a)).return=r,r=i),l(r)):n(r,i)}}var Xi=Ji(!0),Qi=Ji(!1),Zi={},es=Co(Zi),ts=Co(Zi),ns=Co(Zi);function rs(e){if(e===Zi)throw Error(i(174));return e}function os(e,t){switch(Mo(ns,t),Mo(ts,e),Mo(es,Zi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ae(null,"");break;default:t=ae(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}To(es),Mo(es,t)}function is(){To(es),To(ts),To(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=ae(t,e.type);t!==n&&(Mo(ts,e),Mo(es,n))}function ls(e){ts.current===e&&(To(es),To(ts))}var as=Co(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function ds(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var ps=w.ReactCurrentDispatcher,fs=w.ReactCurrentBatchConfig,hs=0,ms=null,gs=null,ys=null,bs=!1,vs=!1,ws=0,ks=0;function xs(){throw Error(i(321))}function Ss(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function Es(e,t,n,r,o,s){if(hs=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ps.current=null===e||null===e.memoizedState?ll:al,e=n(r,o),vs){s=0;do{if(vs=!1,ws=0,25<=s)throw Error(i(301));s+=1,ys=gs=null,t.updateQueue=null,ps.current=cl,e=n(r,o)}while(vs)}if(ps.current=sl,t=null!==gs&&null!==gs.next,hs=0,ys=gs=ms=null,bs=!1,t)throw Error(i(300));return e}function Cs(){var e=0!==ws;return ws=0,e}function Ts(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ys?ms.memoizedState=ys=e:ys=ys.next=e,ys}function Ms(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===ys?ms.memoizedState:ys.next;if(null!==t)ys=t,gs=e;else{if(null===e)throw Error(i(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===ys?ms.memoizedState=ys=e:ys=ys.next=e}return ys}function Ns(e,t){return"function"===typeof t?t(e):t}function As(e){var t=Ms(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=gs,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var l=o.next;o.next=s.next,s.next=l}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var a=l=null,c=null,u=s;do{var d=u.lane;if((hs&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(a=c=p,l=r):c=c.next=p,ms.lanes|=d,Fa|=d}u=u.next}while(null!==u&&u!==s);null===c?l=r:c.next=a,lr(r,t.memoizedState)||(wl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,ms.lanes|=s,Fa|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Os(e){var t=Ms(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var l=o=o.next;do{s=e(s,l.action),l=l.next}while(l!==o);lr(s,t.memoizedState)||(wl=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Is(){}function Rs(e,t){var n=ms,r=Ms(),o=t(),s=!lr(r.memoizedState,o);if(s&&(r.memoizedState=o,wl=!0),r=r.queue,Ws(_s.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ys&&1&ys.memoizedState.tag){if(n.flags|=2048,$s(9,Ls.bind(null,n,r,o,t),void 0,null),null===Oa)throw Error(i(349));0!==(30&hs)||Ds(n,t,o)}return o}function Ds(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ls(e,t,n,r){t.value=n,t.getSnapshot=r,Ps(t)&&Fs(e)}function _s(e,t,n){return n((function(){Ps(t)&&Fs(e)}))}function Ps(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Fs(e){var t=Oi(e,1);null!==t&&rc(t,e,1,-1)}function zs(e){var t=Ts();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:e},t.queue=e,e=e.dispatch=nl.bind(null,ms,e),[t.memoizedState,e]}function $s(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bs(){return Ms().memoizedState}function js(e,t,n,r){var o=Ts();ms.flags|=e,o.memoizedState=$s(1|t,n,void 0,void 0===r?null:r)}function Hs(e,t,n,r){var o=Ms();r=void 0===r?null:r;var i=void 0;if(null!==gs){var s=gs.memoizedState;if(i=s.destroy,null!==r&&Ss(r,s.deps))return void(o.memoizedState=$s(t,n,i,r))}ms.flags|=e,o.memoizedState=$s(1|t,n,i,r)}function Us(e,t){return js(8390656,8,e,t)}function Ws(e,t){return Hs(2048,8,e,t)}function Vs(e,t){return Hs(4,2,e,t)}function qs(e,t){return Hs(4,4,e,t)}function Gs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ks(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Hs(4,4,Gs.bind(null,t,e),n)}function Ys(){}function Js(e,t){var n=Ms();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=Ms();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ss(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qs(e,t,n){return 0===(21&hs)?(e.baseState&&(e.baseState=!1,wl=!0),e.memoizedState=n):(lr(n,t)||(n=mt(),ms.lanes|=n,Fa|=n,e.baseState=!0),t)}function Zs(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=fs.transition;fs.transition={};try{e(!1),t()}finally{vt=n,fs.transition=r}}function el(){return Ms().memoizedState}function tl(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rl(e))ol(t,n);else if(null!==(n=Ai(e,t,n,r))){rc(n,e,r,tc()),il(n,t,r)}}function nl(e,t,n){var r=nc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rl(e))ol(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=i(s,n);if(o.hasEagerState=!0,o.eagerState=l,lr(l,s)){var a=t.interleaved;return null===a?(o.next=o,Ni(t)):(o.next=a.next,a.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Ai(e,t,o,r))&&(rc(n,e,r,o=tc()),il(n,t,r))}}function rl(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ol(e,t){vs=bs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function il(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var sl={readContext:Ti,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useInsertionEffect:xs,useLayoutEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useMutableSource:xs,useSyncExternalStore:xs,useId:xs,unstable_isNewReconciler:!1},ll={readContext:Ti,useCallback:function(e,t){return Ts().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:Us,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,js(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return js(4194308,4,e,t)},useInsertionEffect:function(e,t){return js(4,2,e,t)},useMemo:function(e,t){var n=Ts();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ts();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tl.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ts().memoizedState=e},useState:zs,useDebugValue:Ys,useDeferredValue:function(e){return Ts().memoizedState=e},useTransition:function(){var e=zs(!1),t=e[0];return e=Zs.bind(null,e[1]),Ts().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,o=Ts();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Oa)throw Error(i(349));0!==(30&hs)||Ds(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Us(_s.bind(null,r,s,e),[e]),r.flags|=2048,$s(9,Ls.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ts(),t=Oa.identifierPrefix;if(ii){var n=Qo;t=":"+t+"R"+(n=(Xo&~(1<<32-st(Xo)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ks++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},al={readContext:Ti,useCallback:Js,useContext:Ti,useEffect:Ws,useImperativeHandle:Ks,useInsertionEffect:Vs,useLayoutEffect:qs,useMemo:Xs,useReducer:As,useRef:Bs,useState:function(){return As(Ns)},useDebugValue:Ys,useDeferredValue:function(e){return Qs(Ms(),gs.memoizedState,e)},useTransition:function(){return[As(Ns)[0],Ms().memoizedState]},useMutableSource:Is,useSyncExternalStore:Rs,useId:el,unstable_isNewReconciler:!1},cl={readContext:Ti,useCallback:Js,useContext:Ti,useEffect:Ws,useImperativeHandle:Ks,useInsertionEffect:Vs,useLayoutEffect:qs,useMemo:Xs,useReducer:Os,useRef:Bs,useState:function(){return Os(Ns)},useDebugValue:Ys,useDeferredValue:function(e){var t=Ms();return null===gs?t.memoizedState=e:Qs(t,gs.memoizedState,e)},useTransition:function(){return[Os(Ns)[0],Ms().memoizedState]},useMutableSource:Is,useSyncExternalStore:Rs,useId:el,unstable_isNewReconciler:!1};function ul(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function dl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function pl(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fl="function"===typeof WeakMap?WeakMap:Map;function hl(e,t,n){(n=Li(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Va||(Va=!0,qa=r),pl(0,t)},n}function ml(e,t,n){(n=Li(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){pl(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){pl(0,t),"function"!==typeof r&&(null===Ga?Ga=new Set([this]):Ga.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fl;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function yl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bl(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Li(-1,1)).tag=2,_i(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var vl=w.ReactCurrentOwner,wl=!1;function kl(e,t,n,r){t.child=null===e?Qi(t,null,n,r):Xi(t,e.child,n,r)}function xl(e,t,n,r,o){n=n.render;var i=t.ref;return Ci(t,o),r=Es(e,t,n,r,i,o),n=Cs(),null===e||wl?(ii&&n&&ti(t),t.flags|=1,kl(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vl(e,t,o))}function Sl(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Dc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=_c(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,El(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:ar)(s,r)&&e.ref===t.ref)return Vl(e,t,o)}return t.flags|=1,(e=Lc(i,r)).ref=t.ref,e.return=t,t.child=e}function El(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(ar(i,r)&&e.ref===t.ref){if(wl=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Vl(e,t,o);0!==(131072&e.flags)&&(wl=!0)}}return Ml(e,t,n,r,o)}function Cl(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mo(La,Da),Da|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mo(La,Da),Da|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Mo(La,Da),Da|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Mo(La,Da),Da|=r;return kl(e,t,o,n),t.child}function Tl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ml(e,t,n,r,o){var i=Do(n)?Io:Ao.current;return i=Ro(t,i),Ci(t,o),n=Es(e,t,n,r,i,o),r=Cs(),null===e||wl?(ii&&r&&ti(t),t.flags|=1,kl(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Vl(e,t,o))}function Nl(e,t,n,r,o){if(Do(n)){var i=!0;Fo(t)}else i=!1;if(Ci(t,o),null===t.stateNode)Wl(e,t),Wi(t,n,r),qi(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ti(c):c=Ro(t,c=Do(n)?Io:Ao.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(l!==r||a!==c)&&Vi(t,s,r,c),Ii=!1;var p=t.memoizedState;s.state=p,zi(t,r,s,o),a=t.memoizedState,l!==r||p!==a||Oo.current||Ii?("function"===typeof u&&(ji(t,n,u,r),a=t.memoizedState),(l=Ii||Ui(t,n,l,r,p,a,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=c,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Di(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:yi(t.type,l),s.props=c,d=t.pendingProps,p=s.context,"object"===typeof(a=n.contextType)&&null!==a?a=Ti(a):a=Ro(t,a=Do(n)?Io:Ao.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(l!==d||p!==a)&&Vi(t,s,r,a),Ii=!1,p=t.memoizedState,s.state=p,zi(t,r,s,o);var h=t.memoizedState;l!==d||p!==h||Oo.current||Ii?("function"===typeof f&&(ji(t,n,f,r),h=t.memoizedState),(c=Ii||Ui(t,n,c,r,p,h,a)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,h,a),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,h,a)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=a,r=c):("function"!==typeof s.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Al(e,t,n,r,i,o)}function Al(e,t,n,r,o,i){Tl(e,t);var s=0!==(128&t.flags);if(!r&&!s)return o&&zo(t,n,!1),Vl(e,t,i);r=t.stateNode,vl.current=t;var l=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Xi(t,e.child,null,i),t.child=Xi(t,null,l,i)):kl(e,t,l,i),t.memoizedState=r.state,o&&zo(t,n,!0),t.child}function Ol(e){var t=e.stateNode;t.pendingContext?_o(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_o(0,t.context,!1),os(e,t.containerInfo)}function Il(e,t,n,r,o){return hi(),mi(o),t.flags|=256,kl(e,t,n,r),t.child}var Rl,Dl,Ll,_l,Pl={dehydrated:null,treeContext:null,retryLane:0};function Fl(e){return{baseLanes:e,cachePool:null,transitions:null}}function zl(e,t,n){var r,o=t.pendingProps,s=as.current,l=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Mo(as,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(a=o.children,e=o.fallback,l?(o=t.mode,l=t.child,a={mode:"hidden",children:a},0===(1&o)&&null!==l?(l.childLanes=0,l.pendingProps=a):l=Fc(a,o,0,null),e=Pc(e,o,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Fl(n),t.memoizedState=Pl,e):$l(t,a));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,l){if(n)return 256&t.flags?(t.flags&=-257,Bl(e,t,l,r=dl(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Fc({mode:"visible",children:r.children},o,0,null),(s=Pc(s,o,l,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Xi(t,e.child,null,l),t.child.memoizedState=Fl(l),t.memoizedState=Pl,s);if(0===(1&t.mode))return Bl(e,t,l,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var a=r.dgst;return r=a,Bl(e,t,l,r=dl(s=Error(i(419)),r,void 0))}if(a=0!==(l&e.childLanes),wl||a){if(null!==(r=Oa)){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|l))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Oi(e,o),rc(r,e,o,-1))}return gc(),Bl(e,t,l,r=dl(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,si=null,null!==e&&(Ko[Yo++]=Xo,Ko[Yo++]=Qo,Ko[Yo++]=Jo,Xo=e.id,Qo=e.overflow,Jo=t),t=$l(t,r.children),t.flags|=4096,t)}(e,t,a,o,r,s,n);if(l){l=o.fallback,a=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&a)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Lc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?l=Lc(r,l):(l=Pc(l,a,n,null)).flags|=2,l.return=t,o.return=t,o.sibling=l,t.child=o,o=l,l=t.child,a=null===(a=e.child.memoizedState)?Fl(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=Pl,o}return e=(l=e.child).sibling,o=Lc(l,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function $l(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bl(e,t,n,r){return null!==r&&mi(r),Xi(t,e.child,null,n),(e=$l(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function jl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function Hl(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ul(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(kl(e,t,r.children,n),0!==(2&(r=as.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&jl(e,n,t);else if(19===e.tag)jl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Mo(as,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Hl(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===cs(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Hl(t,!0,n,null,i);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fa|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ql(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Kl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gl(t),null;case 1:case 17:return Do(t.type)&&Lo(),Gl(t),null;case 3:return r=t.stateNode,is(),To(Oo),To(Ao),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(pi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==si&&(lc(si),si=null))),Dl(e,t),Gl(t),null;case 5:ls(t);var o=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Ll(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Gl(t),null}if(e=rs(es.current),pi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fo]=t,r[ho]=s,e=0!==(1&t.mode),n){case"dialog":$r("cancel",r),$r("close",r);break;case"iframe":case"object":case"embed":$r("load",r);break;case"video":case"audio":for(o=0;o<_r.length;o++)$r(_r[o],r);break;case"source":$r("error",r);break;case"img":case"image":case"link":$r("error",r),$r("load",r);break;case"details":$r("toggle",r);break;case"input":J(r,s),$r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$r("invalid",r);break;case"textarea":oe(r,s),$r("invalid",r)}for(var a in be(n,s),o=null,s)if(s.hasOwnProperty(a)){var c=s[a];"children"===a?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,c,e),o=["children",""+c]):l.hasOwnProperty(a)&&null!=c&&"onScroll"===a&&$r("scroll",r)}switch(n){case"input":q(r),Z(r,s,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{a=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[fo]=t,e[ho]=r,Rl(e,t,!1,!1),t.stateNode=e;e:{switch(a=ve(n,r),n){case"dialog":$r("cancel",e),$r("close",e),o=r;break;case"iframe":case"object":case"embed":$r("load",e),o=r;break;case"video":case"audio":for(o=0;o<_r.length;o++)$r(_r[o],e);o=r;break;case"source":$r("error",e),o=r;break;case"img":case"image":case"link":$r("error",e),$r("load",e),o=r;break;case"details":$r("toggle",e),o=r;break;case"input":J(e,r),o=Y(e,r),$r("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=F({},r,{value:void 0}),$r("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),$r("invalid",e)}for(s in be(n,o),c=o)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&pe(e,u):"number"===typeof u&&pe(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=u&&"onScroll"===s&&$r("scroll",e):null!=u&&v(e,s,u,a))}switch(n){case"input":q(e),Z(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gl(t),null;case 6:if(e&&null!=t.stateNode)_l(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=rs(ns.current),rs(es.current),pi(t)){if(r=t.stateNode,n=t.memoizedProps,r[fo]=t,(s=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fo]=t,t.stateNode=r}return Gl(t),null;case 13:if(To(as),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))fi(),hi(),t.flags|=98560,s=!1;else if(s=pi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[fo]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gl(t),s=!1}else null!==si&&(lc(si),si=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&as.current)?0===_a&&(_a=3):gc())),null!==t.updateQueue&&(t.flags|=4),Gl(t),null);case 4:return is(),Dl(e,t),null===e&&Hr(t.stateNode.containerInfo),Gl(t),null;case 10:return Si(t.type._context),Gl(t),null;case 19:if(To(as),null===(s=t.memoizedState))return Gl(t),null;if(r=0!==(128&t.flags),null===(a=s.rendering))if(r)ql(s,!1);else{if(0!==_a||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=cs(e))){for(t.flags|=128,ql(s,!1),null!==(r=a.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(a=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Mo(as,1&as.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Ua&&(t.flags|=128,r=!0,ql(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(a))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ql(s,!0),null===s.tail&&"hidden"===s.tailMode&&!a.alternate&&!ii)return Gl(t),null}else 2*Xe()-s.renderingStartTime>Ua&&1073741824!==n&&(t.flags|=128,r=!0,ql(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=s.last)?n.sibling=a:t.child=a,s.last=a)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=as.current,Mo(as,r?1&n|2:1&n),t):(Gl(t),null);case 22:case 23:return pc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Da)&&(Gl(t),6&t.subtreeFlags&&(t.flags|=8192)):Gl(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Yl(e,t){switch(ni(t),t.tag){case 1:return Do(t.type)&&Lo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return is(),To(Oo),To(Ao),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ls(t),null;case 13:if(To(as),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return To(as),null;case 4:return is(),null;case 10:return Si(t.type._context),null;case 22:case 23:return pc(),null;default:return null}}Rl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Dl=function(){},Ll=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,rs(es.current);var i,s=null;switch(n){case"input":o=Y(e,o),r=Y(e,r),s=[];break;case"select":o=F({},o,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in be(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var a=o[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(null!=c||null!=a))if("style"===u)if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,a=a?a.__html:void 0,null!=c&&a!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&$r("scroll",e),s||a===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},_l=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jl=!1,Xl=!1,Ql="function"===typeof WeakSet?WeakSet:Set,Zl=null;function ea(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function ta(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var na=!1;function ra(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&ta(t,n,i)}o=o.next}while(o!==r)}}function oa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ia(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sa(e){var t=e.alternate;null!==t&&(e.alternate=null,sa(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fo],delete t[ho],delete t[go],delete t[yo],delete t[bo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function la(e){return 5===e.tag||3===e.tag||4===e.tag}function aa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||la(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ca(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ca(e,t,n),e=e.sibling;null!==e;)ca(e,t,n),e=e.sibling}function ua(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ua(e,t,n),e=e.sibling;null!==e;)ua(e,t,n),e=e.sibling}var da=null,pa=!1;function fa(e,t,n){for(n=n.child;null!==n;)ha(e,t,n),n=n.sibling}function ha(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(l){}switch(n.tag){case 5:Xl||ea(n,t);case 6:var r=da,o=pa;da=null,fa(e,t,n),pa=o,null!==(da=r)&&(pa?(e=da,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):da.removeChild(n.stateNode));break;case 18:null!==da&&(pa?(e=da,n=n.stateNode,8===e.nodeType?ao(e.parentNode,n):1===e.nodeType&&ao(e,n),Ht(e)):ao(da,n.stateNode));break;case 4:r=da,o=pa,da=n.stateNode.containerInfo,pa=!0,fa(e,t,n),da=r,pa=o;break;case 0:case 11:case 14:case 15:if(!Xl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&ta(n,t,s),o=o.next}while(o!==r)}fa(e,t,n);break;case 1:if(!Xl&&(ea(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Cc(n,t,l)}fa(e,t,n);break;case 21:fa(e,t,n);break;case 22:1&n.mode?(Xl=(r=Xl)||null!==n.memoizedState,fa(e,t,n),Xl=r):fa(e,t,n);break;default:fa(e,t,n)}}function ma(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ql),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ga(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,l=t,a=l;e:for(;null!==a;){switch(a.tag){case 5:da=a.stateNode,pa=!1;break e;case 3:case 4:da=a.stateNode.containerInfo,pa=!0;break e}a=a.return}if(null===da)throw Error(i(160));ha(s,l,o),da=null,pa=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(u){Cc(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ya(t,e),t=t.sibling}function ya(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ga(t,e),ba(e),4&r){try{ra(3,e,e.return),oa(3,e)}catch(g){Cc(e,e.return,g)}try{ra(5,e,e.return)}catch(g){Cc(e,e.return,g)}}break;case 1:ga(t,e),ba(e),512&r&&null!==n&&ea(n,n.return);break;case 5:if(ga(t,e),ba(e),512&r&&null!==n&&ea(n,n.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(g){Cc(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,l=null!==n?n.memoizedProps:s,a=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===a&&"radio"===s.type&&null!=s.name&&X(o,s),ve(a,l);var u=ve(a,s);for(l=0;l<c.length;l+=2){var d=c[l],p=c[l+1];"style"===d?ge(o,p):"dangerouslySetInnerHTML"===d?de(o,p):"children"===d?pe(o,p):v(o,d,p,u)}switch(a){case"input":Q(o,s);break;case"textarea":ie(o,s);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var h=s.value;null!=h?ne(o,!!s.multiple,h,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[ho]=s}catch(g){Cc(e,e.return,g)}}break;case 6:if(ga(t,e),ba(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){Cc(e,e.return,g)}}break;case 3:if(ga(t,e),ba(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){Cc(e,e.return,g)}break;case 4:default:ga(t,e),ba(e);break;case 13:ga(t,e),ba(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Ha=Xe())),4&r&&ma(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xl=(u=Xl)||d,ga(t,e),Xl=u):ga(t,e),ba(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zl=e,d=e.child;null!==d;){for(p=Zl=d;null!==Zl;){switch(h=(f=Zl).child,f.tag){case 0:case 11:case 14:case 15:ra(4,f,f.return);break;case 1:ea(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Cc(r,n,g)}}break;case 5:ea(f,f.return);break;case 22:if(null!==f.memoizedState){xa(p);continue}}null!==h?(h.return=f,Zl=h):xa(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{o=p.stateNode,u?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(a=p.stateNode,l=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,a.style.display=me("display",l))}catch(g){Cc(e,e.return,g)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){Cc(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ga(t,e),ba(e),4&r&&ma(e);case 21:}}function ba(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(la(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(pe(o,""),r.flags&=-33),ua(e,aa(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;ca(e,aa(e),s);break;default:throw Error(i(161))}}catch(l){Cc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function va(e,t,n){Zl=e,wa(e,t,n)}function wa(e,t,n){for(var r=0!==(1&e.mode);null!==Zl;){var o=Zl,i=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Jl;if(!s){var l=o.alternate,a=null!==l&&null!==l.memoizedState||Xl;l=Jl;var c=Xl;if(Jl=s,(Xl=a)&&!c)for(Zl=o;null!==Zl;)a=(s=Zl).child,22===s.tag&&null!==s.memoizedState?Sa(o):null!==a?(a.return=s,Zl=a):Sa(o);for(;null!==i;)Zl=i,wa(i,t,n),i=i.sibling;Zl=o,Jl=l,Xl=c}ka(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Zl=i):ka(e)}}function ka(e){for(;null!==Zl;){var t=Zl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xl||oa(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xl)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:yi(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&$i(t,s,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$i(t,l,n)}break;case 5:var a=t.stateNode;if(null===n&&4&t.flags){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Ht(p)}}}break;default:throw Error(i(163))}Xl||512&t.flags&&ia(t)}catch(f){Cc(t,t.return,f)}}if(t===e){Zl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zl=n;break}Zl=t.return}}function xa(e){for(;null!==Zl;){var t=Zl;if(t===e){Zl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zl=n;break}Zl=t.return}}function Sa(e){for(;null!==Zl;){var t=Zl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oa(4,t)}catch(a){Cc(t,n,a)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(a){Cc(t,o,a)}}var i=t.return;try{ia(t)}catch(a){Cc(t,i,a)}break;case 5:var s=t.return;try{ia(t)}catch(a){Cc(t,s,a)}}}catch(a){Cc(t,t.return,a)}if(t===e){Zl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Zl=l;break}Zl=t.return}}var Ea,Ca=Math.ceil,Ta=w.ReactCurrentDispatcher,Ma=w.ReactCurrentOwner,Na=w.ReactCurrentBatchConfig,Aa=0,Oa=null,Ia=null,Ra=0,Da=0,La=Co(0),_a=0,Pa=null,Fa=0,za=0,$a=0,Ba=null,ja=null,Ha=0,Ua=1/0,Wa=null,Va=!1,qa=null,Ga=null,Ka=!1,Ya=null,Ja=0,Xa=0,Qa=null,Za=-1,ec=0;function tc(){return 0!==(6&Aa)?Xe():-1!==Za?Za:Za=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Aa)&&0!==Ra?Ra&-Ra:null!==gi.transition?(0===ec&&(ec=mt()),ec):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Xa)throw Xa=0,Qa=null,Error(i(185));yt(e,n,r),0!==(2&Aa)&&e===Oa||(e===Oa&&(0===(2&Aa)&&(za|=n),4===_a&&ac(e,Ra)),oc(e,r),1===n&&0===Aa&&0===(1&t.mode)&&(Ua=Xe()+500,Bo&&Uo()))}function oc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),l=1<<s,a=o[s];-1===a?0!==(l&n)&&0===(l&r)||(o[s]=ft(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}(e,t);var r=pt(e,e===Oa?Ra:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Bo=!0,Ho(e)}(cc.bind(null,e)):Ho(cc.bind(null,e)),so((function(){0===(6&Aa)&&Uo()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Za=-1,ec=0,0!==(6&Aa))throw Error(i(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=pt(e,e===Oa?Ra:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var o=Aa;Aa|=2;var s=mc();for(Oa===e&&Ra===t||(Wa=null,Ua=Xe()+500,fc(e,t));;)try{vc();break}catch(a){hc(e,a)}xi(),Ta.current=s,Aa=o,null!==Ia?t=0:(Oa=null,Ra=0,t=_a)}if(0!==t){if(2===t&&(0!==(o=ht(e))&&(r=o,t=sc(e,o))),1===t)throw n=Pa,fc(e,0),ac(e,r),oc(e,Xe()),n;if(6===t)ac(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!lr(i(),o))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=yc(e,r))&&(0!==(s=ht(e))&&(r=s,t=sc(e,s))),1===t))throw n=Pa,fc(e,0),ac(e,r),oc(e,Xe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xc(e,ja,Wa);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Ha+500-Xe())){if(0!==pt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(xc.bind(null,e,ja,Wa),t);break}xc(e,ja,Wa);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-st(r);s=1<<l,(l=t[l])>o&&(o=l),r&=~s}if(r=o,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ca(r/1960))-r)){e.timeoutHandle=ro(xc.bind(null,e,ja,Wa),r);break}xc(e,ja,Wa);break;default:throw Error(i(329))}}}return oc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Ba;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=ja,ja=n,null!==t&&lc(t)),e}function lc(e){null===ja?ja=e:ja.push.apply(ja,e)}function ac(e,t){for(t&=~$a,t&=~za,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Aa))throw Error(i(327));Sc();var t=pt(e,0);if(0===(1&t))return oc(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Pa,fc(e,0),ac(e,t),oc(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,ja,Wa),oc(e,Xe()),null}function uc(e,t){var n=Aa;Aa|=1;try{return e(t)}finally{0===(Aa=n)&&(Ua=Xe()+500,Bo&&Uo())}}function dc(e){null!==Ya&&0===Ya.tag&&0===(6&Aa)&&Sc();var t=Aa;Aa|=1;var n=Na.transition,r=vt;try{if(Na.transition=null,vt=1,e)return e()}finally{vt=r,Na.transition=n,0===(6&(Aa=t))&&Uo()}}function pc(){Da=La.current,To(La)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Ia)for(n=Ia.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Lo();break;case 3:is(),To(Oo),To(Ao),ds();break;case 5:ls(r);break;case 4:is();break;case 13:case 19:To(as);break;case 10:Si(r.type._context);break;case 22:case 23:pc()}n=n.return}if(Oa=e,Ia=e=Lc(e.current,null),Ra=Da=t,_a=0,Pa=null,$a=za=Fa=0,ja=Ba=null,null!==Mi){for(t=0;t<Mi.length;t++)if(null!==(r=(n=Mi[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=o,r.next=s}n.pending=r}Mi=null}return e}function hc(e,t){for(;;){var n=Ia;try{if(xi(),ps.current=sl,bs){for(var r=ms.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}bs=!1}if(hs=0,ys=gs=ms=null,vs=!1,ws=0,Ma.current=null,null===n||null===n.return){_a=1,Pa=t,Ia=null;break}e:{var s=e,l=n.return,a=n,c=t;if(t=Ra,a.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=a,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=yl(l);if(null!==h){h.flags&=-257,bl(h,l,a,0,t),1&h.mode&&gl(s,u,t),c=u;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){gl(s,u,t),gc();break e}c=Error(i(426))}else if(ii&&1&a.mode){var y=yl(l);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),bl(y,l,a,0,t),mi(ul(c,a));break e}}s=c=ul(c,a),4!==_a&&(_a=2),null===Ba?Ba=[s]:Ba.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fi(s,hl(0,c,t));break e;case 1:a=c;var b=s.type,v=s.stateNode;if(0===(128&s.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Ga||!Ga.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t,Fi(s,ml(s,a,t));break e}}s=s.return}while(null!==s)}kc(n)}catch(w){t=w,Ia===n&&null!==n&&(Ia=n=n.return);continue}break}}function mc(){var e=Ta.current;return Ta.current=sl,null===e?sl:e}function gc(){0!==_a&&3!==_a&&2!==_a||(_a=4),null===Oa||0===(268435455&Fa)&&0===(268435455&za)||ac(Oa,Ra)}function yc(e,t){var n=Aa;Aa|=2;var r=mc();for(Oa===e&&Ra===t||(Wa=null,fc(e,t));;)try{bc();break}catch(o){hc(e,o)}if(xi(),Aa=n,Ta.current=r,null!==Ia)throw Error(i(261));return Oa=null,Ra=0,_a}function bc(){for(;null!==Ia;)wc(Ia)}function vc(){for(;null!==Ia&&!Ye();)wc(Ia)}function wc(e){var t=Ea(e.alternate,e,Da);e.memoizedProps=e.pendingProps,null===t?kc(e):Ia=t,Ma.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Kl(n,t,Da)))return void(Ia=n)}else{if(null!==(n=Yl(n,t)))return n.flags&=32767,void(Ia=n);if(null===e)return _a=6,void(Ia=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ia=t);Ia=t=e}while(null!==t);0===_a&&(_a=5)}function xc(e,t,n){var r=vt,o=Na.transition;try{Na.transition=null,vt=1,function(e,t,n,r){do{Sc()}while(null!==Ya);if(0!==(6&Aa))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,s),e===Oa&&(Ia=Oa=null,Ra=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ka||(Ka=!0,Oc(tt,(function(){return Sc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Na.transition,Na.transition=null;var l=vt;vt=1;var a=Aa;Aa|=4,Ma.current=null,function(e,t){if(eo=Wt,fr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(k){n=null;break e}var l=0,a=-1,c=-1,u=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==o&&3!==p.nodeType||(a=l+o),p!==s||0!==r&&3!==p.nodeType||(c=l+r),3===p.nodeType&&(l+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++u===o&&(a=l),f===s&&++d===r&&(c=l),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===a||-1===c?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Wt=!1,Zl=t;null!==Zl;)if(e=(t=Zl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zl=e;else for(;null!==Zl;){t=Zl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:yi(t.type,g),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(k){Cc(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Zl=e;break}Zl=t.return}m=na,na=!1}(e,n),ya(n,e),hr(to),Wt=!!eo,to=eo=null,e.current=n,va(n,e,o),Je(),Aa=a,vt=l,Na.transition=s}else e.current=n;if(Ka&&(Ka=!1,Ya=e,Ja=o),s=e.pendingLanes,0===s&&(Ga=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),oc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Va)throw Va=!1,e=qa,qa=null,e;0!==(1&Ja)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===Qa?Xa++:(Xa=0,Qa=e):Xa=0,Uo()}(e,t,n,r)}finally{Na.transition=o,vt=r}return null}function Sc(){if(null!==Ya){var e=wt(Ja),t=Na.transition,n=vt;try{if(Na.transition=null,vt=16>e?16:e,null===Ya)var r=!1;else{if(e=Ya,Ya=null,Ja=0,0!==(6&Aa))throw Error(i(331));var o=Aa;for(Aa|=4,Zl=e.current;null!==Zl;){var s=Zl,l=s.child;if(0!==(16&Zl.flags)){var a=s.deletions;if(null!==a){for(var c=0;c<a.length;c++){var u=a[c];for(Zl=u;null!==Zl;){var d=Zl;switch(d.tag){case 0:case 11:case 15:ra(8,d,s)}var p=d.child;if(null!==p)p.return=d,Zl=p;else for(;null!==Zl;){var f=(d=Zl).sibling,h=d.return;if(sa(d),d===u){Zl=null;break}if(null!==f){f.return=h,Zl=f;break}Zl=h}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Zl=s}}if(0!==(2064&s.subtreeFlags)&&null!==l)l.return=s,Zl=l;else e:for(;null!==Zl;){if(0!==(2048&(s=Zl).flags))switch(s.tag){case 0:case 11:case 15:ra(9,s,s.return)}var b=s.sibling;if(null!==b){b.return=s.return,Zl=b;break e}Zl=s.return}}var v=e.current;for(Zl=v;null!==Zl;){var w=(l=Zl).child;if(0!==(2064&l.subtreeFlags)&&null!==w)w.return=l,Zl=w;else e:for(l=v;null!==Zl;){if(0!==(2048&(a=Zl).flags))try{switch(a.tag){case 0:case 11:case 15:oa(9,a)}}catch(x){Cc(a,a.return,x)}if(a===l){Zl=null;break e}var k=a.sibling;if(null!==k){k.return=a.return,Zl=k;break e}Zl=a.return}}if(Aa=o,Uo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(x){}r=!0}return r}finally{vt=n,Na.transition=t}}return!1}function Ec(e,t,n){e=_i(e,t=hl(0,t=ul(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),oc(e,t))}function Cc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ga||!Ga.has(r))){t=_i(t,e=ml(t,e=ul(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),oc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Oa===e&&(Ra&n)===n&&(4===_a||3===_a&&(130023424&Ra)===Ra&&500>Xe()-Ha?fc(e,0):$a|=n),oc(e,t)}function Mc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Oi(e,t))&&(yt(e,t,n),oc(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Mc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Mc(e,n)}function Oc(e,t){return Ge(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Ic(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _c(e,t,n,r,o,s){var l=2;if(r=e,"function"===typeof e)Dc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case S:return Pc(n.children,o,s,t);case E:l=8,o|=8;break;case C:return(e=Rc(12,n,t,2|o)).elementType=C,e.lanes=s,e;case A:return(e=Rc(13,n,t,o)).elementType=A,e.lanes=s,e;case O:return(e=Rc(19,n,t,o)).elementType=O,e.lanes=s,e;case D:return Fc(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:l=10;break e;case M:l=9;break e;case N:l=11;break e;case I:l=14;break e;case R:l=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Rc(l,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function Pc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function $c(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,o,i,s,l,a){return e=new Bc(e,t,n,l,a),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Rc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ri(i),e}function Hc(e){if(!e)return No;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Do(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Do(n))return Po(e,n,t)}return t}function Uc(e,t,n,r,o,i,s,l,a){return(e=jc(n,r,!0,e,0,i,0,l,a)).context=Hc(null),n=e.current,(i=Li(r=tc(),o=nc(n))).callback=void 0!==t&&null!==t?t:null,_i(n,i,o),e.current.lanes=o,yt(e,o,r),oc(e,r),e}function Wc(e,t,n,r){var o=t.current,i=tc(),s=nc(o);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Li(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=_i(o,t,s))&&(rc(e,o,s,i),Pi(e,o,s)),s}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Ea=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oo.current)wl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wl=!1,function(e,t,n){switch(t.tag){case 3:Ol(t),hi();break;case 5:ss(t);break;case 1:Do(t.type)&&Fo(t);break;case 4:os(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Mo(bi,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Mo(as,1&as.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zl(e,t,n):(Mo(as,1&as.current),null!==(e=Vl(e,t,n))?e.sibling:null);Mo(as,1&as.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ul(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Mo(as,as.current),r)break;return null;case 22:case 23:return t.lanes=0,Cl(e,t,n)}return Vl(e,t,n)}(e,t,n);wl=0!==(131072&e.flags)}else wl=!1,ii&&0!==(1048576&t.flags)&&ei(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wl(e,t),e=t.pendingProps;var o=Ro(t,Ao.current);Ci(t,n),o=Es(null,t,r,e,o,n);var s=Cs();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Do(r)?(s=!0,Fo(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ri(t),o.updater=Hi,t.stateNode=o,o._reactInternals=t,qi(t,r,e,n),t=Al(null,t,r,!0,s,n)):(t.tag=0,ii&&s&&ti(t),kl(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wl(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===I)return 14}return 2}(r),e=yi(r,e),o){case 0:t=Ml(null,t,r,e,n);break e;case 1:t=Nl(null,t,r,e,n);break e;case 11:t=xl(null,t,r,e,n);break e;case 14:t=Sl(null,t,r,yi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ml(e,t,r,o=t.elementType===r?o:yi(r,o),n);case 1:return r=t.type,o=t.pendingProps,Nl(e,t,r,o=t.elementType===r?o:yi(r,o),n);case 3:e:{if(Ol(t),null===e)throw Error(i(387));r=t.pendingProps,o=(s=t.memoizedState).element,Di(e,t),zi(t,r,null,n);var l=t.memoizedState;if(r=l.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Il(e,t,r,n,o=ul(Error(i(423)),t));break e}if(r!==o){t=Il(e,t,r,n,o=ul(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,si=null,n=Qi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===o){t=Vl(e,t,n);break e}kl(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&ui(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,l=o.children,no(r,o)?l=null:null!==s&&no(r,s)&&(t.flags|=32),Tl(e,t),kl(e,t,l,n),t.child;case 6:return null===e&&ui(t),null;case 13:return zl(e,t,n);case 4:return os(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xi(t,null,r,n):kl(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,xl(e,t,r,o=t.elementType===r?o:yi(r,o),n);case 7:return kl(e,t,t.pendingProps,n),t.child;case 8:case 12:return kl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,l=o.value,Mo(bi,r._currentValue),r._currentValue=l,null!==s)if(lr(s.value,l)){if(s.children===o.children&&!Oo.current){t=Vl(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var a=s.dependencies;if(null!==a){l=s.child;for(var c=a.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Li(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ei(s.return,n,t),a.lanes|=n;break}c=c.next}}else if(10===s.tag)l=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(l=s.return))throw Error(i(341));l.lanes|=n,null!==(a=l.alternate)&&(a.lanes|=n),Ei(l,n,t),l=s.sibling}else l=s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===t){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}kl(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ci(t,n),r=r(o=Ti(o)),t.flags|=1,kl(e,t,r,n),t.child;case 14:return o=yi(r=t.type,t.pendingProps),Sl(e,t,r,o=yi(r.type,o),n);case 15:return El(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yi(r,o),Wl(e,t),t.tag=1,Do(r)?(e=!0,Fo(t)):e=!1,Ci(t,n),Wi(t,r,o),qi(t,r,o,n),Al(null,t,r,!0,e,n);case 19:return Ul(e,t,n);case 22:return Cl(e,t,n)}throw Error(i(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof o){var l=o;o=function(){var e=Vc(s);l.call(e)}}Wc(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Vc(s);i.call(e)}}var s=Uc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[mo]=s.current,Hr(8===e.nodeType?e.parentNode:e),dc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var l=r;r=function(){var e=Vc(a);l.call(e)}}var a=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=a,e[mo]=a.current,Hr(8===e.nodeType?e.parentNode:e),dc((function(){Wc(t,a,n,r)})),a}(n,t,e,o,r);return Vc(s)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Wc(null,e,null,null)})),t[mo]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),oc(t,Xe()),0===(6&Aa)&&(Ua=Xe()+500,Uo()))}break;case 13:dc((function(){var t=Oi(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Oi(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Oi(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},Et=function(){return vt},Ct=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},xe=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=xo(r);if(!o)throw Error(i(90));G(r),Q(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uc,Ae=dc;var tu={usingClientEntryPoint:!1,Events:[wo,ko,xo,Te,Me,uc]},nu={findFiberByHostInstance:vo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{ot=ou.inject(ru),it=ou}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(i(299));var n=!1,r="",o=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(i(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",l=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,o,0,s,l),e[mo]=t.current,Hr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Jc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(i(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(i(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{"use strict";var r=n(950);t.H=r.createRoot,r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!a.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:l.current}}t.jsx=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=v.prototype=new b;w.constructor=v,m(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,i={},s=null,l=null;if(null!=t)for(o in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,o)&&!E.hasOwnProperty(o)&&(i[o]=t[o]);var a=arguments.length-2;if(1===a)i.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in a=e.defaultProps)void 0===i[o]&&(i[o]=a[o]);return{$$typeof:n,type:e,key:s,ref:l,props:i,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var M=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,o,i,s){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var a=!1;if(null===e)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case n:case r:a=!0}}if(a)return s=s(a=e),e=""===i?"."+N(a,0):i,k(s)?(o="",null!=e&&(o=e.replace(M,"$&/")+"/"),A(s,t,o,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(M,"$&/")+"/")+e)),t.push(s)),1;if(a=0,i=""===i?".":i+":",k(e))for(var c=0;c<e.length;c++){var u=i+N(l=e[c],c);a+=A(l,t,o,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(l=e.next()).done;)a+=A(l=l.value,t,o,u=i+N(l,c++),s);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function O(e,t,n){if(null==e)return e;var r=[],o=0;return A(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=s,t.PureComponent=v,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==a?a[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];o.children=a}return{$$typeof:n,type:e.type,key:i,ref:s,props:o,_owner:l}},t.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var l=2*(r+1)-1,a=e[l],c=l+1,u=e[c];if(0>i(a,n))c<o&&0>i(u,a)?(e[r]=u,e[c]=n,r=c):(e[r]=a,e[l]=n,r=l);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var c=[],u=[],d=1,p=null,f=3,h=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,D(x);else{var t=r(u);null!==t&&L(k,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,b(T),T=-1),h=!0;var i=f;try{for(w(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!A());){var s=p.callback;if("function"===typeof s){p.callback=null,f=p.priorityLevel;var l=s(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?p.callback=l:p===r(c)&&o(c),w(n)}else o(c);p=r(c)}if(null!==p)var a=!0;else{var d=r(u);null!==d&&L(k,d.startTime-n),a=!1}return a}finally{p=null,f=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,C=null,T=-1,M=5,N=-1;function A(){return!(t.unstable_now()-N<M)}function O(){if(null!==C){var e=t.unstable_now();N=e;var n=!0;try{n=C(!0,e)}finally{n?S():(E=!1,C=null)}}else E=!1}if("function"===typeof v)S=function(){v(O)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,R=I.port2;I.port1.onmessage=O,S=function(){R.postMessage(null)}}else S=function(){y(O,0)};function D(e){C=e,E||(E=!0,S())}function L(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:l=i+l,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(b(T),T=-1):g=!0,L(k,i-s))):(e.sortIndex=l,n(c,e),m||h||(m=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{attentionMarkers:()=>Os,contentInitial:()=>Es,disable:()=>Is,document:()=>Ss,flow:()=>Ts,flowInitial:()=>Cs,insideSpan:()=>As,string:()=>Ms,text:()=>Ns});var t={};n.r(t),n.d(t,{boolean:()=>yx,booleanish:()=>bx,commaOrSpaceSeparated:()=>Sx,commaSeparated:()=>xx,number:()=>wx,overloadedBoolean:()=>vx,spaceSeparated:()=>kx});var r=n(391),o=n(43),i=Object.defineProperty,s=(e,t,n)=>(((e,t,n)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),l=(e=>(e.docTypeError="docTypeError",e.contextNotFound="contextNotFound",e.timerNotFound="timerNotFound",e.ctxCallOutOfScope="ctxCallOutOfScope",e.createNodeInParserFail="createNodeInParserFail",e.stackOverFlow="stackOverFlow",e.parserMatchError="parserMatchError",e.serializerMatchError="serializerMatchError",e.getAtomFromSchemaFail="getAtomFromSchemaFail",e.expectDomTypeError="expectDomTypeError",e.callCommandBeforeEditorView="callCommandBeforeEditorView",e.themeMustInstalled="themeMustInstalled",e.missingRootElement="missingRootElement",e.missingNodeInSchema="missingNodeInSchema",e.missingMarkInSchema="missingMarkInSchema",e.missingIcon="missingIcon",e.vueRendererCallOutOfScope="vueRendererCallOutOfScope",e.ctxNotBind="ctxNotBind",e.missingYjsDoc="missingYjsDoc",e.repeatCallsToMenuWrapperInit="repeatCallsToMenuWrapperInit",e.missingMenuWrapper="missingMenuWrapper",e))(l||{});class a extends Error{constructor(e,t){super(t),s(this,"code"),this.name="MilkdownError",this.code=e}}const c=(e,t)=>"function"==typeof t?"[Function]":t,u=e=>JSON.stringify(e,c),d=e=>new a(l.docTypeError,"Doc type error, unsupported type: ".concat(u(e))),p=()=>new a(l.ctxCallOutOfScope,"Should not call a context out of the plugin."),f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>{if(!t)return e;const n=e=>Array.isArray(e)?e.map((e=>n(e))).join(", "):e.toJSON?u(e.toJSON()):e.spec?u(e.spec):e.toString();return"".concat(e,", ").concat(n(t))}),"Create prosemirror node from remark failed in parser");return new a(l.createNodeInParserFail,r)},h=()=>new a(l.stackOverFlow,"Stack over flow, cannot pop on an empty stack."),m=e=>new a(l.parserMatchError,"Cannot match target parser for node: ".concat(u(e),".")),g=e=>new a(l.serializerMatchError,"Cannot match target serializer for node: ".concat(u(e),".")),y=e=>new a(l.expectDomTypeError,"Expect to be a dom, but get: ".concat(u(e),".")),b=()=>new a(l.callCommandBeforeEditorView,"You're trying to call a command before editor view initialized, make sure to get commandManager from ctx after editor view has been initialized"),v=()=>new a(l.themeMustInstalled,"It seems that no theme found in editor, please make sure you have use theme in front of all plugins.\nIf you prefer to use an empty theme, you can use `themeFactory({})`."),w=()=>new a(l.missingRootElement,"Missing root element, milkdown cannot find root element of the editor."),k=e=>new a(l.missingIcon,'Missing icon in theme, milkdown cannot find icon "'.concat(e,'" in theme.')),x=()=>new a(l.missingMenuWrapper,"Missing menu wrapper, should init menu wrapper first.");var S=Object.defineProperty,E=(e,t,n)=>(((e,t,n)=>{t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),C=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},T=(e,t,n)=>(C(e,t,"read from private field"),n?n.call(e):t.get(e)),M=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},N=(e,t,n,r)=>(C(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);const A=()=>{const e=new Map;return{sliceMap:e,getSlice:t=>{const n="string"==typeof t?[...e.values()].find((e=>e.name===t)):e.get(t.id);if(!n){throw(e=>new a(l.contextNotFound,'Context "'.concat(e,'" not found, do you forget to inject it?')))("string"==typeof t?t:t.sliceName)}return n},removeSlice:t=>{const n="string"==typeof t?[...e.values()].find((e=>e.name===t)):e.get(t.id);!n||e.delete(n.id)}}},O=(e,t)=>{const n=Symbol("Context-".concat(t)),r=function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e=>Array.isArray(e)?[...e]:"object"==typeof e?{...e}:e)(e),i=o;const s={name:t,id:n,set:e=>{i=e},get:()=>i,update:e=>{i=e(i)}};return r.set(n,s),s};return r.sliceName=t,r.id=n,r._typeInfo=()=>{throw p()},r};var I,R,D,L,_,P,F,z;class ${constructor(e,t){M(this,I,void 0),M(this,R,void 0),E(this,"use",(e=>T(this,I).getSlice(e))),E(this,"get",(e=>this.use(e).get())),E(this,"set",((e,t)=>this.use(e).set(t))),E(this,"update",((e,t)=>this.use(e).update(t))),E(this,"timing",(e=>T(this,R).get(e))),E(this,"done",(e=>this.timing(e).done())),E(this,"wait",(e=>this.timing(e)())),E(this,"waitTimers",(async e=>{await Promise.all(this.get(e).map((e=>this.wait(e))))})),N(this,I,e),N(this,R,t)}}I=new WeakMap,R=new WeakMap;class B{constructor(e,t){M(this,D,void 0),M(this,L,void 0),E(this,"inject",((e,t)=>(e(T(this,D).sliceMap,t),this))),E(this,"remove",(e=>(T(this,D).removeSlice(e),this))),E(this,"record",(e=>(e(T(this,L).store),this))),E(this,"clearTimer",(e=>(T(this,L).remove(e),this))),E(this,"use",(e=>T(this,D).getSlice(e))),E(this,"get",(e=>this.use(e).get())),E(this,"set",((e,t)=>this.use(e).set(t))),E(this,"update",((e,t)=>this.use(e).update(t))),E(this,"timing",(e=>T(this,L).get(e))),E(this,"wait",(e=>this.timing(e)())),E(this,"done",(e=>this.timing(e).done())),E(this,"waitTimers",(async e=>{await Promise.all(this.get(e).map((e=>this.wait(e))))})),N(this,D,e),N(this,L,t)}}D=new WeakMap,L=new WeakMap;class j{constructor(e,t){M(this,_,void 0),M(this,P,void 0),E(this,"clearTimer",(e=>(T(this,P).remove(e),this))),E(this,"remove",(e=>(T(this,_).removeSlice(e),this))),N(this,_,e),N(this,P,t)}}_=new WeakMap,P=new WeakMap;class H{constructor(e,t){M(this,F,void 0),M(this,z,void 0),E(this,"inject",((e,t)=>(e(T(this,F).sliceMap,t),this))),E(this,"record",(e=>(e(T(this,z).store),this))),N(this,F,e),N(this,z,t)}}F=new WeakMap,z=new WeakMap;const U=()=>{const e=new Map;return{store:e,get:t=>{const n=e.get(t.id);if(!n)throw(e=>new a(l.timerNotFound,'Timer "'.concat(e,'" not found, do you forget to record it?')))(t.timerName);return n},remove:t=>{e.delete(t.id)}}},W=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;const n=Symbol("Timer"),r=r=>{let o,i=null;const s=Symbol(e),l=()=>null!=i?i:i=new Promise(((n,r)=>{o=t=>{t instanceof CustomEvent&&t.detail.id===s&&(removeEventListener(e,o),t.stopImmediatePropagation(),n())},setTimeout((()=>{r(new Error("Timing ".concat(e," timeout."))),removeEventListener(e,o)}),t),addEventListener(e,o)}));return l.done=()=>{const t=new CustomEvent(e,{detail:{id:s}});dispatchEvent(t)},r.set(n,l),l};return r.id=n,r.timerName=e,r};var V=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(BE){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),q=Math.abs,G=String.fromCharCode,K=Object.assign;function Y(e){return e.trim()}function J(e,t,n){return e.replace(t,n)}function X(e,t){return e.indexOf(t)}function Q(e,t){return 0|e.charCodeAt(t)}function Z(e,t,n){return e.slice(t,n)}function ee(e){return e.length}function te(e){return e.length}function ne(e,t){return t.push(e),e}var re=1,oe=1,ie=0,se=0,le=0,ae="";function ce(e,t,n,r,o,i,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:re,column:oe,length:s,return:""}}function ue(e,t){return K(ce("",null,null,"",null,null,0),e,{length:-e.length},t)}function de(){return le=se>0?Q(ae,--se):0,oe--,10===le&&(oe=1,re--),le}function pe(){return le=se<ie?Q(ae,se++):0,oe++,10===le&&(oe=1,re++),le}function fe(){return Q(ae,se)}function he(){return se}function me(e,t){return Z(ae,e,t)}function ge(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ye(e){return re=oe=1,ie=ee(ae=e),se=0,[]}function be(e){return ae="",e}function ve(e){return Y(me(se-1,xe(91===e?e+2:40===e?e+1:e)))}function we(e){for(;(le=fe())&&le<33;)pe();return ge(e)>2||ge(le)>3?"":" "}function ke(e,t){for(;--t&&pe()&&!(le<48||le>102||le>57&&le<65||le>70&&le<97););return me(e,he()+(t<6&&32==fe()&&32==pe()))}function xe(e){for(;pe();)switch(le){case e:return se;case 34:case 39:34!==e&&39!==e&&xe(le);break;case 40:41===e&&xe(e);break;case 92:pe()}return se}function Se(e,t){for(;pe()&&e+le!==57&&(e+le!==84||47!==fe()););return"/*"+me(t,se-1)+"*"+G(47===e?e:pe())}function Ee(e){for(;!ge(fe());)pe();return me(e,se)}var Ce="-ms-",Te="-moz-",Me="-webkit-",Ne="comm",Ae="rule",Oe="decl",Ie="@keyframes";function Re(e,t){for(var n="",r=te(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function De(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Oe:return e.return=e.return||e.value;case Ne:return"";case Ie:return e.return=e.value+"{"+Re(e.children,r)+"}";case Ae:e.value=e.props.join(",")}return ee(n=Re(e.children,r))?e.return=e.value+"{"+n+"}":""}function Le(e){return be(_e("",null,null,null,[""],e=ye(e),0,[0],e))}function _e(e,t,n,r,o,i,s,l,a){for(var c=0,u=0,d=s,p=0,f=0,h=0,m=1,g=1,y=1,b=0,v="",w=o,k=i,x=r,S=v;g;)switch(h=b,b=pe()){case 40:if(108!=h&&58==Q(S,d-1)){-1!=X(S+=J(ve(b),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=ve(b);break;case 9:case 10:case 13:case 32:S+=we(h);break;case 92:S+=ke(he()-1,7);continue;case 47:switch(fe()){case 42:case 47:ne(Fe(Se(pe(),he()),t,n),a);break;default:S+="/"}break;case 123*m:l[c++]=ee(S)*y;case 125*m:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+u:-1==y&&(S=J(S,/\f/g,"")),f>0&&ee(S)-d&&ne(f>32?ze(S+";",r,n,d-1):ze(J(S," ","")+";",r,n,d-2),a);break;case 59:S+=";";default:if(ne(x=Pe(S,t,n,c,u,o,l,v,w=[],k=[],d),i),123===b)if(0===u)_e(S,t,x,x,w,i,d,l,k);else switch(99===p&&110===Q(S,3)?100:p){case 100:case 108:case 109:case 115:_e(e,x,x,r&&ne(Pe(e,x,x,0,0,o,l,v,o,w=[],d),k),o,k,d,l,r?w:k);break;default:_e(S,x,x,x,[""],k,0,l,k)}}c=u=f=0,m=y=1,v=S="",d=s;break;case 58:d=1+ee(S),f=h;default:if(m<1)if(123==b)--m;else if(125==b&&0==m++&&125==de())continue;switch(S+=G(b),b*m){case 38:y=u>0?1:(S+="\f",-1);break;case 44:l[c++]=(ee(S)-1)*y,y=1;break;case 64:45===fe()&&(S+=ve(pe())),p=fe(),u=d=ee(v=S+=Ee(he())),b++;break;case 45:45===h&&2==ee(S)&&(m=0)}}return i}function Pe(e,t,n,r,o,i,s,l,a,c,u){for(var d=o-1,p=0===o?i:[""],f=te(p),h=0,m=0,g=0;h<r;++h)for(var y=0,b=Z(e,d+1,d=q(m=s[h])),v=e;y<f;++y)(v=Y(m>0?p[y]+" "+b:J(b,/&\f/g,p[y])))&&(a[g++]=v);return ce(e,t,n,0===o?Ae:l,a,c,u)}function Fe(e,t,n){return ce(e,t,n,Ne,G(le),Z(e,2,-2),0)}function ze(e,t,n,r){return ce(e,t,n,Oe,Z(e,0,r),Z(e,r+1,-1),r)}var $e=function(e,t,n){for(var r=0,o=0;r=o,o=fe(),38===r&&12===o&&(t[n]=1),!ge(o);)pe();return me(e,se)},Be=function(e,t){return be(function(e,t){var n=-1,r=44;do{switch(ge(r)){case 0:38===r&&12===fe()&&(t[n]=1),e[n]+=$e(se-1,t,n);break;case 2:e[n]+=ve(r);break;case 4:if(44===r){e[++n]=58===fe()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=G(r)}}while(r=pe());return e}(ye(e),t))},je=new WeakMap,He=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||je.get(n))&&!r){je.set(e,!0);for(var o=[],i=Be(t,o),s=n.props,l=0,a=0;l<i.length;l++)for(var c=0;c<s.length;c++,a++)e.props[a]=o[l]?i[l].replace(/&\f/g,s[c]):s[c]+" "+i[l]}}},Ue=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function We(e,t){switch(function(e,t){return 45^Q(e,0)?(((t<<2^Q(e,0))<<2^Q(e,1))<<2^Q(e,2))<<2^Q(e,3):0}(e,t)){case 5103:return Me+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Me+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Me+e+Te+e+Ce+e+e;case 6828:case 4268:return Me+e+Ce+e+e;case 6165:return Me+e+Ce+"flex-"+e+e;case 5187:return Me+e+J(e,/(\w+).+(:[^]+)/,Me+"box-$1$2"+Ce+"flex-$1$2")+e;case 5443:return Me+e+Ce+"flex-item-"+J(e,/flex-|-self/,"")+e;case 4675:return Me+e+Ce+"flex-line-pack"+J(e,/align-content|flex-|-self/,"")+e;case 5548:return Me+e+Ce+J(e,"shrink","negative")+e;case 5292:return Me+e+Ce+J(e,"basis","preferred-size")+e;case 6060:return Me+"box-"+J(e,"-grow","")+Me+e+Ce+J(e,"grow","positive")+e;case 4554:return Me+J(e,/([^-])(transform)/g,"$1"+Me+"$2")+e;case 6187:return J(J(J(e,/(zoom-|grab)/,Me+"$1"),/(image-set)/,Me+"$1"),e,"")+e;case 5495:case 3959:return J(e,/(image-set\([^]*)/,Me+"$1$`$1");case 4968:return J(J(e,/(.+:)(flex-)?(.*)/,Me+"box-pack:$3"+Ce+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Me+e+e;case 4095:case 3583:case 4068:case 2532:return J(e,/(.+)-inline(.+)/,Me+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ee(e)-1-t>6)switch(Q(e,t+1)){case 109:if(45!==Q(e,t+4))break;case 102:return J(e,/(.+:)(.+)-([^]+)/,"$1"+Me+"$2-$3$1"+Te+(108==Q(e,t+3)?"$3":"$2-$3"))+e;case 115:return~X(e,"stretch")?We(J(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Q(e,t+1))break;case 6444:switch(Q(e,ee(e)-3-(~X(e,"!important")&&10))){case 107:return J(e,":",":"+Me)+e;case 101:return J(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Me+(45===Q(e,14)?"inline-":"")+"box$3$1"+Me+"$2$3$1"+Ce+"$2box$3")+e}break;case 5936:switch(Q(e,t+11)){case 114:return Me+e+Ce+J(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Me+e+Ce+J(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Me+e+Ce+J(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Me+e+Ce+e+e}return e}var Ve=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Oe:e.return=We(e.value,e.length);break;case Ie:return Re([ue(e,{value:J(e.value,"@","@"+Me)})],r);case Ae:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Re([ue(e,{props:[J(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Re([ue(e,{props:[J(t,/:(plac\w+)/,":"+Me+"input-$1")]}),ue(e,{props:[J(t,/:(plac\w+)/,":-moz-$1")]}),ue(e,{props:[J(t,/:(plac\w+)/,Ce+"input-$1")]})],r)}return""}))}}],qe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Ve;var o,i,s={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;l.push(e)}));var a,c,u=[De,(c=function(e){a.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=te(e);return function(n,r,o,i){for(var s="",l=0;l<t;l++)s+=e[l](n,r,o,i)||"";return s}}([He,Ue].concat(r,u));i=function(e,t,n,r){a=n,function(e){Re(Le(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new V({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:i};return p.sheet.hydrate(l),p},Ge=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Ke=(e,t,n)=>(Ge(e,t,"read from private field"),n?n.call(e):t.get(e)),Ye=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};var Je={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Xe(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Qe=/[A-Z]|^ms/g,Ze=/_EMO_([^_]+?)_([^]*?)_EMO_/g,et=function(e){return 45===e.charCodeAt(1)},tt=function(e){return null!=e&&"boolean"!=typeof e},nt=Xe((function(e){return et(e)?e:e.replace(Qe,"-$&").toLowerCase()})),rt=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Ze,(function(e,t,n){return it={name:t,styles:n,next:it},t}))}return 1===Je[e]||et(e)||"number"!=typeof t||0===t?t:t+"px"};function ot(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return it={name:n.name,styles:n.styles,next:it},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)it={name:r.name,styles:r.styles,next:it},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=ot(e,t,n[o])+";";else for(var i in n){var s=n[i];if("object"!=typeof s)null!=t&&void 0!==t[s]?r+=i+"{"+t[s]+"}":tt(s)&&(r+=nt(i)+":"+rt(i,s)+";");else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=ot(e,t,s);switch(i){case"animation":case"animationName":r+=nt(i)+":"+l+";";break;default:r+=i+"{"+l+"}"}}else for(var a=0;a<s.length;a++)tt(s[a])&&(r+=nt(i)+":"+rt(i,s[a])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=it,i=n(e);return it=o,ot(e,t,i)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var it,st=/label:\s*([^\s;\n{]+)\s*(;|$)/g,lt=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";it=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=ot(n,t,i)):o+=i[0];for(var s=1;s<e.length;s++)o+=ot(n,t,e[s]),r&&(o+=i[s]);st.lastIndex=0;for(var l,a="";null!==(l=st.exec(o));)a+="-"+l[1];var c=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+a;return{name:c,styles:o,next:it}};function at(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}function ct(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function ut(e,t,n){var r=[],o=at(e,r,n);return r.length<2?n:o+t(r)}var dt=function e(t){for(var n="",r=0;r<t.length;r++){var o=t[r];if(null!=o){var i=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))i=e(o);else for(var s in i="",o)o[s]&&s&&(i&&(i+=" "),i+=s);break;default:i=o}i&&(n&&(n+=" "),n+=i)}}return n};const pt=function(e){var t=qe(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=lt(n,t.registered,void 0);return function(e,t,n){!function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)}(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}(t,o,!1),t.key+"-"+o.name};return{css:n,cx:function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return ut(t.registered,n,dt(r))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=lt(n,t.registered);ct(t,o)},keyframes:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=lt(n,t.registered),i="animation-"+o.name;return ct(t,{name:o.name,styles:"@keyframes "+i+"{"+o.styles+"}"}),i},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:at.bind(null,t.registered),merge:ut.bind(null,t.registered,n)}},ft=O({key:"milkdown"},"EmotionConfig"),ht=O({},"Emotion"),mt=e=>O((()=>null),e);var gt,yt,bt,vt;class wt{constructor(){Ye(this,gt,A()),Ye(this,yt,new Map),Ye(this,bt,new Set),Ye(this,vt,(()=>{}))}inject(e){e(Ke(this,gt).sliceMap)}has(e){const t="string"==typeof e?e:e.sliceName;return!!Ke(this,yt).has(t)||null!=Ke(this,gt).getSlice(e).get()(null)}set(e,t){const n="string"==typeof e?e:e.sliceName;Ke(this,yt).set(n,t)}get(e,t){const n="string"==typeof e?e:e.sliceName,r=Ke(this,yt).get(n);return r&&(Ke(this,gt).getSlice(e).set(r),Ke(this,yt).delete(e)),Ke(this,gt).getSlice(e).get()(t)}getSlice(e){const t="string"==typeof e?e:e.sliceName,n=Ke(this,yt).get(t);return n&&(Ke(this,gt).getSlice(e).set(n),Ke(this,yt).delete(e)),Ke(this,gt).getSlice(e).get()}onFlush(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Ke(this,bt).has(e)||Ke(this,bt).add(e),t&&e()}async switch(e,t){e.get(ht).flush(),await t(e)(e),this.runExecutor(),Ke(this,bt).forEach((e=>e()))}flush(e){e.get(ht).flush(),this.runExecutor(),Ke(this,bt).forEach((e=>e()))}setExecutor(e){e(),((e,t,n,r)=>{Ge(e,t,"write to private field"),r?r.call(e,n):t.set(e,n)})(this,vt,e)}runExecutor(){Ke(this,vt).call(this)}}gt=new WeakMap,yt=new WeakMap,bt=new WeakMap,vt=new WeakMap;const kt=O(new wt,"themeManager"),xt=mt("border"),St=mt("color"),Et=mt("font"),Ct=mt("global"),Tt=mt("icon"),Mt=mt("code-fence"),Nt=mt("image"),At=mt("inner-editor"),Ot=mt("input-chip"),It=mt("task-list-item"),Rt=mt("scrollbar"),Dt=mt("shadow"),Lt=mt("size"),_t=[St,Lt,Et,Rt,Dt,xt,Tt,Ct,Mt,Nt,At,It,Ot],Pt=e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.get(St,[t,n])};function Ft(e){this.content=e}Ft.prototype={constructor:Ft,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),i=r.content.slice();return-1==o?i.push(n||e,t):(i[o+1]=t,n&&(i[o]=n)),new Ft(i)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new Ft(n)},addToStart:function(e,t){return new Ft([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Ft(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),i=r.find(e);return o.splice(-1==i?o.length:i,0,t,n),new Ft(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=Ft.from(e)).size?new Ft(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=Ft.from(e)).size?new Ft(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Ft.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach((function(t,n){e[t]=n})),e},get size(){return this.content.length>>1}},Ft.from=function(e){if(e instanceof Ft)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Ft(t)};const zt=Ft;function $t(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),i=t.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let e=0;o.text[e]==i.text[e];e++)n++;return n}if(o.content.size||i.content.size){let e=$t(o.content,i.content,n+1);if(null!=e)return e}n+=o.nodeSize}else n+=o.nodeSize}}function Bt(e,t,n,r){for(let o=e.childCount,i=t.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};let s=e.child(--o),l=t.child(--i),a=s.nodeSize;if(s!=l){if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let e=0,t=Math.min(s.text.length,l.text.length);for(;e<t&&s.text[s.text.length-e-1]==l.text[l.text.length-e-1];)e++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let e=Bt(s.content,l.content,n-1,r-1);if(e)return e}n-=a,r-=a}else n-=a,r-=a}}class jt{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0;for(let i=0,s=0;s<t;i++){let l=this.content[i],a=s+l.nodeSize;if(a>e&&!1!==n(l,r+s,o||null,i)&&l.content.size){let o=s+1;l.nodesBetween(Math.max(0,e-o),Math.min(l.content.size,t-o),n,r+o)}s=a}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let o="",i=!0;return this.nodesBetween(e,t,((s,l)=>{let a=s.isText?s.text.slice(Math.max(e,l)-l,t-l):s.isLeaf?r?"function"===typeof r?r(s):r:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&a||s.isTextblock)&&n&&(i?i=!1:o+=n),o+=a}),0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new jt(r,this.size+e.size)}cut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size;if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let o=0,i=0;i<t;o++){let s=this.content[o],l=i+s.nodeSize;l>e&&((i<e||l>t)&&(s=s.isText?s.cut(Math.max(0,e-i),Math.min(s.text.length,t-i)):s.cut(Math.max(0,e-i-1),Math.min(s.content.size,t-i-1))),n.push(s),r+=s.nodeSize),i=l}return new jt(n,r)}cutByIndex(e,t){return e==t?jt.empty:0==e&&t==this.content.length?this:new jt(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new jt(r,o)}addToStart(e){return new jt([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new jt(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e){return $t(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}findDiffEnd(e){return Bt(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size,arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.size)}findIndex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(0==e)return Ut(0,e);if(e==this.size)return Ut(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position ".concat(e," outside of fragment (").concat(this,")"));for(let n=0,r=0;;n++){let o=r+this.child(n).nodeSize;if(o>=e)return o==e||t>0?Ut(n+1,o):Ut(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((e=>e.toJSON())):null}static fromJSON(e,t){if(!t)return jt.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new jt(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return jt.empty;let t,n=0;for(let r=0;r<e.length;r++){let o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new jt(t||e,n)}static from(e){if(!e)return jt.empty;if(e instanceof jt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new jt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}jt.empty=new jt([],0);const Ht={index:0,offset:0};function Ut(e,t){return Ht.index=e,Ht.offset=t,Ht}function Wt(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!Wt(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!Wt(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class Vt{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Wt(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type ".concat(t.type," in this schema"));return n.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return Vt.none;if(e instanceof Vt)return[e];let t=e.slice();return t.sort(((e,t)=>e.type.rank-t.type.rank)),t}}Vt.none=[];class qt extends Error{}class Gt{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=Yt(this.content,e+this.openStart,t);return n&&new Gt(n,this.openStart,this.openEnd)}removeBetween(e,t){return new Gt(Kt(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Gt.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new Gt(jt.fromJSON(e,t.content),n,r)}static maxOpen(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0,r=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)r++;return new Gt(e,n,r)}}function Kt(e,t,n){let{index:r,offset:o}=e.findIndex(t),i=e.maybeChild(r),{index:s,offset:l}=e.findIndex(n);if(o==t||i.isText){if(l!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(Kt(i.content,t-o-1,n-o-1)))}function Yt(e,t,n,r){let{index:o,offset:i}=e.findIndex(t),s=e.maybeChild(o);if(i==t||s.isText)return r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));let l=Yt(s.content,t-i-1,n);return l&&e.replaceChild(o,s.copy(l))}function Jt(e,t,n){if(n.openStart>e.depth)throw new qt("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new qt("Inconsistent open depths");return Xt(e,t,n,0)}function Xt(e,t,n,r){let o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let s=Xt(e,t,n,r+1);return i.copy(i.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:o,end:s}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)r=t.node(o).copy(jt.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return nn(i,rn(e,o,s,t,r))}{let r=e.parent,o=r.content;return nn(r,o.cut(0,e.parentOffset).append(n.content).append(o.cut(t.parentOffset)))}}return nn(i,on(e,t,r))}function Qt(e,t){if(!t.type.compatibleContent(e.type))throw new qt("Cannot join "+t.type.name+" onto "+e.type.name)}function Zt(e,t,n){let r=e.node(n);return Qt(r,t.node(n)),r}function en(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function tn(e,t,n,r){let o=(t||e).node(n),i=0,s=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(en(e.nodeAfter,r),i++));for(let l=i;l<s;l++)en(o.child(l),r);t&&t.depth==n&&t.textOffset&&en(t.nodeBefore,r)}function nn(e,t){return e.type.checkContent(t),e.copy(t)}function rn(e,t,n,r,o){let i=e.depth>o&&Zt(e,t,o+1),s=r.depth>o&&Zt(n,r,o+1),l=[];return tn(null,e,o,l),i&&s&&t.index(o)==n.index(o)?(Qt(i,s),en(nn(i,rn(e,t,n,r,o+1)),l)):(i&&en(nn(i,on(e,t,o+1)),l),tn(t,n,o,l),s&&en(nn(s,on(n,r,o+1)),l)),tn(r,null,o,l),new jt(l)}function on(e,t,n){let r=[];if(tn(null,e,n,r),e.depth>n){en(nn(Zt(e,t,n+1),on(e,t,n+1)),r)}return tn(t,null,n,r),new jt(r)}Gt.empty=new Gt(jt.empty,0,0);class sn{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let o=0;o<e;o++)r+=n.child(o).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return Vt.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let o=n.marks;for(var i=0;i<o.length;i++)!1!==o[i].type.spec.inclusive||r&&o[i].isInSet(r.marks)||(o=o[i--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=arguments.length>1?arguments[1]:void 0;if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new un(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,o=t;for(let i=e;;){let{index:e,offset:t}=i.content.findIndex(o),s=o-t;if(n.push(i,e,r+t),!s)break;if(i=i.child(e),i.isText)break;o=s-1,r+=t+1}return new sn(t,n,o)}static resolveCached(e,t){for(let r=0;r<ln.length;r++){let n=ln[r];if(n.pos==t&&n.doc==e)return n}let n=ln[an]=sn.resolve(e,t);return an=(an+1)%cn,n}}let ln=[],an=0,cn=12;class un{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const dn=Object.create(null);class pn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Vt.none;this.type=e,this.attrs=t,this.marks=r,this.content=n||jt.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&Wt(this.attrs,t||e.defaultAttrs||dn)&&Vt.sameSet(this.marks,n||Vt.none)}copy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e==this.content?this:new pn(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new pn(this.type,this.attrs,this.content,e)}cut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size;return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e==t)return Gt.empty;let r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),s=r.start(i),l=r.node(i).content.cut(r.pos-s,o.pos-s);return new Gt(l,r.depth-i,o.depth-i)}replace(e,t,n){return Jt(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return sn.resolveCached(this,e)}resolveNoCache(e){return sn.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,(e=>(n.isInSet(e.marks)&&(r=!0),!r))),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),hn(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jt.empty,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.childCount,i=this.contentMatchAt(e).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let l=r;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Vt.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!Vt.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map((e=>e.type.name))));this.content.forEach((e=>e.check()))}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((e=>e.toJSON()))),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=jt.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)}}pn.prototype.text=void 0;class fn extends pn{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):hn(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new fn(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new fn(this.type,this.attrs,e,this.marks)}cut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.text.length;return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function hn(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class mn{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new gn(e,t);if(null==n.next)return mn.empty;let r=yn(n);n.next&&n.err("Unexpected trailing text");let o=function(e){let t=Object.create(null);return n(Sn(e,0));function n(r){let o=[];r.forEach((t=>{e[t].forEach((t=>{let n,{term:r,to:i}=t;if(r){for(let e=0;e<o.length;e++)o[e][0]==r&&(n=o[e][1]);Sn(e,i).forEach((e=>{n||o.push([r,n=[]]),-1==n.indexOf(e)&&n.push(e)}))}}))}));let i=t[r.join(",")]=new mn(r.indexOf(e.length-1)>-1);for(let e=0;e<o.length;e++){let r=o[e][1].sort(xn);i.next.push({type:o[e][0],next:t[r.join(",")]||n(r)})}return i}}(function(e){let t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach((e=>e.to=t))}function i(e,t){if("choice"==e.type)return e.exprs.reduce(((e,n)=>e.concat(i(n,t))),[]);if("seq"!=e.type){if("star"==e.type){let s=n();return r(t,s),o(i(e.expr,s),s),[r(s)]}if("plus"==e.type){let s=n();return o(i(e.expr,t),s),o(i(e.expr,s),s),[r(s)]}if("opt"==e.type)return[r(t)].concat(i(e.expr,t));if("range"==e.type){let s=t;for(let t=0;t<e.min;t++){let t=n();o(i(e.expr,s),t),s=t}if(-1==e.max)o(i(e.expr,s),s);else for(let t=e.min;t<e.max;t++){let t=n();r(s,t),o(i(e.expr,s),t),s=t}return[r(s)]}if("name"==e.type)return[r(t,void 0,e.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let s=i(e.exprs[r],t);if(r==e.exprs.length-1)return s;o(s,t=n())}}}(r));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],o=!e.validEnd,i=[];for(let t=0;t<e.next.length;t++){let{type:n,next:s}=e.next[t];i.push(n.name),!o||n.isText||n.hasRequiredAttrs()||(o=!1),-1==r.indexOf(s)&&r.push(s)}o&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.childCount,r=this;for(let o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[this];return function o(i,s){let l=i.matchFragment(e,n);if(l&&(!t||l.validEnd))return jt.from(s.map((e=>e.createAndFill())));for(let e=0;e<i.next.length;e++){let{type:t,next:n}=i.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=o(n,s.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),o=r.match;if(o.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<o.next.length;e++){let{type:i,next:s}=o.next[e];i.isLeaf||i.hasRequiredAttrs()||i.name in t||r.type&&!s.validEnd||(n.push({match:i.contentMatch,type:i,via:r}),t[i.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError("There's no ".concat(e,"th edge in this content match"));return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map(((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let o=0;o<t.next.length;o++)r+=(o?", ":"")+t.next[o].type.name+"->"+e.indexOf(t.next[o].next);return r})).join("\n")}}mn.empty=new mn(!0);class gn{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function yn(e){let t=[];do{t.push(bn(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function bn(e){let t=[];do{t.push(vn(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function vn(e){let t=function(e){if(e.eat("(")){let t=yn(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let i in n){let e=n[i];e.groups.indexOf(t)>-1&&o.push(e)}0==o.length&&e.err("No node type or group '"+t+"' found");return o}(e,e.next).map((t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t})));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=kn(e,t)}return t}function wn(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function kn(e,t){let n=wn(e),r=n;return e.eat(",")&&(r="}"!=e.next?wn(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function xn(e,t){return t-e}function Sn(e,t){let n=[];return function t(r){let o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(let e=0;e<o.length;e++){let{term:r,to:i}=o[e];r||-1!=n.indexOf(i)||t(i)}}(t),n.sort(xn)}function En(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function Cn(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(void 0===o){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=t.default}n[r]=o}return n}function Tn(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new Nn(e[n]);return t}class Mn{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=Tn(n.attrs),this.defaultAttrs=En(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==mn.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Cn(this.attrs,e)}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new pn(this,this.computeAttrs(e),jt.from(t),Vt.setFrom(n))}createChecked(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return t=jt.from(t),this.checkContent(t),new pn(this,this.computeAttrs(e),t,Vt.setFrom(n))}createAndFill(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(e=this.computeAttrs(e),t=jt.from(t),t.size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),o=r&&r.fillBefore(jt.empty,!0);return o?new pn(this,e,t.append(o),Vt.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(e.toString().slice(0,50)))}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:Vt.none:e}static compile(e,t){let n=Object.create(null);e.forEach(((e,r)=>n[e]=new Mn(e,t,r)));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class Nn{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class An{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=Tn(r.attrs),this.excluded=null;let o=En(this.attrs);this.instance=o?new Vt(this,o):null}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!e&&this.instance?this.instance:new Vt(this,Cn(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach(((e,o)=>n[e]=new An(e,r++,t,o))),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class On{constructor(e){this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=zt.from(e.nodes),t.marks=zt.from(e.marks||{}),this.nodes=Mn.compile(this.spec.nodes,this),this.marks=An.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let e=this.nodes[r],t=e.spec.content||"",o=e.spec.marks;e.contentMatch=n[t]||(n[t]=mn.parse(t,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.markSet="_"==o?null:o?In(this,o.split(" ")):""!=o&&e.inlineContent?null:[]}for(let r in this.marks){let e=this.marks[r],t=e.spec.excludes;e.excluded=null==t?[e]:""==t?[]:In(this,t.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof Mn))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new fn(n,n.defaultAttrs,e,Vt.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return pn.fromJSON(this,e)}markFromJSON(e){return Vt.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function In(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],i=e.marks[o],s=i;if(i)n.push(i);else for(let t in e.marks){let r=e.marks[t];("_"==o||r.spec.group&&r.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=r)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class Rn{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((e=>{e.tag?this.tags.push(e):e.style&&this.styles.push(e)})),this.normalizeLists=!this.tags.some((t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)}))}parse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new zn(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new zn(this,t,!0);return n.addAll(e,t.from,t.to),Gt.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if($n(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let r=this.styles[o],i=r.style;if(!(0!=i.indexOf(e)||r.context&&!n.matchesContext(r.context)||i.length>e.length&&(61!=i.charCodeAt(e.length)||i.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let r in e.marks){let t=e.marks[r].spec.parseDOM;t&&t.forEach((e=>{n(e=Bn(e)),e.mark||e.ignore||e.clearMark||(e.mark=r)}))}for(let r in e.nodes){let t=e.nodes[r].spec.parseDOM;t&&t.forEach((e=>{n(e=Bn(e)),e.node||e.ignore||e.mark||(e.node=r)}))}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Rn(e,Rn.schemaRules(e)))}}const Dn={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Ln={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},_n={ol:!0,ul:!0};function Pn(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class Fn{constructor(e,t,n,r,o,i,s){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=r,this.solid=o,this.options=s,this.content=[],this.activeMarks=Vt.none,this.stashMarks=[],this.match=i||(4&s?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(jt.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=jt.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(jt.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,n=this.pendingMarks;t<n.length;t++){let r=n[t];(this.type?this.type.allowsMarkType(r.type):jn(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Dn.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class zn{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let r,o=t.topNode,i=Pn(null,t.preserveWhitespace,0)|(n?4:0);r=o?new Fn(o.type,o.attrs,Vt.none,Vt.none,!0,t.topMatch||o.type.contentMatch,i):new Fn(n?null:e.schema.topNodeType,null,Vt.none,Vt.none,!0,null,i),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){3==e.nodeType?this.addTextNode(e):1==e.nodeType&&this.addElement(e)}withStyleRules(e,t){let n=e.getAttribute("style");if(!n)return t();let r=this.readStyles(function(e){let t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}(n));if(!r)return;let[o,i]=r,s=this.top;for(let l=0;l<i.length;l++)this.removePendingMark(i[l],s);for(let l=0;l<o.length;l++)this.addPendingMark(o[l]);t();for(let l=0;l<o.length;l++)this.removePendingMark(o[l],s);for(let l=0;l<i.length;l++)this.addPendingMark(i[l])}addTextNode(e){let t=e.nodeValue,n=this.top;if(2&n.options||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)t=2&n.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],o=e.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let n,r=e.nodeName.toLowerCase();_n.hasOwnProperty(r)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&_n.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(o?o.ignore:Ln.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let t,n=this.top,i=this.needsBlock;if(Dn.hasOwnProperty(r))n.content.length&&n.content[0].isInline&&this.open&&(this.open--,n=this.top),t=!0,n.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);o&&o.skip?this.addAll(e):this.withStyleRules(e,(()=>this.addAll(e))),t&&this.sync(n),this.needsBlock=i}else this.withStyleRules(e,(()=>{this.addElementByRule(e,o,!1===o.consuming?n:void 0)}))}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=Vt.none,n=Vt.none;for(let r=0;r<e.length;r+=2)for(let o;;){let i=this.parser.matchStyle(e[r],e[r+1],this,o);if(!i)break;if(i.ignore)return null;if(i.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach((e=>{i.clearMark(e)&&(n=e.addToSet(n))})):t=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(t),!1!==i.consuming)break;o=i}return[t,n]}addElementByRule(e,t,n){let r,o,i;if(t.node)o=this.parser.schema.nodes[t.node],o.isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):r=this.enter(o,t.attrs||null,t.preserveWhitespace);else{i=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(i)}let s=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((e=>this.insertNode(e)));else{let n=e;"string"==typeof t.contentElement?n=e.querySelector(t.contentElement):"function"==typeof t.contentElement?n=t.contentElement(e):t.contentElement&&(n=t.contentElement),this.findAround(e,n,!0),this.addAll(n)}r&&this.sync(s)&&this.open--,i&&this.removePendingMark(i,s)}addAll(e,t,n){let r=t||0;for(let o=t?e.childNodes[t]:e.firstChild,i=null==n?null:e.childNodes[n];o!=i;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o);this.findAtPoint(e,r)}findPlace(e){let t,n;for(let r=this.open;r>=0;r--){let o=this.nodes[r],i=o.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=o,!i.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(let r=0;r<t.length;r++)this.enterInner(t[r],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let n=t.activeMarks;for(let r=0;r<e.marks.length;r++)t.type&&!t.type.allowsMarkType(e.marks[r].type)||(n=e.marks[r].addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n){let r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r}enterInner(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let i=Pn(e,r,o.options);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new Fn(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++}closeExtra(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)){t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(r?0:1),i=(e,s)=>{for(;e>=0;e--){let l=t[e];if(""==l){if(e==t.length-1||0==e)continue;for(;s>=o;s--)if(i(e-1,s))return!0;return!1}{let e=s>0||0==s&&r?this.nodes[s].type:n&&s>=o?n.node(s-o).type:null;if(!e||e.name!=l&&-1==e.groups.indexOf(l))return!1;s--}}return!0};return i(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}addPendingMark(e){let t=function(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let n=this.open;n>=0;n--){let r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);let t=r.popFromStashMark(e);t&&r.type&&r.type.allowsMarkType(t.type)&&(r.activeMarks=t.addToSet(r.activeMarks))}if(r==t)break}}}function $n(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function Bn(e){let t={};for(let n in e)t[n]=e[n];return t}function jn(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let i=[],s=e=>{i.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:o}=e.edge(n);if(r==t)return!0;if(i.indexOf(o)<0&&s(o))return!0}};if(s(o.contentMatch))return!0}}class Hn{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;n||(n=Wn(t).createDocumentFragment());let r=n,o=[];return e.forEach((e=>{if(o.length||e.marks.length){let n=0,i=0;for(;n<o.length&&i<e.marks.length;){let t=e.marks[i];if(this.marks[t.type.name]){if(!t.eq(o[n][0])||!1===t.type.spec.spanning)break;n++,i++}else i++}for(;n<o.length;)r=o.pop()[1];for(;i<e.marks.length;){let n=e.marks[i++],s=this.serializeMark(n,e.isInline,t);s&&(o.push([n,r]),r.appendChild(s.dom),r=s.contentDOM||s.dom)}}r.appendChild(this.serializeNodeInner(e,t))})),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=Hn.renderSpec(Wn(t),this.nodes[e.type.name](e));if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.marks[e.type.name];return r&&Hn.renderSpec(Wn(n),r(e,t))}static renderSpec(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let r,o=t[0],i=o.indexOf(" ");i>0&&(n=o.slice(0,i),o=o.slice(i+1));let s=n?e.createElementNS(n,o):e.createElement(o),l=t[1],a=1;if(l&&"object"==typeof l&&null==l.nodeType&&!Array.isArray(l)){a=2;for(let e in l)if(null!=l[e]){let t=e.indexOf(" ");t>0?s.setAttributeNS(e.slice(0,t),e.slice(t+1),l[e]):s.setAttribute(e,l[e])}}for(let c=a;c<t.length;c++){let o=t[c];if(0===o){if(c<t.length-1||c>a)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}{let{dom:t,contentDOM:i}=Hn.renderSpec(e,o,n);if(s.appendChild(t),i){if(r)throw new RangeError("Multiple content holes");r=i}}}return{dom:s,contentDOM:r}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Hn(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Un(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return Un(e.marks)}}function Un(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Wn(e){return e.document||window.document}var Vn=Object.defineProperty,qn=(e,t,n)=>(((e,t,n)=>{t in e?Vn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),Gn=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Kn=(e,t,n)=>(((e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)})(e,t,"access private method"),n);const Yn=()=>{const e=e=>e.elements.length,t=t=>t.elements[e(t)-1];return{size:e,top:t,push:e=>n=>{var r;null==(r=t(e))||r.push(n)},open:e=>t=>{e.elements.push(t)},close:e=>{const t=e.elements.pop();if(!t)throw h();return t}}},Jn=(e,t,n)=>{const r={type:e,content:t,attrs:n,push:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];e.content.push(t,...r)}(r,...t)},pop:()=>(e=>e.content.pop())(r)};return r},{size:Xn,push:Qn,top:Zn,open:er,close:tr}=Yn(),nr=e=>e.isText,rr=e=>(t,n)=>er(e)(Jn(t,[],n)),or=e=>(t,n,r)=>{const o=t.createAndFill(n,r,e.marks);if(!o)throw f(t,n,r);return Qn(e)(o),o},ir=e=>()=>{e.marks=Vt.none;const t=tr(e);return or(e)(t.type,t.attrs,t.content)},sr=e=>(t,n)=>{const r=t.create(n);e.marks=r.addToSet(e.marks)},lr=e=>t=>{e.marks=t.removeFromSet(e.marks)},ar=e=>t=>{const n=Zn(e);if(!n)throw h();const r=n.pop(),o=e.schema.text(t,e.marks);if(!r)return void n.push(o);const i=((e,t,n)=>{if(nr(t)&&nr(n)&&Vt.sameSet(t.marks,n.marks))return e.text(t.text+n.text,t.marks)})(e.schema,r,o);i?n.push(i):n.push(r,o)},cr=e=>()=>{let t;do{t=ir(e)()}while(Xn(e));return t};var ur,dr,pr,fr;class hr{constructor(e,t,n){var r=this;Gn(this,ur),Gn(this,pr),qn(this,"run",((e,t)=>{const n=e.runSync(e.parse(t),t);return this.next(n),this})),qn(this,"next",(function(){return[arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]].flat().forEach((e=>Kn(r,pr,fr).call(r,e))),r})),qn(this,"toDoc",(()=>this.stack.build())),qn(this,"injectRoot",((e,t,n)=>(this.stack.openNode(t,n),this.next(e.children),this))),qn(this,"addText",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.stack.addText(e),r})),qn(this,"addNode",(function(){return r.stack.addNode(...arguments),r})),qn(this,"openNode",(function(){return r.stack.openNode(...arguments),r})),qn(this,"closeNode",(function(){return r.stack.closeNode(...arguments),r})),qn(this,"openMark",(function(){return r.stack.openMark(...arguments),r})),qn(this,"closeMark",(function(){return r.stack.closeMark(...arguments),r})),this.stack=e,this.schema=t,this.specMap=n}}ur=new WeakSet,dr=function(e){const t=Object.values(this.specMap).find((t=>t.match(e)));if(!t)throw m(e);return t},pr=new WeakSet,fr=function(e){const{key:t,runner:n,is:r}=Kn(this,ur,dr).call(this,e);n(this,e,this.schema["node"===r?"nodes":"marks"][t])};const mr=(e,t,n)=>{const r=new hr((e=>{const t={marks:[],elements:[],schema:e};return{build:cr(t),openMark:sr(t),closeMark:lr(t),addText:ar(t),openNode:rr(t),addNode:or(t),closeNode:ir(t)}})(e),e,t);return e=>(r.run(n,e),r.toDoc())},gr=function(e,t,n){const r={type:e,children:t,props:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},value:n,push:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];e.children||(e.children=[]),e.children.push(t,...r)}(r,...t)},pop:()=>(e=>{var t;return null==(t=e.children)?void 0:t.pop()})(r)};return r},{size:yr,push:br,open:vr,close:wr}=Yn(),kr=e=>{const{children:t}=e;return t&&(e.children=t.reduce(((e,t,n)=>{if(0===n)return[t];const r=e[e.length-1];if(r&&r.isMark&&t.isMark){t=((e,t)=>{var n;if(e.type===t||1!==(null==(n=e.children)?void 0:n.length))return e;const r=e=>{var n;if(e.type===t)return e;if(1!==(null==(n=e.children)?void 0:n.length))return null;const[o]=e.children;return o?r(o):null},o=r(e);if(!o)return e;const i=o.children?[...o.children]:void 0,s={...e,children:i};return s.children=i,o.children=[s],o})(t,r.type);const{children:n,...o}=t,{children:i,...s}=r;if(t.type===r.type&&n&&i&&JSON.stringify(o)===JSON.stringify(s)){const t={...s,children:[...i,...n]};return e.slice(0,-1).concat(kr(t))}}return e.concat(t)}),[])),e},xr=e=>(t,n,r)=>vr(e)(gr(t,[],n,r)),Sr=e=>(t,n,r,o)=>{const i=gr(t,n,r,o),s=kr((e=>{const t={...e.props,type:e.type};return e.children&&(t.children=e.children),e.value&&(t.value=e.value),t})(i));return br(e)(s),s},Er=e=>()=>{const t=wr(e);return Sr(e)(t.type,t.children,t.value,t.props)},Cr=e=>(t,n,r,o)=>{t.isInSet(e.marks)||(e.marks=t.addToSet(e.marks),xr(e)(n,r,{...o,isMark:!0}))},Tr=e=>t=>t.isInSet(e.marks)?(e.marks=t.type.removeFromSet(e.marks),Er(e)()):null,Mr=e=>()=>{let t=null;do{t=Er(e)()}while(yr(e));return t};var Nr,Ar,Or,Ir,Rr,Dr,Lr,_r;class Pr{constructor(e,t,n){var r=this;Gn(this,Nr),Gn(this,Or),Gn(this,Rr),Gn(this,Lr),qn(this,"toString",(e=>e.stringify(this.stack.build()))),qn(this,"next",(e=>(e=>Object.prototype.hasOwnProperty.call(e,"size"))(e)?(e.forEach((e=>{Kn(this,Lr,_r).call(this,e)})),this):(Kn(this,Lr,_r).call(this,e),this))),qn(this,"addNode",(function(){return r.stack.addNode(...arguments),r})),qn(this,"openNode",(function(){return r.stack.openNode(...arguments),r})),qn(this,"closeNode",(function(){return r.stack.closeNode(...arguments),r})),qn(this,"withMark",(function(){return r.stack.openMark(...arguments),r})),this.stack=e,this.schema=t,this.specMap=n}run(e){return this.next(e),this}}Nr=new WeakSet,Ar=function(e){const t=Object.entries(this.specMap).map((e=>{let[t,n]=e;return{key:t,...n}})).find((t=>t.match(e)));if(!t)throw g(e.type);return t},Or=new WeakSet,Ir=function(e){const{runner:t}=Kn(this,Nr,Ar).call(this,e);t(this,e)},Rr=new WeakSet,Dr=function(e,t){const{runner:n}=Kn(this,Nr,Ar).call(this,e);return n(this,e,t)},Lr=new WeakSet,_r=function(e){const{marks:t}=e,n=e=>{var t;return null!=(t=e.type.spec.priority)?t:50};[...t].sort(((e,t)=>n(e)-n(t))).every((t=>!Kn(this,Rr,Dr).call(this,t,e)))&&Kn(this,Or,Ir).call(this,e),t.forEach((e=>this.stack.closeMark(e)))};const Fr=(e,t,n)=>r=>{const o=new Pr((()=>{const e={marks:[],elements:[]};return{build:Mr(e),openMark:Cr(e),closeMark:Tr(e),openNode:xr(e),addNode:Sr(e),closeNode:Er(e)}})(),e,t);return o.run(r),o.toString(n)},zr=Math.pow(2,16);function $r(e,t){return e+t*zr}function Br(e){return 65535&e}class jr{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class Hr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ranges=e,this.inverted=t,!e.length&&Hr.empty)return Hr.empty}recover(e){let t=0,n=Br(e);if(!this.inverted)for(let r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/zr}(e)}mapResult(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}map(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!0)}_map(e,t,n){let r=0,o=this.inverted?2:1,i=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?r:0);if(l>e)break;let a=this.ranges[s+o],c=this.ranges[s+i],u=l+a;if(e<=u){let o=l+r+((a?e==l?-1:e==u?1:t:t)<0?0:c);if(n)return o;let i=e==(t<0?l:u)?null:$r(s/3,e-l),d=e==l?2:e==u?1:4;return(t<0?e!=l:e!=u)&&(d|=8),new jr(o,d,i)}r+=c-a}return n?e+r:new jr(e+r,0,null)}touches(e,t){let n=0,r=Br(t),o=this.inverted?2:1,i=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let t=this.ranges[s]-(this.inverted?n:0);if(t>e)break;let l=this.ranges[s+o];if(e<=t+l&&s==3*r)return!0;n+=this.ranges[s+i]-l}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let i=this.ranges[r],s=i-(this.inverted?o:0),l=i+(this.inverted?0:o),a=this.ranges[r+t],c=this.ranges[r+n];e(s,s+a,l,l+c),o+=c-a}}invert(){return new Hr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?Hr.empty:new Hr(e<0?[0,-e,0]:[0,0,e])}}Hr.empty=new Hr([]);class Ur{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;this.maps=e,this.mirror=t,this.from=n,this.to=r}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.maps.length;return new Ur(this.maps,this.mirror,e,t)}copy(){return new Ur(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new Ur;return e.appendMappingInverted(this),e}map(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let o=this.from;o<this.to;o++){let n=this.maps[o].mapResult(e,t);if(null!=n.recover){let t=this.getMirror(o);if(null!=t&&t>o&&t<this.to){o=t,e=this.maps[t].recover(n.recover);continue}}r|=n.delInfo,e=n.pos}return n?e:new jr(e,r,null)}}const Wr=Object.create(null);class Vr{getMap(){return Hr.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=Wr[t.stepType];if(!n)throw new RangeError("No step type ".concat(t.stepType," defined"));return n.fromJSON(e,t)}static jsonID(e,t){if(e in Wr)throw new RangeError("Duplicate use of step JSON ID "+e);return Wr[e]=t,t.prototype.jsonID=e,t}}class qr{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new qr(e,null)}static fail(e){return new qr(null,e)}static fromReplace(e,t,n,r){try{return qr.ok(e.replace(t,n,r))}catch(BE){if(BE instanceof qt)return qr.fail(BE.message);throw BE}}}function Gr(e,t,n){let r=[];for(let o=0;o<e.childCount;o++){let i=e.child(o);i.content.size&&(i=i.copy(Gr(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return jt.fromArray(r)}class Kr extends Vr{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),o=new Gt(Gr(t.content,((e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e),r),t.openStart,t.openEnd);return qr.fromReplace(e,this.from,this.to,o)}invert(){return new Yr(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Kr(t.pos,n.pos,this.mark)}merge(e){return e instanceof Kr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Kr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Kr(t.from,t.to,e.markFromJSON(t.mark))}}Vr.jsonID("addMark",Kr);class Yr extends Vr{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new Gt(Gr(t.content,(e=>e.mark(this.mark.removeFromSet(e.marks))),e),t.openStart,t.openEnd);return qr.fromReplace(e,this.from,this.to,n)}invert(){return new Kr(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Yr(t.pos,n.pos,this.mark)}merge(e){return e instanceof Yr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Yr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Yr(t.from,t.to,e.markFromJSON(t.mark))}}Vr.jsonID("removeMark",Yr);class Jr extends Vr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return qr.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return qr.fromReplace(e,this.pos,this.pos+1,new Gt(jt.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new Jr(this.pos,t.marks[n]);return new Jr(this.pos,this.mark)}}return new Xr(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Jr(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Jr(t.pos,e.markFromJSON(t.mark))}}Vr.jsonID("addNodeMark",Jr);class Xr extends Vr{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return qr.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return qr.fromReplace(e,this.pos,this.pos+1,new Gt(jt.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new Jr(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Xr(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Xr(t.pos,e.markFromJSON(t.mark))}}Vr.jsonID("removeNodeMark",Xr);class Qr extends Vr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&eo(e,this.from,this.to)?qr.fail("Structure replace would overwrite content"):qr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Hr([this.from,this.to-this.from,this.slice.size])}invert(e){return new Qr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Qr(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof Qr)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?Gt.empty:new Gt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Qr(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?Gt.empty:new Gt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Qr(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Qr(t.from,t.to,Gt.fromJSON(e,t.slice),!!t.structure)}}Vr.jsonID("replace",Qr);class Zr extends Vr{constructor(e,t,n,r,o,i){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=i,this.structure=s}apply(e){if(this.structure&&(eo(e,this.from,this.gapFrom)||eo(e,this.gapTo,this.to)))return qr.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return qr.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?qr.fromReplace(e,this.from,this.to,n):qr.fail("Content does not fit in gap")}getMap(){return new Hr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Zr(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||o>n.pos?null:new Zr(t.pos,n.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Zr(t.from,t.to,t.gapFrom,t.gapTo,Gt.fromJSON(e,t.slice),t.insert,!!t.structure)}}function eo(e,t,n){let r=e.resolve(t),o=n-t,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let e=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,o--}}return!1}function to(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function no(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!to(r,o,i))break}return null}function ro(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=function(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let s=i.length?i[0]:t;return n.canReplaceWith(r,o,s)?i:null}(e,t),i=o&&function(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.child(r),s=t.contentMatch.findWrapping(i.type);if(!s)return null;let l=(s.length?s[s.length-1]:t).contentMatch;for(let a=r;l&&a<o;a++)l=l.matchType(n.child(a).type);return l&&l.validEnd?s:null}(r,t);return i?o.map(oo).concat({type:t,attrs:n}).concat(i.map(oo)):null}function oo(e){return{type:e,attrs:null}}function io(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=e.resolve(t),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,u=n-2;c>i;c--,u--){let e=o.node(c),t=o.index(c);if(e.type.spec.isolating)return!1;let n=e.content.cutByIndex(t,e.childCount),i=r&&r[u+1];i&&(n=n.replaceChild(0,i.type.create(i.attrs)));let s=r&&r[u]||e;if(!e.canReplace(t+1,e.childCount)||!s.type.validContent(n))return!1}let l=o.indexAfter(i),a=r&&r[0];return o.node(i).canReplaceWith(l,l,a?a.type:o.node(i+1).type)}function so(e,t){let n=e.resolve(t),r=n.index();return lo(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function lo(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}function ao(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let i=0;i<n.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(0==n.openStart&&n.size?2:1);i++)for(let e=r.depth;e>=0;e--){let t=e==r.depth?0:r.pos<=(r.start(e+1)+r.end(e+1))/2?-1:1,n=r.index(e)+(t>0?1:0),s=r.node(e),l=!1;if(1==i)l=s.canReplace(n,n,o);else{let e=s.contentMatchAt(n).findWrapping(o.firstChild.type);l=e&&s.canReplaceWith(n,n,e[0])}if(l)return 0==t?r.pos:t<0?r.before(e+1):r.after(e+1)}return null}function co(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Gt.empty;if(t==n&&!r.size)return null;let o=e.resolve(t),i=e.resolve(n);return uo(o,i,r)?new Qr(t,n,r):new po(o,i,r).fit()}function uo(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}Vr.jsonID("replaceAround",Zr);class po{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=jt.empty;for(let r=0;r<=e.depth;r++){let t=e.node(r);this.frontier.push({type:t.type,match:t.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=jt.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let o=this.placed,i=n.depth,s=r.depth;for(;i&&s&&1==o.childCount;)o=o.firstChild.content,i--,s--;let l=new Gt(o,i,s);return e>-1?new Zr(n.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||n.pos!=this.$to.pos?new Qr(n.pos,r.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let o=t.firstChild;if(t.childCount>1&&(r=0),o.type.spec.isolating&&r<=n){e=n;break}t=o.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e,r=null;n?(r=mo(this.unplaced.content,n-1).firstChild,e=r.content):e=this.unplaced.content;let o=e.firstChild;for(let i=this.depth;i>=0;i--){let e,{type:s,match:l}=this.frontier[i],a=null;if(1==t&&(o?l.matchType(o.type)||(a=l.fillBefore(jt.from(o),!1)):r&&s.compatibleContent(r.type)))return{sliceDepth:n,frontierDepth:i,parent:r,inject:a};if(2==t&&o&&(e=l.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:i,parent:r,wrap:e};if(r&&l.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=mo(e,t);return!(!r.childCount||r.firstChild.isLeaf)&&(this.unplaced=new Gt(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=mo(e,t);if(r.childCount<=1&&t>0){let o=e.size-t<=t+r.size;this.unplaced=new Gt(fo(e,t-1,1),t-1,o?t-1:n)}else this.unplaced=new Gt(fo(e,t,1),t,n)}placeNodes(e){let{sliceDepth:t,frontierDepth:n,parent:r,inject:o,wrap:i}=e;for(;this.depth>n;)this.closeFrontierNode();if(i)for(let m=0;m<i.length;m++)this.openFrontierNode(i[m]);let s=this.unplaced,l=r?r.content:s.content,a=s.openStart-t,c=0,u=[],{match:d,type:p}=this.frontier[n];if(o){for(let e=0;e<o.childCount;e++)u.push(o.child(e));d=d.matchFragment(o)}let f=l.size+t-(s.content.size-s.openEnd);for(;c<l.childCount;){let e=l.child(c),t=d.matchType(e.type);if(!t)break;c++,(c>1||0==a||e.content.size)&&(d=t,u.push(go(e.mark(p.allowedMarks(e.marks)),1==c?a:0,c==l.childCount?f:-1)))}let h=c==l.childCount;h||(f=-1),this.placed=ho(this.placed,n,jt.from(u)),this.frontier[n].match=d,h&&f<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,g=l;m<f;m++){let e=g.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),g=e.content}this.unplaced=h?0==t?Gt.empty:new Gt(fo(s.content,t-1,1),t-1,f<0?s.openEnd:t-1):new Gt(fo(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!yo(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),i=yo(e,t,r,n,o);if(i){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],o=yo(e,n,r,t,!0);if(!o||o.childCount)continue e}return{depth:t,fit:i,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=ho(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=ho(this.placed,this.depth,jt.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(jt.empty,!0);e.childCount&&(this.placed=ho(this.placed,this.frontier.length,e))}}function fo(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(fo(e.firstChild.content,t-1,n)))}function ho(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(ho(e.lastChild.content,t-1,n)))}function mo(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function go(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,go(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(jt.empty,!0)))),e.copy(r)}function yo(e,t,n,r,o){let i=e.node(t),s=o?e.indexAfter(t):e.index(t);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,s);return l&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,s)?l:null}function bo(e,t,n,r,o){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(bo(o.content,t+1,n,r,o)))}if(t>r){let t=o.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(jt.empty,!0))}return e}function vo(e,t){let n=[];for(let r=Math.min(e.depth,t.depth);r>=0;r--){let o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&n.push(r)}return n}class wo extends Vr{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return qr.fail("No node at attribute step's position");let n=Object.create(null);for(let o in t.attrs)n[o]=t.attrs[o];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return qr.fromReplace(e,this.pos,this.pos+1,new Gt(jt.from(r),0,t.isLeaf?0:1))}getMap(){return Hr.empty}invert(e){return new wo(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new wo(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new wo(t.pos,t.attr,t.value)}}Vr.jsonID("attr",wo);class ko extends Vr{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let r in e.attrs)t[r]=e.attrs[r];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return qr.ok(n)}getMap(){return Hr.empty}invert(e){return new ko(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if("string"!=typeof t.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ko(t.attr,t.value)}}Vr.jsonID("docAttr",ko);let xo=class extends Error{};xo=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(xo.prototype=Object.create(Error.prototype)).constructor=xo,xo.prototype.name="TransformError";class So{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ur}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new xo(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gt.empty,r=co(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new Gt(jt.from(n),0,0))}delete(e,t){return this.replace(e,t,Gt.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),i=e.doc.resolve(n);if(uo(o,i,r))return e.step(new Qr(t,n,r));let s=vo(o,e.doc.resolve(n));0==s[s.length-1]&&s.pop();let l=-(o.depth+1);s.unshift(l);for(let f=o.depth,h=o.pos-1;f>0;f--,h--){let e=o.node(f).type.spec;if(e.defining||e.definingAsContext||e.isolating)break;s.indexOf(f)>-1?l=f:o.before(f)==h&&s.splice(1,0,-f)}let a=s.indexOf(l),c=[],u=r.openStart;for(let f=r.content,h=0;;h++){let e=f.firstChild;if(c.push(e),h==r.openStart)break;f=e.content}for(let f=u-1;f>=0;f--){let e=c[f],t=(d=e.type).spec.defining||d.spec.definingForContent;if(t&&!e.sameMarkup(o.node(Math.abs(l)-1)))u=f;else if(t||!e.type.isTextblock)break}var d;for(let f=r.openStart;f>=0;f--){let t=(f+u+1)%(r.openStart+1),l=c[t];if(l)for(let c=0;c<s.length;c++){let u=s[(c+a)%s.length],d=!0;u<0&&(d=!1,u=-u);let p=o.node(u-1),f=o.index(u-1);if(p.canReplaceWith(f,f,l.type,l.marks))return e.replace(o.before(u),d?i.after(u):n,new Gt(bo(r.content,0,r.openStart,t),t,r.openEnd))}}let p=e.steps.length;for(let f=s.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>p));f--){let e=s[f];e<0||(t=o.before(e),n=i.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let o=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let o=r.depth-1;o>=0;o--){let e=r.index(o);if(r.node(o).canReplaceWith(e,e,n))return r.before(o+1);if(e>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let e=r.indexAfter(o);if(r.node(o).canReplaceWith(e,e,n))return r.after(o+1);if(e<r.node(o).childCount)return null}return null}(e.doc,t,r.type);null!=o&&(t=n=o)}e.replaceRange(t,n,new Gt(jt.from(r),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),i=vo(r,o);for(let s=0;s<i.length;s++){let t=i[s],n=s==i.length-1;if(n&&0==t||r.node(t).type.contentMatch.validEnd)return e.delete(r.start(t),o.end(t));if(t>0&&(n||r.node(t-1).canReplace(r.index(t-1),o.indexAfter(t-1))))return e.delete(r.before(t),o.after(t))}for(let s=1;s<=r.depth&&s<=o.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&o.end(s)-n!=o.depth-s)return e.delete(r.before(s),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:r,$to:o,depth:i}=t,s=r.before(i+1),l=o.after(i+1),a=s,c=l,u=jt.empty,d=0;for(let h=i,m=!1;h>n;h--)m||r.index(h)>0?(m=!0,u=jt.from(r.node(h).copy(u)),d++):a--;let p=jt.empty,f=0;for(let h=i,m=!1;h>n;h--)m||o.after(h+1)<o.end(h)?(m=!0,p=jt.from(o.node(h).copy(p)),f++):c++;e.step(new Zr(a,c,s,l,new Gt(u.append(p),d,f),u.size-d,!0))}(this,e,t),this}join(e){return function(e,t,n){let r=new Qr(t-n,t+n,Gt.empty,!0);e.step(r)}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),this}wrap(e,t){return function(e,t,n){let r=jt.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let e=n[s].type.contentMatch.matchFragment(r);if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=jt.from(n[s].type.create(n[s].attrs,r))}let o=t.start,i=t.end;e.step(new Zr(o,i,o,i,new Gt(r,0,0),n.length,!0))}(this,e,t),this}setBlockType(e){return function(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,((t,n)=>{if(t.isTextblock&&!t.hasMarkup(r,o)&&function(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(e.doc,e.mapping.slice(i).map(n),r)){e.clearIncompatible(e.mapping.slice(i).map(n,1),r);let s=e.mapping.slice(i),l=s.map(n,1),a=s.map(n+t.nodeSize,1);return e.step(new Zr(l,a,l+1,a-1,new Gt(jt.from(r.create(o,null,t.marks)),0,0),1,!0)),!1}}))}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,arguments.length>2?arguments[2]:void 0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null),this}setNodeMarkup(e,t){return function(e,t,n,r,o){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let s=n.create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,s);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Zr(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new Gt(jt.from(s),0,0),1,!0))}(this,e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0),this}setNodeAttribute(e,t,n){return this.step(new wo(e,t,n)),this}setDocAttribute(e,t){return this.step(new ko(e,t)),this}addNodeMark(e,t){return this.step(new Jr(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Vt)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(!(t=t.isInSet(n.marks)))return this}return this.step(new Xr(e,t)),this}split(e){return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=e.doc.resolve(t),i=jt.empty,s=jt.empty;for(let l=o.depth,a=o.depth-n,c=n-1;l>a;l--,c--){i=jt.from(o.node(l).copy(i));let e=r&&r[c];s=jt.from(e?e.type.create(e.attrs,s):o.node(l).copy(s))}e.step(new Qr(t,t,new Gt(i.append(s),n,n),!0))}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments.length>2?arguments[2]:void 0),this}addMark(e,t,n){return function(e,t,n,r){let o,i,s=[],l=[];e.doc.nodesBetween(t,n,((e,a,c)=>{if(!e.isInline)return;let u=e.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let c=Math.max(a,t),d=Math.min(a+e.nodeSize,n),p=r.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(p)||(o&&o.to==c&&o.mark.eq(u[e])?o.to=d:s.push(o=new Yr(c,d,u[e])));i&&i.to==c?i.to=d:l.push(i=new Kr(c,d,r))}})),s.forEach((t=>e.step(t))),l.forEach((t=>e.step(t)))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,r){let o=[],i=0;e.doc.nodesBetween(t,n,((e,s)=>{if(!e.isInline)return;i++;let l=null;if(r instanceof An){let t,n=e.marks;for(;t=r.isInSet(n);)(l||(l=[])).push(t),n=t.removeFromSet(n)}else r?r.isInSet(e.marks)&&(l=[r]):l=e.marks;if(l&&l.length){let r=Math.min(s+e.nodeSize,n);for(let e=0;e<l.length;e++){let n,a=l[e];for(let e=0;e<o.length;e++){let t=o[e];t.step==i-1&&a.eq(o[e].style)&&(n=t)}n?(n.to=r,n.step=i):o.push({style:a,from:Math.max(s,t),to:r,step:i})}}})),o.forEach((t=>e.step(new Yr(t.from,t.to,t.style))))}(this,e,t,n),this}clearIncompatible(e,t,n){return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.contentMatch,o=e.doc.nodeAt(t),i=[],s=t+1;for(let l=0;l<o.childCount;l++){let t=o.child(l),a=s+t.nodeSize,c=r.matchType(t.type);if(c){r=c;for(let r=0;r<t.marks.length;r++)n.allowsMarkType(t.marks[r].type)||e.step(new Yr(s,a,t.marks[r]));if(t.isText&&!n.spec.code){let e,r,o=/\r?\n|\r/g;for(;e=o.exec(t.text);)r||(r=new Gt(jt.from(n.schema.text(" ",n.allowedMarks(t.marks))),0,0)),i.push(new Qr(s+e.index,s+e.index+e[0].length,r))}}else i.push(new Qr(s,a,Gt.empty));s=a}if(!r.validEnd){let t=r.fillBefore(jt.empty,!0);e.replace(s,s,new Gt(t,0,0))}for(let l=i.length-1;l>=0;l--)e.step(i[l])}(this,e,t,n),this}}const Eo=Object.create(null);class Co{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new To(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gt.empty,n=t.content.lastChild,r=null;for(let s=0;s<t.openEnd;s++)r=n,n=n.lastChild;let o=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:l,$to:a}=i[s],c=e.mapping.slice(o);e.replaceRange(c.map(l.pos),c.map(a.pos),s?Gt.empty:t),0==s&&Po(e,o,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:i,$to:s}=r[o],l=e.mapping.slice(n),a=l.map(i.pos),c=l.map(s.pos);o?e.deleteRange(a,c):(e.replaceRangeWith(a,c,t),Po(e,n,t.isInline?-1:1))}}static findFrom(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.parent.inlineContent?new Ao(e):_o(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let o=e.depth-1;o>=0;o--){let r=t<0?_o(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):_o(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(r)return r}return null}static near(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.findFrom(e,t)||this.findFrom(e,-t)||new Do(e.node(0))}static atStart(e){return _o(e,e,0,0,1)||new Do(e)}static atEnd(e){return _o(e,e,e.content.size,e.childCount,-1)||new Do(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=Eo[t.type];if(!n)throw new RangeError("No selection type ".concat(t.type," defined"));return n.fromJSON(e,t)}static jsonID(e,t){if(e in Eo)throw new RangeError("Duplicate use of selection JSON ID "+e);return Eo[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Ao.between(this.$anchor,this.$head).getBookmark()}}Co.prototype.visible=!0;class To{constructor(e,t){this.$from=e,this.$to=t}}let Mo=!1;function No(e){Mo||e.parent.inlineContent||(Mo=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Ao extends Co{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;No(e),No(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return Co.near(n);let r=e.resolve(t.map(this.anchor));return new Ao(r.parent.inlineContent?r:n,n)}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gt.empty;if(super.replace(e,t),t==Gt.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof Ao&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Oo(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ao(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=Co.findFrom(t,n,!0)||Co.findFrom(t,-n,!0);if(!e)return Co.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r||(e=(Co.findFrom(e,-n,!0)||Co.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0)&&(e=t),new Ao(e,t)}}Co.jsonID("text",Ao);class Oo{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Oo(e.map(this.anchor),e.map(this.head))}resolve(e){return Ao.between(e.resolve(this.anchor),e.resolve(this.head))}}class Io extends Co{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),o=e.resolve(r);return n?Co.near(o):new Io(o)}content(){return new Gt(jt.from(this.node),0,0)}eq(e){return e instanceof Io&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ro(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Io(e.resolve(t.anchor))}static create(e,t){return new Io(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}Io.prototype.visible=!1,Co.jsonID("node",Io);class Ro{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new Oo(n,n):new Ro(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&Io.isSelectable(n)?new Io(t):Co.near(t)}}class Do extends Co{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gt.empty;if(t==Gt.empty){e.delete(0,e.doc.content.size);let t=Co.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Do(e)}map(e){return new Do(e)}eq(e){return e instanceof Do}getBookmark(){return Lo}}Co.jsonID("all",Do);const Lo={map(){return this},resolve:e=>new Do(e)};function _o(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(t.inlineContent)return Ao.create(e,n);for(let s=r-(o>0?0:1);o>0?s<t.childCount:s>=0;s+=o){let r=t.child(s);if(r.isAtom){if(!i&&Io.isSelectable(r))return Io.create(e,n-(o<0?r.nodeSize:0))}else{let t=_o(e,r,n+o,o<0?r.childCount:0,o,i);if(t)return t}n+=r.nodeSize*o}return null}function Po(e,t,n){let r=e.steps.length-1;if(r<t)return;let o,i=e.steps[r];(i instanceof Qr||i instanceof Zr)&&(e.mapping.maps[r].forEach(((e,t,n,r)=>{null==o&&(o=r)})),e.setSelection(Co.near(e.doc.resolve(o),n)))}class Fo extends So{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return Vt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Vt.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let o=this.storedMarks;if(!o){let e=this.doc.resolve(t);o=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(Co.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function zo(e,t){return t&&e?e.bind(t):e}class $o{constructor(e,t,n){this.name=e,this.init=zo(t.init,n),this.apply=zo(t.apply,n)}}const Bo=[new $o("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new $o("selection",{init:(e,t)=>e.selection||Co.atStart(t.doc),apply:e=>e.selection}),new $o("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new $o("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class jo{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Bo.slice(),t&&t.forEach((e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new $o(e.key,e.spec.state,e))}))}}class Ho{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let o=!1;for(let i=0;i<this.config.plugins.length;i++){let s=this.config.plugins[i];if(s.spec.appendTransaction){let l=r?r[i].n:0,a=r?r[i].state:this,c=l<t.length&&s.spec.appendTransaction.call(s,l?t.slice(l):t,a,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Ho(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new Fo(this)}static create(e){let t=new jo(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Ho(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new jo(this.schema,e.plugins),n=t.fields,r=new Ho(t);for(let o=0;o<n.length;o++){let t=n[o].name;r[t]=this.hasOwnProperty(t)?this[t]:n[o].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((e=>e.toJSON()))),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new jo(e.schema,e.plugins),o=new Ho(r);return r.fields.forEach((r=>{if("doc"==r.name)o.doc=pn.fromJSON(e.schema,t.doc);else if("selection"==r.name)o.selection=Co.fromJSON(o.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let i in n){let s=n[i],l=s.spec.state;if(s.key==r.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(t,i))return void(o[r.name]=l.fromJSON.call(s,e,t[i],o))}o[r.name]=r.init(e,o)}})),o}}function Uo(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):"handleDOMEvents"==r&&(o=Uo(o,t,{})),n[r]=o}return n}class Wo{constructor(e){this.spec=e,this.props={},e.props&&Uo(e.props,this,this.props),this.key=e.key?e.key.key:qo("plugin")}getState(e){return e[this.key]}}const Vo=Object.create(null);function qo(e){return e in Vo?e+"$"+ ++Vo[e]:(Vo[e]=0,e+"$")}class Go{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"key";this.key=qo(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ko={};function Yo(e,t){const n=t||Ko;return Jo(e,"boolean"!==typeof n.includeImageAlt||n.includeImageAlt,"boolean"!==typeof n.includeHtml||n.includeHtml)}function Jo(e,t,n){if(function(e){return Boolean(e&&"object"===typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Xo(e.children,t,n)}return Array.isArray(e)?Xo(e,t,n):""}function Xo(e,t,n){const r=[];let o=-1;for(;++o<e.length;)r[o]=Jo(e[o],t,n);return r.join("")}function Qo(e,t,n,r){const o=e.length;let i,s=0;if(t=t<0?-t>o?0:o+t:t>o?o:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);s<r.length;)i=r.slice(s,s+1e4),i.unshift(t,0),e.splice(...i),s+=1e4,t+=1e4}function Zo(e,t){return e.length>0?(Qo(e,e.length,0,t),e):t}const ei={}.hasOwnProperty;function ti(e){const t={};let n=-1;for(;++n<e.length;)ni(t,e[n]);return t}function ni(e,t){let n;for(n in t){const r=(ei.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let i;if(o)for(i in o){ei.call(r,i)||(r[i]=[]);const e=o[i];ri(r[i],Array.isArray(e)?e:e?[e]:[])}}}function ri(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);Qo(e,0,0,r)}const oi=gi(/[A-Za-z]/),ii=gi(/[\dA-Za-z]/),si=gi(/[#-'*+\--9=?A-Z^-~]/);function li(e){return null!==e&&(e<32||127===e)}const ai=gi(/\d/),ci=gi(/[\dA-Fa-f]/),ui=gi(/[!-/:-@[-`{-~]/);function di(e){return null!==e&&e<-2}function pi(e){return null!==e&&(e<0||32===e)}function fi(e){return-2===e||-1===e||32===e}const hi=gi(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),mi=gi(/\s/);function gi(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function yi(e,t,n,r){const o=r?r-1:Number.POSITIVE_INFINITY;let i=0;return function(r){if(fi(r))return e.enter(n),s(r);return t(r)};function s(r){return fi(r)&&i++<o?(e.consume(r),s):(e.exit(n),t(r))}}const bi={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),yi(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,o(t)}function o(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):di(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),o)}}};const vi={tokenize:function(e){const t=this,n=[];let r,o,i,s=0;return l;function l(r){if(s<n.length){const o=n[s];return t.containerState=o[1],e.attempt(o[0].continuation,a,c)(r)}return c(r)}function a(e){if(s++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&b();const n=t.events.length;let o,i=n;for(;i--;)if("exit"===t.events[i][0]&&"chunkFlow"===t.events[i][1].type){o=t.events[i][1].end;break}y(s);let l=n;for(;l<t.events.length;)t.events[l][1].end=Object.assign({},o),l++;return Qo(t.events,i+1,0,t.events.slice(n)),t.events.length=l,c(e)}return l(e)}function c(o){if(s===n.length){if(!r)return p(o);if(r.currentConstruct&&r.currentConstruct.concrete)return h(o);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(wi,u,d)(o)}function u(e){return r&&b(),y(s),p(e)}function d(e){return t.parser.lazy[t.now().line]=s!==n.length,i=t.now().offset,h(e)}function p(n){return t.containerState={},e.attempt(wi,f,h)(n)}function f(e){return s++,n.push([t.currentConstruct,t.containerState]),p(e)}function h(n){return null===n?(r&&b(),y(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:r}),m(n))}function m(n){return null===n?(g(e.exit("chunkFlow"),!0),y(0),void e.consume(n)):di(n)?(e.consume(n),g(e.exit("chunkFlow")),s=0,t.interrupt=void 0,l):(e.consume(n),m)}function g(e,n){const l=t.sliceStream(e);if(n&&l.push(null),e.previous=o,o&&(o.next=e),o=e,r.defineSkip(e.start),r.write(l),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<i&&(!r.events[e][1].end||r.events[e][1].end.offset>i))return;const n=t.events.length;let o,l,a=n;for(;a--;)if("exit"===t.events[a][0]&&"chunkFlow"===t.events[a][1].type){if(o){l=t.events[a][1].end;break}o=!0}for(y(s),e=n;e<t.events.length;)t.events[e][1].end=Object.assign({},l),e++;Qo(t.events,a+1,0,t.events.slice(n)),t.events.length=e}}function y(r){let o=n.length;for(;o-- >r;){const r=n[o];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function b(){r.write([null]),o=void 0,r=void 0,t.containerState._closeFlow=void 0}}},wi={tokenize:function(e,t,n){return yi(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const ki={tokenize:function(e,t,n){return function(t){return fi(t)?yi(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||di(e)?t(e):n(e)}},partial:!0};function xi(e){const t={};let n,r,o,i,s,l,a,c=-1;for(;++c<e.length;){for(;c in t;)c=t[c];if(n=e[c],c&&"chunkFlow"===n[1].type&&"listItemPrefix"===e[c-1][1].type&&(l=n[1]._tokenizer.events,o=0,o<l.length&&"lineEndingBlank"===l[o][1].type&&(o+=2),o<l.length&&"content"===l[o][1].type))for(;++o<l.length&&"content"!==l[o][1].type;)"chunkText"===l[o][1].type&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,Si(e,c)),c=t[c],a=!0);else if(n[1]._container){for(o=c,r=void 0;o--&&(i=e[o],"lineEnding"===i[1].type||"lineEndingBlank"===i[1].type);)"enter"===i[0]&&(r&&(e[r][1].type="lineEndingBlank"),i[1].type="lineEnding",r=o);r&&(n[1].end=Object.assign({},e[r][1].start),s=e.slice(r,c),s.unshift(n),Qo(e,r,c-r+1,s))}}return!a}function Si(e,t){const n=e[t][1],r=e[t][2];let o=t-1;const i=[],s=n._tokenizer||r.parser[n.contentType](n.start),l=s.events,a=[],c={};let u,d,p=-1,f=n,h=0,m=0;const g=[m];for(;f;){for(;e[++o][1]!==f;);i.push(o),f._tokenizer||(u=r.sliceStream(f),f.next||u.push(null),d&&s.defineSkip(f.start),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=f,f=f.next}for(f=n;++p<l.length;)"exit"===l[p][0]&&"enter"===l[p-1][0]&&l[p][1].type===l[p-1][1].type&&l[p][1].start.line!==l[p][1].end.line&&(m=p+1,g.push(m),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(s.events=[],f?(f._tokenizer=void 0,f.previous=void 0):g.pop(),p=g.length;p--;){const t=l.slice(g[p],g[p+1]),n=i.pop();a.unshift([n,n+t.length-1]),Qo(e,n,2,t)}for(p=-1;++p<a.length;)c[h+a[p][0]]=h+a[p][1],h+=a[p][1]-a[p][0]-1;return c}const Ei={tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?o(t):di(t)?e.check(Ci,i,o)(t):(e.consume(t),r)}function o(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function i(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return xi(e),e}},Ci={tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),yi(e,o,"linePrefix")};function o(o){if(null===o||di(o))return n(o);const i=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}},partial:!0};const Ti={tokenize:function(e){const t=this,n=e.attempt(ki,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,yi(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Ei,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const Mi={resolveAll:Ii()},Ni=Oi("string"),Ai=Oi("text");function Oi(e){return{tokenize:function(t){const n=this,r=this.parser.constructs[e],o=t.attempt(r,i,s);return i;function i(e){return a(e)?o(e):s(e)}function s(e){if(null!==e)return t.enter("data"),t.consume(e),l;t.consume(e)}function l(e){return a(e)?(t.exit("data"),o(e)):(t.consume(e),l)}function a(e){if(null===e)return!0;const t=r[e];let o=-1;if(t)for(;++o<t.length;){const e=t[o];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}},resolveAll:Ii("text"===e?Ri:void 0)}}function Ii(e){return function(t,n){let r,o=-1;for(;++o<=t.length;)void 0===r?t[o]&&"data"===t[o][1].type&&(r=o,o++):t[o]&&"data"===t[o][1].type||(o!==r+2&&(t[r][1].end=t[o-1][1].end,t.splice(r+2,o-r-2),o=r+2),r=void 0);return e?e(t,n):t}}function Ri(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],o=t.sliceStream(r);let i,s=o.length,l=-1,a=0;for(;s--;){const e=o[s];if("string"===typeof e){for(l=e.length;32===e.charCodeAt(l-1);)a++,l--;if(l)break;l=-1}else if(-2===e)i=!0,a++;else if(-1!==e){s++;break}}if(a){const o={type:n===e.length||i||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+s,_bufferIndex:s?l:r.start._bufferIndex+l},end:Object.assign({},r.end)};r.end=Object.assign({},o.start),r.start.offset===r.end.offset?Object.assign(r,o):(e.splice(n,0,["enter",o,t],["exit",o,t]),n+=2)}n++}return e}function Di(e,t,n){const r=[];let o=-1;for(;++o<e.length;){const i=e[o].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}function Li(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const o={},i=[];let s=[],l=[],a=!0;const c={consume:function(e){di(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,w()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++));u.previous=e,a=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=h(),u.events.push(["enter",n,u]),l.push(n),n},exit:function(e){const t=l.pop();return t.end=h(),u.events.push(["exit",t,u]),t},attempt:b((function(e,t){v(e,t.from)})),check:b(y),interrupt:b(y,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:f,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let o;for(;++n<e.length;){const i=e[n];let s;if("string"===typeof i)s=i;else switch(i){case-5:s="\r";break;case-4:s="\n";break;case-3:s="\r\n";break;case-2:s=t?" ":"\t";break;case-1:if(!t&&o)continue;s=" ";break;default:s=String.fromCharCode(i)}o=-2===i,r.push(s)}return r.join("")}(f(e),t)},now:h,defineSkip:function(e){o[e.line]=e.column,w()},write:function(e){if(s=Zo(s,e),m(),null!==s[s.length-1])return[];return v(t,0),u.events=Di(i,u.events,u),u.events}};let d,p=t.tokenize.call(u,c);return t.resolveAll&&i.push(t),u;function f(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,o=t.end._index,i=t.end._bufferIndex;let s;if(n===o)s=[e[n].slice(r,i)];else{if(s=e.slice(n,o),r>-1){const e=s[0];"string"===typeof e?s[0]=e.slice(r):s.shift()}i>0&&s.push(e[o].slice(0,i))}return s}(s,e)}function h(){const{line:e,column:t,offset:n,_index:o,_bufferIndex:i}=r;return{line:e,column:t,offset:n,_index:o,_bufferIndex:i}}function m(){let e;for(;r._index<s.length;){const t=s[r._index];if("string"===typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)g(t.charCodeAt(r._bufferIndex));else g(t)}}function g(e){a=void 0,d=e,p=p(e)}function y(e,t){t.restore()}function b(e,t){return function(n,o,i){let s,d,p,f;return Array.isArray(n)?m(n):"tokenize"in n?m([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return m([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function m(e){return s=e,d=0,0===e.length?i:g(e[d])}function g(e){return function(n){f=function(){const e=h(),t=u.previous,n=u.currentConstruct,o=u.events.length,i=Array.from(l);return{restore:s,from:o};function s(){r=e,u.previous=t,u.currentConstruct=n,u.events.length=o,l=i,w()}}(),p=e,e.partial||(u.currentConstruct=e);if(e.name&&u.parser.constructs.disable.null.includes(e.name))return b(n);return e.tokenize.call(t?Object.assign(Object.create(u),t):u,c,y,b)(n)}}function y(t){return a=!0,e(p,f),o}function b(e){return a=!0,f.restore(),++d<s.length?g(s[d]):i}}}function v(e,t){e.resolveAll&&!i.includes(e)&&i.push(e),e.resolve&&Qo(u.events,t,u.events.length-t,e.resolve(u.events.slice(t),u)),e.resolveTo&&(u.events=e.resolveTo(u.events,u))}function w(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}const _i={name:"thematicBreak",tokenize:function(e,t,n){let r,o=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,i(e)}(t)};function i(i){return i===r?(e.enter("thematicBreakSequence"),s(i)):o>=3&&(null===i||di(i))?(e.exit("thematicBreak"),t(i)):n(i)}function s(t){return t===r?(e.consume(t),o++,s):(e.exit("thematicBreakSequence"),fi(t)?yi(e,i,"whitespace")(t):i(t))}}};const Pi={name:"list",tokenize:function(e,t,n){const r=this,o=r.events[r.events.length-1];let i=o&&"linePrefix"===o[1].type?o[2].sliceSerialize(o[1],!0).length:0,s=0;return function(t){const o=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===o?!r.containerState.marker||t===r.containerState.marker:ai(t)){if(r.containerState.type||(r.containerState.type=o,e.enter(o,{_container:!0})),"listUnordered"===o)return e.enter("listItemPrefix"),42===t||45===t?e.check(_i,n,a)(t):a(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(t)}return n(t)};function l(t){return ai(t)&&++s<10?(e.consume(t),l):(!r.interrupt||s<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),a(t)):n(t)}function a(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(ki,r.interrupt?n:c,e.attempt(Fi,d,u))}function c(e){return r.containerState.initialBlankLine=!0,i++,d(e)}function u(t){return fi(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ki,o,i);function o(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,yi(e,t,"listItemIndent",r.containerState.size+1)(n)}function i(n){return r.containerState.furtherBlankLines||!fi(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(zi,t,s)(n))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,yi(e,e.attempt(Pi,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}},exit:function(e){e.exit(this.containerState.type)}},Fi={tokenize:function(e,t,n){const r=this;return yi(e,(function(e){const o=r.events[r.events.length-1];return!fi(e)&&o&&"listItemPrefixWhitespace"===o[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},zi={tokenize:function(e,t,n){const r=this;return yi(e,(function(e){const o=r.events[r.events.length-1];return o&&"listItemIndent"===o[1].type&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)},partial:!0};const $i={name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),o}return n(t)};function o(n){return fi(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(fi(t))return yi(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return o(t)};function o(r){return e.attempt($i,t,n)(r)}}},exit:function(e){e.exit("blockQuote")}};function Bi(e,t,n,r,o,i,s,l,a){const c=a||Number.POSITIVE_INFINITY;let u=0;return function(t){if(60===t)return e.enter(r),e.enter(o),e.enter(i),e.consume(t),e.exit(i),d;if(null===t||32===t||41===t||li(t))return n(t);return e.enter(r),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),h(t)};function d(n){return 62===n?(e.enter(i),e.consume(n),e.exit(i),e.exit(o),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),p(n))}function p(t){return 62===t?(e.exit("chunkString"),e.exit(l),d(t)):null===t||60===t||di(t)?n(t):(e.consume(t),92===t?f:p)}function f(t){return 60===t||62===t||92===t?(e.consume(t),p):p(t)}function h(o){return u||null!==o&&41!==o&&!pi(o)?u<c&&40===o?(e.consume(o),u++,h):41===o?(e.consume(o),u--,h):null===o||32===o||40===o||li(o)?n(o):(e.consume(o),92===o?m:h):(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(r),t(o))}function m(t){return 40===t||41===t||92===t?(e.consume(t),h):h(t)}}function ji(e,t,n,r,o,i){const s=this;let l,a=0;return function(t){return e.enter(r),e.enter(o),e.consume(t),e.exit(o),e.enter(i),c};function c(d){return a>999||null===d||91===d||93===d&&!l||94===d&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(d):93===d?(e.exit(i),e.enter(o),e.consume(d),e.exit(o),e.exit(r),t):di(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(d))}function u(t){return null===t||91===t||93===t||di(t)||a++>999?(e.exit("chunkString"),c(t)):(e.consume(t),l||(l=!fi(t)),92===t?d:u)}function d(t){return 91===t||92===t||93===t?(e.consume(t),a++,u):u(t)}}function Hi(e,t,n,r,o,i){let s;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(o),e.consume(t),e.exit(o),s=40===t?41:t,l;return n(t)};function l(n){return n===s?(e.enter(o),e.consume(n),e.exit(o),e.exit(r),t):(e.enter(i),a(n))}function a(t){return t===s?(e.exit(i),l(s)):null===t?n(t):di(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),yi(e,a,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===s||null===t||di(t)?(e.exit("chunkString"),a(t)):(e.consume(t),92===t?u:c)}function u(t){return t===s||92===t?(e.consume(t),c):c(t)}}function Ui(e,t){let n;return function r(o){if(di(o))return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r;if(fi(o))return yi(e,r,n?"linePrefix":"lineSuffix")(o);return t(o)}}function Wi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Vi={name:"definition",tokenize:function(e,t,n){const r=this;let o;return function(t){return e.enter("definition"),function(t){return ji.call(r,e,i,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function i(t){return o=Wi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),s):n(t)}function s(t){return pi(t)?Ui(e,l)(t):l(t)}function l(t){return Bi(e,a,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function a(t){return e.attempt(qi,c,c)(t)}function c(t){return fi(t)?yi(e,u,"whitespace")(t):u(t)}function u(i){return null===i||di(i)?(e.exit("definition"),r.parser.defined.push(o),t(i)):n(i)}}},qi={tokenize:function(e,t,n){return function(t){return pi(t)?Ui(e,r)(t):n(t)};function r(t){return Hi(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function o(t){return fi(t)?yi(e,i,"whitespace")(t):i(t)}function i(e){return null===e||di(e)?t(e):n(e)}},partial:!0};const Gi={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),yi(e,o,"linePrefix",5)(t)};function o(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?i(e):n(e)}function i(t){return null===t?l(t):di(t)?e.attempt(Ki,i,l)(t):(e.enter("codeFlowValue"),s(t))}function s(t){return null===t||di(t)?(e.exit("codeFlowValue"),i(t)):(e.consume(t),s)}function l(n){return e.exit("codeIndented"),t(n)}}},Ki={tokenize:function(e,t,n){const r=this;return o;function o(t){return r.parser.lazy[r.now().line]?n(t):di(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):yi(e,i,"linePrefix",5)(t)}function i(e){const i=r.events[r.events.length-1];return i&&"linePrefix"===i[1].type&&i[2].sliceSerialize(i[1],!0).length>=4?t(e):di(e)?o(e):n(e)}},partial:!0};const Yi={name:"headingAtx",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),o(t)}(t)};function o(t){return 35===t&&r++<6?(e.consume(t),o):null===t||pi(t)?(e.exit("atxHeadingSequence"),i(t)):n(t)}function i(n){return 35===n?(e.enter("atxHeadingSequence"),s(n)):null===n||di(n)?(e.exit("atxHeading"),t(n)):fi(n)?yi(e,i,"whitespace")(n):(e.enter("atxHeadingText"),l(n))}function s(t){return 35===t?(e.consume(t),s):(e.exit("atxHeadingSequence"),i(t))}function l(t){return null===t||35===t||pi(t)?(e.exit("atxHeadingText"),i(t)):(e.consume(t),l)}},resolve:function(e,t){let n,r,o=e.length-2,i=3;"whitespace"===e[i][1].type&&(i+=2);o-2>i&&"whitespace"===e[o][1].type&&(o-=2);"atxHeadingSequence"===e[o][1].type&&(i===o-1||o-4>i&&"whitespace"===e[o-2][1].type)&&(o-=i+1===o?2:4);o>i&&(n={type:"atxHeadingText",start:e[i][1].start,end:e[o][1].end},r={type:"chunkText",start:e[i][1].start,end:e[o][1].end,contentType:"text"},Qo(e,i,o-i+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e}};const Ji={name:"setextUnderline",tokenize:function(e,t,n){const r=this;let o;return function(t){let s,l=r.events.length;for(;l--;)if("lineEnding"!==r.events[l][1].type&&"linePrefix"!==r.events[l][1].type&&"content"!==r.events[l][1].type){s="paragraph"===r.events[l][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||s))return e.enter("setextHeadingLine"),o=t,function(t){return e.enter("setextHeadingLineSequence"),i(t)}(t);return n(t)};function i(t){return t===o?(e.consume(t),i):(e.exit("setextHeadingLineSequence"),fi(t)?yi(e,s,"lineSuffix")(t):s(t))}function s(r){return null===r||di(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}},resolveTo:function(e,t){let n,r,o,i=e.length;for(;i--;)if("enter"===e[i][0]){if("content"===e[i][1].type){n=i;break}"paragraph"===e[i][1].type&&(r=i)}else"content"===e[i][1].type&&e.splice(i,1),o||"definition"!==e[i][1].type||(o=i);const s={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};e[r][1].type="setextHeadingText",o?(e.splice(r,0,["enter",s,t]),e.splice(o+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[o][1].end)):e[n][1]=s;return e.push(["exit",s,t]),e}};const Xi=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Qi=["pre","script","style","textarea"],Zi={name:"htmlFlow",tokenize:function(e,t,n){const r=this;let o,i,s,l,a;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(l){return 33===l?(e.consume(l),u):47===l?(e.consume(l),i=!0,f):63===l?(e.consume(l),o=3,r.interrupt?t:L):oi(l)?(e.consume(l),s=String.fromCharCode(l),h):n(l)}function u(i){return 45===i?(e.consume(i),o=2,d):91===i?(e.consume(i),o=5,l=0,p):oi(i)?(e.consume(i),o=4,r.interrupt?t:L):n(i)}function d(o){return 45===o?(e.consume(o),r.interrupt?t:L):n(o)}function p(o){const i="CDATA[";return o===i.charCodeAt(l++)?(e.consume(o),6===l?r.interrupt?t:T:p):n(o)}function f(t){return oi(t)?(e.consume(t),s=String.fromCharCode(t),h):n(t)}function h(l){if(null===l||47===l||62===l||pi(l)){const a=47===l,c=s.toLowerCase();return a||i||!Qi.includes(c)?Xi.includes(s.toLowerCase())?(o=6,a?(e.consume(l),m):r.interrupt?t(l):T(l)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(l):i?g(l):y(l)):(o=1,r.interrupt?t(l):T(l))}return 45===l||ii(l)?(e.consume(l),s+=String.fromCharCode(l),h):n(l)}function m(o){return 62===o?(e.consume(o),r.interrupt?t:T):n(o)}function g(t){return fi(t)?(e.consume(t),g):E(t)}function y(t){return 47===t?(e.consume(t),E):58===t||95===t||oi(t)?(e.consume(t),b):fi(t)?(e.consume(t),y):E(t)}function b(t){return 45===t||46===t||58===t||95===t||ii(t)?(e.consume(t),b):v(t)}function v(t){return 61===t?(e.consume(t),w):fi(t)?(e.consume(t),v):y(t)}function w(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),a=t,k):fi(t)?(e.consume(t),w):x(t)}function k(t){return t===a?(e.consume(t),a=null,S):null===t||di(t)?n(t):(e.consume(t),k)}function x(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||pi(t)?v(t):(e.consume(t),x)}function S(e){return 47===e||62===e||fi(e)?y(e):n(e)}function E(t){return 62===t?(e.consume(t),C):n(t)}function C(t){return null===t||di(t)?T(t):fi(t)?(e.consume(t),C):n(t)}function T(t){return 45===t&&2===o?(e.consume(t),O):60===t&&1===o?(e.consume(t),I):62===t&&4===o?(e.consume(t),_):63===t&&3===o?(e.consume(t),L):93===t&&5===o?(e.consume(t),D):!di(t)||6!==o&&7!==o?null===t||di(t)?(e.exit("htmlFlowData"),M(t)):(e.consume(t),T):(e.exit("htmlFlowData"),e.check(es,P,M)(t))}function M(t){return e.check(ts,N,P)(t)}function N(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),A}function A(t){return null===t||di(t)?M(t):(e.enter("htmlFlowData"),T(t))}function O(t){return 45===t?(e.consume(t),L):T(t)}function I(t){return 47===t?(e.consume(t),s="",R):T(t)}function R(t){if(62===t){const n=s.toLowerCase();return Qi.includes(n)?(e.consume(t),_):T(t)}return oi(t)&&s.length<8?(e.consume(t),s+=String.fromCharCode(t),R):T(t)}function D(t){return 93===t?(e.consume(t),L):T(t)}function L(t){return 62===t?(e.consume(t),_):45===t&&2===o?(e.consume(t),L):T(t)}function _(t){return null===t||di(t)?(e.exit("htmlFlowData"),P(t)):(e.consume(t),_)}function P(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},es={tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(ki,t,n)}},partial:!0},ts={tokenize:function(e,t,n){const r=this;return function(t){if(di(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o;return n(t)};function o(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0};const ns={tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o};function o(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},rs={name:"codeFenced",tokenize:function(e,t,n){const r=this,o={tokenize:function(e,t,n){let o=0;return s;function s(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a}function a(t){return e.enter("codeFencedFence"),fi(t)?yi(e,c,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):c(t)}function c(t){return t===i?(e.enter("codeFencedFenceSequence"),u(t)):n(t)}function u(t){return t===i?(o++,e.consume(t),u):o>=l?(e.exit("codeFencedFenceSequence"),fi(t)?yi(e,d,"whitespace")(t):d(t)):n(t)}function d(r){return null===r||di(r)?(e.exit("codeFencedFence"),t(r)):n(r)}},partial:!0};let i,s=0,l=0;return function(t){return function(t){const n=r.events[r.events.length-1];return s=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,i=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),a(t)}(t)};function a(t){return t===i?(l++,e.consume(t),a):l<3?n(t):(e.exit("codeFencedFenceSequence"),fi(t)?yi(e,c,"whitespace")(t):c(t))}function c(n){return null===n||di(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(ns,f,b)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(n))}function u(t){return null===t||di(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):fi(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),yi(e,d,"whitespace")(t)):96===t&&t===i?n(t):(e.consume(t),u)}function d(t){return null===t||di(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(t))}function p(t){return null===t||di(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===i?n(t):(e.consume(t),p)}function f(t){return e.attempt(o,b,h)(t)}function h(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m}function m(t){return s>0&&fi(t)?yi(e,g,"linePrefix",s+1)(t):g(t)}function g(t){return null===t||di(t)?e.check(ns,f,b)(t):(e.enter("codeFlowValue"),y(t))}function y(t){return null===t||di(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),y)}function b(n){return e.exit("codeFenced"),t(n)}},concrete:!0};const is=document.createElement("i");function ss(e){const t="&"+e+";";is.innerHTML=t;const n=is.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}const ls={name:"characterReference",tokenize:function(e,t,n){const r=this;let o,i,s=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),l};function l(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),a):(e.enter("characterReferenceValue"),o=31,i=ii,c(t))}function a(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,i=ci,c):(e.enter("characterReferenceValue"),o=7,i=ai,c(t))}function c(l){if(59===l&&s){const o=e.exit("characterReferenceValue");return i!==ii||ss(r.sliceSerialize(o))?(e.enter("characterReferenceMarker"),e.consume(l),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(l)}return i(l)&&s++<o?(e.consume(l),c):n(l)}}};const as={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return ui(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const cs={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),yi(e,t,"linePrefix")}}};const us={name:"labelEnd",tokenize:function(e,t,n){const r=this;let o,i,s=r.events.length;for(;s--;)if(("labelImage"===r.events[s][1].type||"labelLink"===r.events[s][1].type)&&!r.events[s][1]._balanced){o=r.events[s][1];break}return function(t){if(!o)return n(t);if(o._inactive)return u(t);return i=r.parser.defined.includes(Wi(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),l};function l(t){return 40===t?e.attempt(ds,c,i?c:u)(t):91===t?e.attempt(ps,c,i?a:u)(t):i?c(t):u(t)}function a(t){return e.attempt(fs,c,u)(t)}function c(e){return t(e)}function u(e){return o._balanced=!0,n(e)}},resolveTo:function(e,t){let n,r,o,i,s=e.length,l=0;for(;s--;)if(n=e[s][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[s][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(o){if("enter"===e[s][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=s,"labelLink"!==n.type)){l=2;break}}else"labelEnd"===n.type&&(o=s);const a={type:"labelLink"===e[r][1].type?"link":"image",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[r][1].start),end:Object.assign({},e[o][1].end)},u={type:"labelText",start:Object.assign({},e[r+l+2][1].end),end:Object.assign({},e[o-2][1].start)};return i=[["enter",a,t],["enter",c,t]],i=Zo(i,e.slice(r+1,r+l+3)),i=Zo(i,[["enter",u,t]]),i=Zo(i,Di(t.parser.constructs.insideSpan.null,e.slice(r+l+4,o-3),t)),i=Zo(i,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),i=Zo(i,e.slice(o+1)),i=Zo(i,[["exit",a,t]]),Qo(e,r,e.length,i),e},resolveAll:function(e){let t=-1;for(;++t<e.length;){const n=e[t][1];"labelImage"!==n.type&&"labelLink"!==n.type&&"labelEnd"!==n.type||(e.splice(t+1,"labelImage"===n.type?4:2),n.type="data",t++)}return e}},ds={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return pi(t)?Ui(e,o)(t):o(t)}function o(t){return 41===t?c(t):Bi(e,i,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function i(t){return pi(t)?Ui(e,l)(t):c(t)}function s(e){return n(e)}function l(t){return 34===t||39===t||40===t?Hi(e,a,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function a(t){return pi(t)?Ui(e,c)(t):c(t)}function c(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},ps={tokenize:function(e,t,n){const r=this;return function(t){return ji.call(r,e,o,i,"reference","referenceMarker","referenceString")(t)};function o(e){return r.parser.defined.includes(Wi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function i(e){return n(e)}}},fs={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const hs={name:"labelStartImage",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),o};function o(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),i):n(t)}function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:us.resolveAll};function ms(e){return null===e||pi(e)||mi(e)?1:hi(e)?2:void 0}const gs={name:"attention",tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=ms(r);let i;return function(t){return i=t,e.enter("attentionSequence"),s(t)};function s(l){if(l===i)return e.consume(l),s;const a=e.exit("attentionSequence"),c=ms(l),u=!c||2===c&&o||n.includes(l),d=!o||2===o&&c||n.includes(r);return a._open=Boolean(42===i?u:u&&(o||!d)),a._close=Boolean(42===i?d:d&&(c||!u)),t(l)}},resolveAll:function(e,t){let n,r,o,i,s,l,a,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const d=Object.assign({},e[n][1].end),p=Object.assign({},e[u][1].start);ys(d,-l),ys(p,l),i={type:l>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[n][1].end)},s={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[u][1].start),end:p},o={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[u][1].start)},r={type:l>1?"strong":"emphasis",start:Object.assign({},i.start),end:Object.assign({},s.end)},e[n][1].end=Object.assign({},i.start),e[u][1].start=Object.assign({},s.end),a=[],e[n][1].end.offset-e[n][1].start.offset&&(a=Zo(a,[["enter",e[n][1],t],["exit",e[n][1],t]])),a=Zo(a,[["enter",r,t],["enter",i,t],["exit",i,t],["enter",o,t]]),a=Zo(a,Di(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),a=Zo(a,[["exit",o,t],["enter",s,t],["exit",s,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,a=Zo(a,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,Qo(e,n-1,u-n+3,a),u=n+a.length-c-2;break}u=-1;for(;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e}};function ys(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const bs={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o};function o(t){return oi(t)?(e.consume(t),i):a(t)}function i(e){return 43===e||45===e||46===e||ii(e)?(r=1,s(e)):a(e)}function s(t){return 58===t?(e.consume(t),r=0,l):(43===t||45===t||46===t||ii(t))&&r++<32?(e.consume(t),s):(r=0,a(t))}function l(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||li(r)?n(r):(e.consume(r),l)}function a(t){return 64===t?(e.consume(t),c):si(t)?(e.consume(t),a):n(t)}function c(e){return ii(e)?u(e):n(e)}function u(n){return 46===n?(e.consume(n),r=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||ii(t))&&r++<63){const n=45===t?d:u;return e.consume(t),n}return n(t)}}};const vs={name:"htmlText",tokenize:function(e,t,n){const r=this;let o,i,s;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),l};function l(t){return 33===t?(e.consume(t),a):47===t?(e.consume(t),w):63===t?(e.consume(t),b):oi(t)?(e.consume(t),S):n(t)}function a(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),i=0,f):oi(t)?(e.consume(t),y):n(t)}function c(t){return 45===t?(e.consume(t),p):n(t)}function u(t){return null===t?n(t):45===t?(e.consume(t),d):di(t)?(s=u,R(t)):(e.consume(t),u)}function d(t){return 45===t?(e.consume(t),p):u(t)}function p(e){return 62===e?I(e):45===e?d(e):u(e)}function f(t){const r="CDATA[";return t===r.charCodeAt(i++)?(e.consume(t),6===i?h:f):n(t)}function h(t){return null===t?n(t):93===t?(e.consume(t),m):di(t)?(s=h,R(t)):(e.consume(t),h)}function m(t){return 93===t?(e.consume(t),g):h(t)}function g(t){return 62===t?I(t):93===t?(e.consume(t),g):h(t)}function y(t){return null===t||62===t?I(t):di(t)?(s=y,R(t)):(e.consume(t),y)}function b(t){return null===t?n(t):63===t?(e.consume(t),v):di(t)?(s=b,R(t)):(e.consume(t),b)}function v(e){return 62===e?I(e):b(e)}function w(t){return oi(t)?(e.consume(t),k):n(t)}function k(t){return 45===t||ii(t)?(e.consume(t),k):x(t)}function x(t){return di(t)?(s=x,R(t)):fi(t)?(e.consume(t),x):I(t)}function S(t){return 45===t||ii(t)?(e.consume(t),S):47===t||62===t||pi(t)?E(t):n(t)}function E(t){return 47===t?(e.consume(t),I):58===t||95===t||oi(t)?(e.consume(t),C):di(t)?(s=E,R(t)):fi(t)?(e.consume(t),E):I(t)}function C(t){return 45===t||46===t||58===t||95===t||ii(t)?(e.consume(t),C):T(t)}function T(t){return 61===t?(e.consume(t),M):di(t)?(s=T,R(t)):fi(t)?(e.consume(t),T):E(t)}function M(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),o=t,N):di(t)?(s=M,R(t)):fi(t)?(e.consume(t),M):(e.consume(t),A)}function N(t){return t===o?(e.consume(t),o=void 0,O):null===t?n(t):di(t)?(s=N,R(t)):(e.consume(t),N)}function A(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||pi(t)?E(t):(e.consume(t),A)}function O(e){return 47===e||62===e||pi(e)?E(e):n(e)}function I(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function R(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),D}function D(t){return fi(t)?yi(e,L,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):L(t)}function L(t){return e.enter("htmlTextData"),s(t)}}};const ws={name:"labelStartLink",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),o};function o(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:us.resolveAll};const ks={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return di(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const xs={name:"codeText",tokenize:function(e,t,n){let r,o,i=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),s(t)};function s(t){return 96===t?(e.consume(t),i++,s):(e.exit("codeTextSequence"),l(t))}function l(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),l):96===t?(o=e.enter("codeTextSequence"),r=0,c(t)):di(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l):(e.enter("codeTextData"),a(t))}function a(t){return null===t||32===t||96===t||di(t)?(e.exit("codeTextData"),l(t)):(e.consume(t),a)}function c(n){return 96===n?(e.consume(n),r++,c):r===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(o.type="codeTextData",a(n))}},resolve:function(e){let t,n,r=e.length-4,o=3;if(("lineEnding"===e[o][1].type||"space"===e[o][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=o;++t<r;)if("codeTextData"===e[t][1].type){e[o][1].type="codeTextPadding",e[r][1].type="codeTextPadding",o+=2,r-=2;break}t=o-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};const Ss={42:Pi,43:Pi,45:Pi,48:Pi,49:Pi,50:Pi,51:Pi,52:Pi,53:Pi,54:Pi,55:Pi,56:Pi,57:Pi,62:$i},Es={91:Vi},Cs={[-2]:Gi,[-1]:Gi,32:Gi},Ts={35:Yi,42:_i,45:[Ji,_i],60:Zi,61:Ji,95:_i,96:rs,126:rs},Ms={38:ls,92:as},Ns={[-5]:cs,[-4]:cs,[-3]:cs,33:hs,38:ls,42:gs,60:[bs,vs],91:ws,92:[ks,as],93:us,95:gs,96:xs},As={null:[gs,Mi]},Os={null:[42,95]},Is={null:[]};const Rs=/[\0\t\n\r]/g;function Ds(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCharCode(n)}const Ls=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function _s(e){return e.replace(Ls,Ps)}function Ps(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return Ds(n.slice(t?2:1),t?16:10)}return ss(n)||e}function Fs(e){return e&&"object"===typeof e?"position"in e||"type"in e?$s(e.position):"start"in e||"end"in e?$s(e):"line"in e||"column"in e?zs(e):"":""}function zs(e){return Bs(e&&e.line)+":"+Bs(e&&e.column)}function $s(e){return zs(e&&e.start)+"-"+zs(e&&e.end)}function Bs(e){return e&&"number"===typeof e?e:1}const js={}.hasOwnProperty,Hs=function(t,n,r){return"string"!==typeof n&&(r=n,n=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(ne),autolinkProtocol:M,autolinkEmail:M,atxHeading:l(Q),blockQuote:l(G),characterEscape:M,characterReference:M,codeFenced:l(K),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:l(K,a),codeText:l(Y,a),codeTextData:M,data:M,codeFlowValue:M,definition:l(J),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:l(X),hardBreakEscape:l(Z),hardBreakTrailing:l(Z),htmlFlow:l(ee,a),htmlFlowData:M,htmlText:l(ee,a),htmlTextData:M,image:l(te),label:a,link:l(ne),listItem:l(oe),listItemValue:h,listOrdered:l(re,f),listUnordered:l(re),paragraph:l(ie),reference:j,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:l(Q),strong:l(se),thematicBreak:l(ae)},exit:{atxHeading:u(),atxHeadingSequence:S,autolink:u(),autolinkEmail:q,autolinkProtocol:V,blockQuote:u(),characterEscapeValue:N,characterReferenceMarkerHexadecimal:U,characterReferenceMarkerNumeric:U,characterReferenceValue:W,codeFenced:u(b),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:g,codeFlowValue:N,codeIndented:u(v),codeText:u(D),codeTextData:N,data:N,definition:u(),definitionDestinationString:x,definitionLabelString:w,definitionTitleString:k,emphasis:u(),hardBreakEscape:u(O),hardBreakTrailing:u(O),htmlFlow:u(I),htmlFlowData:N,htmlText:u(R),htmlTextData:N,image:u(_),label:F,labelText:P,lineEnding:A,link:u(L),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:H,resourceDestinationString:z,resourceTitleString:$,resource:B,setextHeading:u(T),setextHeadingLineSequence:C,setextHeadingText:E,strong:u(),thematicBreak:u()}};Ws(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let n={type:"root",children:[]};const r={stack:[n],tokenStack:[],config:t,enter:c,exit:d,buffer:a,resume:p,setData:i,getData:s},l=[];let u=-1;for(;++u<e.length;)if("listOrdered"===e[u][1].type||"listUnordered"===e[u][1].type)if("enter"===e[u][0])l.push(u);else{u=o(e,l.pop(),u)}for(u=-1;++u<e.length;){const n=t[e[u][0]];js.call(n,e[u][1].type)&&n[e[u][1].type].call(Object.assign({sliceSerialize:e[u][2].sliceSerialize},r),e[u][1])}if(r.tokenStack.length>0){const e=r.tokenStack[r.tokenStack.length-1];(e[1]||qs).call(r,void 0,e[0])}for(n.position={start:Us(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:Us(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},u=-1;++u<t.transforms.length;)n=t.transforms[u](n)||n;return n}function o(e,t,n){let r,o,i,s,l=t-1,a=-1,c=!1;for(;++l<=n;){const t=e[l];if("listUnordered"===t[1].type||"listOrdered"===t[1].type||"blockQuote"===t[1].type?("enter"===t[0]?a++:a--,s=void 0):"lineEndingBlank"===t[1].type?"enter"===t[0]&&(!r||s||a||i||(i=l),s=void 0):"linePrefix"===t[1].type||"listItemValue"===t[1].type||"listItemMarker"===t[1].type||"listItemPrefix"===t[1].type||"listItemPrefixWhitespace"===t[1].type||(s=void 0),!a&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===a&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let s=l;for(o=void 0;s--;){const t=e[s];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;o&&(e[o][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",o=s}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}i&&(!o||i<o)&&(r._spread=!0),r.end=Object.assign({},o?e[o][1].start:t[1].end),e.splice(o||l,0,["exit",r,t[2]]),l++,n++}"listItemPrefix"===t[1].type&&(r={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0},e.splice(l,0,["enter",r,t[2]]),l++,n++,i=void 0,s=!0)}}return e[t][1]._spread=c,n}function i(e,t){n[e]=t}function s(e){return n[e]}function l(e,t){return n;function n(n){c.call(this,e(n),n),t&&t.call(this,n)}}function a(){this.stack.push({type:"fragment",children:[]})}function c(e,t,n){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:Us(t.start)},e}function u(e){return t;function t(t){e&&e.call(this,t),d.call(this,t)}}function d(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+Fs({start:e.start,end:e.end})+"): it\u2019s not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||qs).call(this,e,r[0])}return n.position.end=Us(e.end),n}function p(){return Yo(this.stack.pop())}function f(){i("expectingFirstListItemValue",!0)}function h(e){if(s("expectingFirstListItemValue")){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),i("expectingFirstListItemValue")}}function m(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function g(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function y(){s("flowCodeInside")||(this.buffer(),i("flowCodeInside",!0))}function b(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),i("flowCodeInside")}function v(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function w(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Wi(this.sliceSerialize(e)).toLowerCase()}function k(){const e=this.resume();this.stack[this.stack.length-1].title=e}function x(){const e=this.resume();this.stack[this.stack.length-1].url=e}function S(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function E(){i("setextHeadingSlurpLineEnding",!0)}function C(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2}function T(){i("setextHeadingSlurpLineEnding")}function M(e){const t=this.stack[this.stack.length-1];let n=t.children[t.children.length-1];n&&"text"===n.type||(n=le(),n.position={start:Us(e.start)},t.children.push(n)),this.stack.push(n)}function N(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=Us(e.end)}function A(e){const n=this.stack[this.stack.length-1];if(s("atHardBreak")){return n.children[n.children.length-1].position.end=Us(e.end),void i("atHardBreak")}!s("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(n.type)&&(M.call(this,e),N.call(this,e))}function O(){i("atHardBreak",!0)}function I(){const e=this.resume();this.stack[this.stack.length-1].value=e}function R(){const e=this.resume();this.stack[this.stack.length-1].value=e}function D(){const e=this.resume();this.stack[this.stack.length-1].value=e}function L(){const e=this.stack[this.stack.length-1];if(s("inReference")){const t=s("referenceType")||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;i("referenceType")}function _(){const e=this.stack[this.stack.length-1];if(s("inReference")){const t=s("referenceType")||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;i("referenceType")}function P(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=_s(t),n.identifier=Wi(t).toLowerCase()}function F(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(i("inReference",!0),"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function z(){const e=this.resume();this.stack[this.stack.length-1].url=e}function $(){const e=this.resume();this.stack[this.stack.length-1].title=e}function B(){i("inReference")}function j(){i("referenceType","collapsed")}function H(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Wi(this.sliceSerialize(e)).toLowerCase(),i("referenceType","full")}function U(e){i("characterReferenceType",e.type)}function W(e){const t=this.sliceSerialize(e),n=s("characterReferenceType");let r;if(n)r=Ds(t,"characterReferenceMarkerNumeric"===n?10:16),i("characterReferenceType");else{r=ss(t)}const o=this.stack.pop();o.value+=r,o.position.end=Us(e.end)}function V(e){N.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function q(e){N.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function G(){return{type:"blockquote",children:[]}}function K(){return{type:"code",lang:null,meta:null,value:""}}function Y(){return{type:"inlineCode",value:""}}function J(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function X(){return{type:"emphasis",children:[]}}function Q(){return{type:"heading",depth:void 0,children:[]}}function Z(){return{type:"break"}}function ee(){return{type:"html",value:""}}function te(){return{type:"image",title:null,url:"",alt:null}}function ne(){return{type:"link",title:null,url:"",children:[]}}function re(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function oe(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ie(){return{type:"paragraph",children:[]}}function se(){return{type:"strong",children:[]}}function le(){return{type:"text",value:""}}function ae(){return{type:"thematicBreak"}}}(r)(function(e){for(;!xi(e););return e}(function(t){const n={defined:[],lazy:{},constructs:ti([e,...(t||{}).extensions||[]]),content:r(bi),document:r(vi),flow:r(Ti),string:r(Ni),text:r(Ai)};return n;function r(e){return function(t){return Li(n,e,t)}}}(r).document().write(function(){let e,t=1,n="",r=!0;return function(o,i,s){const l=[];let a,c,u,d,p;for(o=n+o.toString(i),u=0,n="",r&&(65279===o.charCodeAt(0)&&u++,r=void 0);u<o.length;){if(Rs.lastIndex=u,a=Rs.exec(o),d=a&&void 0!==a.index?a.index:o.length,p=o.charCodeAt(d),!a){n=o.slice(u);break}if(10===p&&u===d&&e)l.push(-3),e=void 0;else switch(e&&(l.push(-5),e=void 0),u<d&&(l.push(o.slice(u,d)),t+=d-u),p){case 0:l.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),l.push(-2);t++<c;)l.push(-1);break;case 10:l.push(-4),t=1;break;default:e=!0,t=1}u=d+1}return s&&(e&&l.push(-5),n&&l.push(n),l.push(null)),l}}()(t,n,!0))))};function Us(e){return{line:e.line,column:e.column,offset:e.offset}}function Ws(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Ws(e,r):Vs(e,r)}}function Vs(e,t){let n;for(n in t)if(js.call(t,n))if("canContainEols"===n){const r=t[n];r&&e[n].push(...r)}else if("transforms"===n){const r=t[n];r&&e[n].push(...r)}else if("enter"===n||"exit"===n){const r=t[n];r&&Object.assign(e[n],r)}}function qs(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Fs({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Fs({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Fs({start:t.start,end:t.end})+") is still open")}function Gs(e){Object.assign(this,{Parser:t=>{const n=this.data("settings");return Hs(t,Object.assign({},n,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}const Ks={}.hasOwnProperty;function Ys(e,t){let n,r=-1;if(t.extensions)for(;++r<t.extensions.length;)Ys(e,t.extensions[r]);for(n in t)"extensions"===n||("unsafe"===n||"join"===n?e[n]=[...e[n]||[],...t[n]||[]]:"handlers"===n?e[n]=Object.assign(e[n],t[n]||{}):e.options[n]=t[n]);return e}function Js(e,t,n){return">"+(n?"":" ")+e}function Xs(e,t){return Qs(e,t.inConstruct,!0)&&!Qs(e,t.notInConstruct,!1)}function Qs(e,t,n){if("string"===typeof t&&(t=[t]),!t||0===t.length)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Zs(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if("\n"===n.unsafe[o].character&&Xs(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return"\\\n"}function el(e,t){return Boolean(!t.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function tl(e,t,n){return(n?"":"    ")+e}function nl(e){const t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function rl(e,t,n,r){const o=function(e){const t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(n),i=n.enter("emphasis"),s=n.createTracker(r);let l=s.move(o);return l+=s.move(n.containerPhrasing(e,{before:l,after:o,...s.current()})),l+=s.move(o),i(),l}rl.peek=function(e,t,n){return n.options.emphasis||"*"};const ol=function(e){if(void 0===e||null===e)return sl;if("string"===typeof e)return function(e){return il(t);function t(t){return t&&t.type===e}}(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=ol(e[n]);return il(r);function r(){let e=-1;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];for(;++e<t.length;)if(t[e].call(this,...r))return!0;return!1}}(e):function(e){return il(t);function t(t){let n;for(n in e)if(t[n]!==e[n])return!1;return!0}}(e);if("function"===typeof e)return il(e);throw new Error("Expected function, string, or object as test")};function il(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return Boolean(t&&"object"===typeof t&&"type"in t&&Boolean(e.call(this,t,...r)))}}function sl(){return!0}const ll=!0,al=!1,cl="skip",ul=function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null);const o=ol(t),i=r?-1:1;!function e(s,l,a){const c=s&&"object"===typeof s?s:{};if("string"===typeof c.type){const e="string"===typeof c.tagName?c.tagName:"string"===typeof c.name?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+s.type+(e?"<"+e+">":"")+")"})}return u;function u(){let c,u,d,p=[];if((!t||o(s,l,a[a.length-1]||null))&&(p=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[ll,e];return[e]}(n(s,a)),p[0]===al))return p;if(s.children&&p[0]!==cl)for(u=(r?s.children.length:-1)+i,d=a.concat(s);u>-1&&u<s.children.length;){if(c=e(s.children[u],u,d)(),c[0]===al)return c;u="number"===typeof c[1]?c[1]:u+i}return p}}(e,void 0,[])()};const dl=function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null),ul(e,t,(function(e,t){const r=t[t.length-1];return n(e,r?r.children.indexOf(e):null,r)}),r)};function pl(e,t){let n=!1;return dl(e,(e=>{if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return n=!0,al})),Boolean((!e.depth||e.depth<3)&&Yo(e)&&(t.options.setext||n))}function fl(e){return e.value||""}function hl(e,t,n,r){const o=nl(n),i='"'===o?"Quote":"Apostrophe",s=n.enter("image");let l=n.enter("label");const a=n.createTracker(r);let c=a.move("![");return c+=a.move(n.safe(e.alt,{before:c,after:"]",...a.current()})),c+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=n.enter("title".concat(i)),c+=a.move(" "+o),c+=a.move(n.safe(e.title,{before:c,after:o,...a.current()})),c+=a.move(o),l()),c+=a.move(")"),s(),c}function ml(e,t,n,r){const o=e.referenceType,i=n.enter("imageReference");let s=n.enter("label");const l=n.createTracker(r);let a=l.move("![");const c=n.safe(e.alt,{before:a,after:"]",...l.current()});a+=l.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(e),{before:a,after:"]",...l.current()});return s(),n.stack=u,i(),"full"!==o&&c&&c===d?"shortcut"===o?a=a.slice(0,-1):a+=l.move("]"):a+=l.move(d+"]"),a}function gl(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function yl(e,t,n){let r=e.value||"",o="`",i=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const e=n.unsafe[i],t=gl(e);let o;if(e.atBreak)for(;o=t.exec(r);){let e=o.index;10===r.charCodeAt(e)&&13===r.charCodeAt(e-1)&&e--,r=r.slice(0,e)+" "+r.slice(o.index+1)}}return o+r+o}function bl(e,t){const n=Yo(e);return Boolean(!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}function vl(e,t,n,r){const o=nl(n),i='"'===o?"Quote":"Apostrophe",s=n.createTracker(r);let l,a;if(bl(e,n)){const t=n.stack;n.stack=[],l=n.enter("autolink");let r=s.move("<");return r+=s.move(n.containerPhrasing(e,{before:r,after:">",...s.current()})),r+=s.move(">"),l(),n.stack=t,r}l=n.enter("link"),a=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(e,{before:c,after:"](",...s.current()})),c+=s.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(a=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),a(),e.title&&(a=n.enter("title".concat(i)),c+=s.move(" "+o),c+=s.move(n.safe(e.title,{before:c,after:o,...s.current()})),c+=s.move(o),a()),c+=s.move(")"),l(),c}function wl(e,t,n,r){const o=e.referenceType,i=n.enter("linkReference");let s=n.enter("label");const l=n.createTracker(r);let a=l.move("[");const c=n.containerPhrasing(e,{before:a,after:"]",...l.current()});a+=l.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(e),{before:a,after:"]",...l.current()});return s(),n.stack=u,i(),"full"!==o&&c&&c===d?"shortcut"===o?a=a.slice(0,-1):a+=l.move("]"):a+=l.move(d+"]"),a}function kl(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function xl(e){const t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Sl(e){const t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function El(e,t,n,r){const o=function(e){const t=e.options.listItemIndent||"tab";if(1===t||"1"===t)return"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n);let i=n.bulletCurrent||kl(n);t&&"list"===t.type&&t.ordered&&(i=("number"===typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+i);let s=i.length+1;("tab"===o||"mixed"===o&&(t&&"list"===t.type&&t.spread||e.spread))&&(s=4*Math.ceil(s/4));const l=n.createTracker(r);l.move(i+" ".repeat(s-i.length)),l.shift(s);const a=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,l.current()),(function(e,t,n){if(t)return(n?"":" ".repeat(s))+e;return(n?i:i+" ".repeat(s-i.length))+e}));return a(),c}fl.peek=function(){return"<"},hl.peek=function(){return"!"},ml.peek=function(){return"!"},yl.peek=function(){return"`"},vl.peek=function(e,t,n){return bl(e,n)?"<":"["},wl.peek=function(){return"["};const Cl=ol(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","link","linkReference","strong","text"]);function Tl(e,t,n,r){const o=function(e){const t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(n),i=n.enter("strong"),s=n.createTracker(r);let l=s.move(o+o);return l+=s.move(n.containerPhrasing(e,{before:l,after:o,...s.current()})),l+=s.move(o+o),i(),l}Tl.peek=function(e,t,n){return n.options.strong||"*"};const Ml={blockquote:function(e,t,n,r){const o=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const s=n.indentLines(n.containerFlow(e,i.current()),Js);return o(),s},break:Zs,code:function(e,t,n,r){const o=function(e){const t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(n),i=e.value||"",s="`"===o?"GraveAccent":"Tilde";if(el(e,n)){const e=n.enter("codeIndented"),t=n.indentLines(i,tl);return e(),t}const l=n.createTracker(r),a=o.repeat(Math.max(function(e,t){const n=String(e);let r=n.indexOf(t),o=r,i=0,s=0;if("string"!==typeof t)throw new TypeError("Expected substring");for(;-1!==r;)r===o?++i>s&&(s=i):i=1,o=r+t.length,r=n.indexOf(t,o);return s}(i,o)+1,3)),c=n.enter("codeFenced");let u=l.move(a);if(e.lang){const t=n.enter("codeFencedLang".concat(s));u+=l.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...l.current()})),t()}if(e.lang&&e.meta){const t=n.enter("codeFencedMeta".concat(s));u+=l.move(" "),u+=l.move(n.safe(e.meta,{before:u,after:"\n",encode:["`"],...l.current()})),t()}return u+=l.move("\n"),i&&(u+=l.move(i+"\n")),u+=l.move(a),c(),u},definition:function(e,t,n,r){const o=nl(n),i='"'===o?"Quote":"Apostrophe",s=n.enter("definition");let l=n.enter("label");const a=n.createTracker(r);let c=a.move("[");return c+=a.move(n.safe(n.associationId(e),{before:c,after:"]",...a.current()})),c+=a.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":"\n",...a.current()}))),l(),e.title&&(l=n.enter("title".concat(i)),c+=a.move(" "+o),c+=a.move(n.safe(e.title,{before:c,after:o,...a.current()})),c+=a.move(o),l()),s(),c},emphasis:rl,hardBreak:Zs,heading:function(e,t,n,r){const o=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if(pl(e,n)){const t=n.enter("headingSetext"),r=n.enter("phrasing"),s=n.containerPhrasing(e,{...i.current(),before:"\n",after:"\n"});return r(),t(),s+"\n"+(1===o?"=":"-").repeat(s.length-(Math.max(s.lastIndexOf("\r"),s.lastIndexOf("\n"))+1))}const s="#".repeat(o),l=n.enter("headingAtx"),a=n.enter("phrasing");i.move(s+" ");let c=n.containerPhrasing(e,{before:"# ",after:"\n",...i.current()});return/^[\t ]/.test(c)&&(c="&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),a(),l(),c},html:fl,image:hl,imageReference:ml,inlineCode:yl,link:vl,linkReference:wl,list:function(e,t,n,r){const o=n.enter("list"),i=n.bulletCurrent;let s=e.ordered?xl(n):kl(n);const l=e.ordered?function(e){const t=xl(e),n=e.options.bulletOrderedOther;if(!n)return"."===t?")":".";if("."!==n&&")"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrderedOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bulletOrdered` (`"+t+"`) and `bulletOrderedOther` (`"+n+"`) to be different");return n}(n):function(e){const t=kl(e),n=e.options.bulletOther;if(!n)return"*"===t?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n),a=n.bulletLastUsed;let c=!1;if(t&&(e.ordered?n.options.bulletOrderedOther:n.options.bulletOther)&&a&&s===a&&(c=!0),!e.ordered){const t=e.children?e.children[0]:void 0;if("*"!==s&&"-"!==s||!t||t.children&&t.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(c=!0),Sl(n)===s&&t){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){c=!0;break}}}}c&&(s=l),n.bulletCurrent=s;const u=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=i,o(),u},listItem:El,paragraph:function(e,t,n,r){const o=n.enter("paragraph"),i=n.enter("phrasing"),s=n.containerPhrasing(e,r);return i(),o(),s},root:function(e,t,n,r){const o=e.children.some((e=>Cl(e)));return(o?n.containerPhrasing:n.containerFlow).call(n,e,r)},strong:Tl,text:function(e,t,n,r){return n.safe(e.value,r)},thematicBreak:function(e,t,n){const r=(Sl(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(n));return n.options.ruleSpaces?r.slice(0,-1):r}},Nl=[function(e,t,n,r){if("code"===t.type&&el(t,r)&&("list"===e.type||e.type===t.type&&el(e,r)))return!1;if("list"===e.type&&e.type===t.type&&Boolean(e.ordered)===Boolean(t.ordered)&&!(e.ordered?r.options.bulletOrderedOther:r.options.bulletOther))return!1;if("spread"in n&&"boolean"===typeof n.spread){if("paragraph"===e.type&&(e.type===t.type||"definition"===t.type||"heading"===t.type&&pl(t,r)))return;return n.spread?1:0}}];const Al=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],Ol=[{character:"\t",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"\t",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"\t",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:"\n",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Al},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:"(?:[\r\n]|$)"},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Al},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:"(?:[ \t\r\n*])"},{character:"*",inConstruct:"phrasing",notInConstruct:Al},{atBreak:!0,character:"+",after:"(?:[ \t\r\n])"},{atBreak:!0,character:"-",after:"(?:[ \t\r\n-])"},{atBreak:!0,before:"\\d+",character:".",after:"(?:[ \t\r\n]|$)"},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Al},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Al},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Al},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Al},{atBreak:!0,character:"~"}];function Il(e){return e.label||!e.identifier?e.label||"":_s(e.identifier)}function Rl(e,t,n){const r=t.indexStack,o=e.children||[],i=[];let s=-1,l=n.before;r.push(-1);let a=t.createTracker(n);for(;++s<o.length;){const c=o[s];let u;if(r[r.length-1]=s,s+1<o.length){let n=t.handle.handlers[o[s+1].type];n&&n.peek&&(n=n.peek),u=n?n(o[s+1],e,t,{before:"",after:"",...a.current()}).charAt(0):""}else u=n.after;i.length>0&&("\r"===l||"\n"===l)&&"html"===c.type&&(i[i.length-1]=i[i.length-1].replace(/(\r?\n|\r)$/," "),l=" ",a=t.createTracker(n),a.move(i.join(""))),i.push(a.move(t.handle(c,e,t,{...a.current(),before:l,after:u}))),l=i[i.length-1].slice(-1)}return r.pop(),i.join("")}function Dl(e,t,n){const r=t.indexStack,o=e.children||[],i=t.createTracker(n),s=[];let l=-1;for(r.push(-1);++l<o.length;){const n=o[l];r[r.length-1]=l,s.push(i.move(t.handle(n,e,t,{before:"\n",after:"\n",...i.current()}))),"list"!==n.type&&(t.bulletLastUsed=void 0),l<o.length-1&&s.push(i.move(Ll(n,o[l+1],e,t)))}return r.pop(),s.join("")}function Ll(e,t,n,r){let o=r.join.length;for(;o--;){const i=r.join[o](e,t,n,r);if(!0===i||1===i)break;if("number"===typeof i)return"\n".repeat(1+i);if(!1===i)return"\n\n\x3c!----\x3e\n\n"}return"\n\n"}const _l=/\r?\n|\r/g;function Pl(e,t){const n=[];let r,o=0,i=0;for(;r=_l.exec(e);)s(e.slice(o,r.index)),n.push(r[0]),o=r.index+r[0].length,i++;return s(e.slice(o)),n.join("");function s(e){n.push(t(e,i,!e))}}function Fl(e,t,n){const r=(n.before||"")+(t||"")+(n.after||""),o=[],i=[],s={};let l=-1;for(;++l<e.unsafe.length;){const t=e.unsafe[l];if(!Xs(e.stack,t))continue;const n=gl(t);let i;for(;i=n.exec(r);){const e="before"in t||Boolean(t.atBreak),n="after"in t,r=i.index+(e?i[1].length:0);o.includes(r)?(s[r].before&&!e&&(s[r].before=!1),s[r].after&&!n&&(s[r].after=!1)):(o.push(r),s[r]={before:e,after:n})}}o.sort(zl);let a=n.before?n.before.length:0;const c=r.length-(n.after?n.after.length:0);for(l=-1;++l<o.length;){const e=o[l];e<a||e>=c||(e+1<c&&o[l+1]===e+1&&s[e].after&&!s[e+1].before&&!s[e+1].after||o[l-1]===e-1&&s[e].before&&!s[e-1].before&&!s[e-1].after||(a!==e&&i.push($l(r.slice(a,e),"\\")),a=e,!/[!-/:-@[-`{-~]/.test(r.charAt(e))||n.encode&&n.encode.includes(r.charAt(e))?(i.push("&#x"+r.charCodeAt(e).toString(16).toUpperCase()+";"),a++):i.push("\\")))}return i.push($l(r.slice(a,c),n.after)),i.join("")}function zl(e,t){return e-t}function $l(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],o=[],i=e+t;let s,l=-1,a=0;for(;s=n.exec(i);)r.push(s.index);for(;++l<r.length;)a!==r[l]&&o.push(e.slice(a,r[l])),o.push("\\"),a=r[l];return o.push(e.slice(a)),o.join("")}function Bl(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,o=n.line||1,i=n.column||1;return{move:function(e){const t=e||"",n=t.split(/\r?\n|\r/g),s=n[n.length-1];return o+=n.length-1,i=1===n.length?i+s.length:1+s.length+r,t},current:function(){return{now:{line:o,column:i},lineShift:r}},shift:function(e){r+=e}}}function jl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={enter:function(e){return n.stack.push(e),function(){n.stack.pop()}},indentLines:Pl,associationId:Il,containerPhrasing:Vl,containerFlow:ql,createTracker:Bl,safe:Gl,stack:[],unsafe:[],join:[],handlers:{},options:{},indexStack:[],handle:void 0};Ys(n,{unsafe:Ol,join:Nl,handlers:Ml}),Ys(n,t),n.options.tightDefinitions&&Ys(n,{join:[Wl]}),n.handle=function(e,t){const n=t||{};function r(t){let n=r.invalid;const o=r.handlers;if(t&&Ks.call(t,e)){const i=String(t[e]);n=Ks.call(o,i)?o[i]:r.unknown}if(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];return n.call(this,t,...s)}}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}("type",{invalid:Hl,unknown:Ul,handlers:n.handlers});let r=n.handle(e,void 0,n,{before:"\n",after:"\n",now:{line:1,column:1},lineShift:0});return r&&10!==r.charCodeAt(r.length-1)&&13!==r.charCodeAt(r.length-1)&&(r+="\n"),r}function Hl(e){throw new Error("Cannot handle value `"+e+"`, expected node")}function Ul(e){throw new Error("Cannot handle unknown node `"+e.type+"`")}function Wl(e,t){if("definition"===e.type&&e.type===t.type)return 0}function Vl(e,t){return Rl(e,this,t)}function ql(e,t){return Dl(e,this,t)}function Gl(e,t){return Fl(this,e,t)}function Kl(e){Object.assign(this,{Compiler:t=>{const n=this.data("settings");return jl(t,Object.assign({},n,e,{extensions:this.data("toMarkdownExtensions")||[]}))}})}function Yl(e){if(e)throw e}var Jl=n(837),Xl=n(240);function Ql(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Zl(){const e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let o=-1;const i=n.pop();if("function"!==typeof i)throw new TypeError("Expected function as last argument, not "+i);!function t(r){const s=e[++o];let l=-1;if(r)i(r);else{for(var a=arguments.length,c=new Array(a>1?a-1:0),u=1;u<a;u++)c[u-1]=arguments[u];for(;++l<n.length;)null!==c[l]&&void 0!==c[l]||(c[l]=n[l]);n=c,s?function(e,t){let n;return o;function o(){for(var t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];const a=e.length>o.length;let c;a&&o.push(i);try{c=e.apply(this,o)}catch(r){if(a&&n)throw r;return i(r)}a||(c&&c.then&&"function"===typeof c.then?c.then(s,i):c instanceof Error?i(c):s(c))}function i(e){if(!n){n=!0;for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];t(e,...o)}}function s(e){i(null,e)}}(s,t)(...c):i(null,...c)}}(null,...n)},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}class ea extends Error{constructor(e,t,n){const r=[null,null];let o={start:{line:null,column:null},end:{line:null,column:null}};if(super(),"string"===typeof t&&(n=t,t=void 0),"string"===typeof n){const e=n.indexOf(":");-1===e?r[1]=n:(r[0]=n.slice(0,e),r[1]=n.slice(e+1))}t&&("type"in t||"position"in t?t.position&&(o=t.position):"start"in t||"end"in t?o=t:("line"in t||"column"in t)&&(o.start=t)),this.name=Fs(t)||"1:1",this.message="object"===typeof e?e.message:e,this.stack="","object"===typeof e&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=o.start.line,this.column=o.start.column,this.position=o,this.source=r[0],this.ruleId=r[1],this.file,this.actual,this.expected,this.url,this.note}}ea.prototype.file="",ea.prototype.name="",ea.prototype.reason="",ea.prototype.message="",ea.prototype.stack="",ea.prototype.fatal=null,ea.prototype.column=null,ea.prototype.line=null,ea.prototype.source=null,ea.prototype.ruleId=null,ea.prototype.position=null;const ta={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');na(e);let n,r=0,o=-1,i=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;i--;)if(47===e.charCodeAt(i)){if(n){r=i+1;break}}else o<0&&(n=!0,o=i+1);return o<0?"":e.slice(r,o)}if(t===e)return"";let s=-1,l=t.length-1;for(;i--;)if(47===e.charCodeAt(i)){if(n){r=i+1;break}}else s<0&&(n=!0,s=i+1),l>-1&&(e.charCodeAt(i)===t.charCodeAt(l--)?l<0&&(o=i):(l=-1,o=s));r===o?o=s:o<0&&(o=e.length);return e.slice(r,o)},dirname:function(e){if(na(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.charCodeAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.charCodeAt(0)?"/":".":1===n&&47===e.charCodeAt(0)?"//":e.slice(0,n)},extname:function(e){na(e);let t,n=e.length,r=-1,o=0,i=-1,s=0;for(;n--;){const l=e.charCodeAt(n);if(47!==l)r<0&&(t=!0,r=n+1),46===l?i<0?i=n:1!==s&&(s=1):i>-1&&(s=-1);else if(t){o=n+1;break}}if(i<0||r<0||0===s||1===s&&i===r-1&&i===o+1)return"";return e.slice(i,r)},join:function(){let e,t=-1;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];for(;++t<r.length;)na(r[t]),r[t]&&(e=void 0===e?r[t]:e+"/"+r[t]);return void 0===e?".":function(e){na(e);const t=47===e.charCodeAt(0);let n=function(e,t){let n,r,o="",i=0,s=-1,l=0,a=-1;for(;++a<=e.length;){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(s===a-1||1===l);else if(s!==a-1&&2===l){if(o.length<2||2!==i||46!==o.charCodeAt(o.length-1)||46!==o.charCodeAt(o.length-2))if(o.length>2){if(r=o.lastIndexOf("/"),r!==o.length-1){r<0?(o="",i=0):(o=o.slice(0,r),i=o.length-1-o.lastIndexOf("/")),s=a,l=0;continue}}else if(o.length>0){o="",i=0,s=a,l=0;continue}t&&(o=o.length>0?o+"/..":"..",i=2)}else o.length>0?o+="/"+e.slice(s+1,a):o=e.slice(s+1,a),i=a-s-1;s=a,l=0}else 46===n&&l>-1?l++:l=-1}return o}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.charCodeAt(e.length-1)&&(n+="/");return t?"/"+n:n}(e)},sep:"/"};function na(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ra={cwd:function(){return"/"}};function oa(e){return null!==e&&"object"===typeof e&&e.href&&e.origin}function ia(e){if("string"===typeof e)e=new URL(e);else if(!oa(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.charCodeAt(n)&&50===t.charCodeAt(n+1)){const e=t.charCodeAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const sa=["history","path","basename","stem","extname","dirname"];class la{constructor(e){let t;t=e?"string"===typeof e||function(e){return Jl(e)}(e)?{value:e}:oa(e)?{path:e}:e:{},this.data={},this.messages=[],this.history=[],this.cwd=ra.cwd(),this.value,this.stored,this.result,this.map;let n,r=-1;for(;++r<sa.length;){const e=sa[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)sa.includes(n)||(this[n]=t[n])}get path(){return this.history[this.history.length-1]}set path(e){oa(e)&&(e=ia(e)),ca(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return"string"===typeof this.path?ta.dirname(this.path):void 0}set dirname(e){ua(this.basename,"dirname"),this.path=ta.join(e||"",this.basename)}get basename(){return"string"===typeof this.path?ta.basename(this.path):void 0}set basename(e){ca(e,"basename"),aa(e,"basename"),this.path=ta.join(this.dirname||"",e)}get extname(){return"string"===typeof this.path?ta.extname(this.path):void 0}set extname(e){if(aa(e,"extname"),ua(this.dirname,"extname"),e){if(46!==e.charCodeAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ta.join(this.dirname,this.stem+(e||""))}get stem(){return"string"===typeof this.path?ta.basename(this.path,this.extname):void 0}set stem(e){ca(e,"stem"),aa(e,"stem"),this.path=ta.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,t,n){const r=new ea(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=null,r}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}}function aa(e,t){if(e&&e.includes(ta.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ta.sep+"`")}function ca(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function ua(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const da=function e(){const t=Zl(),n=[];let r,o={},i=-1;return s.data=l,s.Parser=void 0,s.Compiler=void 0,s.freeze=function(){if(r)return s;for(;++i<n.length;){const[e,...r]=n[i];if(!1===r[0])continue;!0===r[0]&&(r[0]=void 0);const o=e.call(s,...r);"function"===typeof o&&t.use(o)}return r=!0,i=Number.POSITIVE_INFINITY,s},s.attachers=n,s.use=a,s.parse=function(e){s.freeze();const t=va(e),n=s.Parser;if(ha("parse",n),fa(n,"parse"))return new n(String(t),t).parse();return n(String(t),t)},s.stringify=function(e,t){s.freeze();const n=va(t),r=s.Compiler;if(ma("stringify",r),ya(e),fa(r,"compile"))return new r(e,n).compile();return r(e,n)},s.run=function(e,n,r){ya(e),s.freeze(),r||"function"!==typeof n||(r=n,n=void 0);if(!r)return new Promise(o);function o(o,i){function s(t,n,s){n=n||e,t?i(t):o?o(n):r(null,n,s)}t.run(e,va(n),s)}o(null,r)},s.runSync=function(e,t){let n,r;return s.run(e,t,o),ba("runSync","run",r),n;function o(e,t){Yl(e),n=t,r=!0}},s.process=function(e,t){if(s.freeze(),ha("process",s.Parser),ma("process",s.Compiler),!t)return new Promise(n);function n(n,r){const o=va(e);function i(e,o){e||!o?r(e):n?n(o):t(null,o)}s.run(s.parse(o),o,((e,t,n)=>{if(!e&&t&&n){const o=s.stringify(t,n);void 0===o||null===o||("string"===typeof(r=o)||Jl(r)?n.value=o:n.result=o),i(e,n)}else i(e);var r}))}n(null,t)},s.processSync=function(e){let t;s.freeze(),ha("processSync",s.Parser),ma("processSync",s.Compiler);const n=va(e);return s.process(n,r),ba("processSync","process",t),n;function r(e){t=!0,Yl(e)}},s;function s(){const t=e();let r=-1;for(;++r<n.length;)t.use(...n[r]);return t.data(Xl(!0,{},o)),t}function l(e,t){return"string"===typeof e?2===arguments.length?(ga("data",r),o[e]=t,s):pa.call(o,e)&&o[e]||null:e?(ga("data",r),o=e,s):o}function a(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),l=1;l<t;l++)i[l-1]=arguments[l];let a;if(ga("use",r),null===e||void 0===e);else if("function"===typeof e)p(e,...i);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?d(e):u(e)}return a&&(o.settings=Object.assign(o.settings||{},a)),s;function c(e){if("function"===typeof e)p(e);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;p(t,...n)}else u(e)}}function u(e){d(e.plugins),e.settings&&(a=Object.assign(a||{},e.settings))}function d(e){let t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){c(e[t])}}}function p(e,t){let r,o=-1;for(;++o<n.length;)if(n[o][0]===e){r=n[o];break}r?(Ql(r[1])&&Ql(t)&&(t=Xl(!0,r[1],t)),r[1]=t):n.push([...arguments])}}}().freeze(),pa={}.hasOwnProperty;function fa(e,t){return"function"===typeof e&&e.prototype&&(function(e){let t;for(t in e)if(pa.call(e,t))return!0;return!1}(e.prototype)||t in e.prototype)}function ha(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `Parser`")}function ma(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `Compiler`")}function ga(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ya(e){if(!Ql(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function ba(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function va(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new la(e)}const wa=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},ka=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let xa=null;const Sa=function(e,t,n){let r=xa||(xa=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},Ea=function(e,t,n,r){return n&&(Ta(e,t,n,r,-1)||Ta(e,t,n,r,1))},Ca=/^(img|br|input|textarea|hr)$/i;function Ta(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:Ma(e))){let n=e.parentNode;if(!n||1!=n.nodeType||Na(e)||Ca.test(e.nodeName)||"false"==e.contentEditable)return!1;t=wa(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(o<0?-1:0)]).contentEditable)return!1;t=o<0?Ma(e):0}}}function Ma(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Na(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Aa=function(e){return e.focusNode&&Ea(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Oa(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}const Ia="undefined"!=typeof navigator?navigator:null,Ra="undefined"!=typeof document?document:null,Da=Ia&&Ia.userAgent||"",La=/Edge\/(\d+)/.exec(Da),_a=/MSIE \d/.exec(Da),Pa=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Da),Fa=!!(_a||Pa||La),za=_a?document.documentMode:Pa?+Pa[1]:La?+La[1]:0,$a=!Fa&&/gecko\/(\d+)/i.test(Da);$a&&(/Firefox\/(\d+)/.exec(Da)||[0,0])[1];const Ba=!Fa&&/Chrome\/(\d+)/.exec(Da),ja=!!Ba,Ha=Ba?+Ba[1]:0,Ua=!Fa&&!!Ia&&/Apple Computer/.test(Ia.vendor),Wa=Ua&&(/Mobile\/\w+/.test(Da)||!!Ia&&Ia.maxTouchPoints>2),Va=Wa||!!Ia&&/Mac/.test(Ia.platform),qa=!!Ia&&/Win/.test(Ia.platform),Ga=/Android \d/.test(Da),Ka=!!Ra&&"webkitFontSmoothing"in Ra.documentElement.style,Ya=Ka?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Ja(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Xa(e,t){return"number"==typeof e?e:e[t]}function Qa(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function Za(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let s=n||e.dom;s;s=ka(s)){if(1!=s.nodeType)continue;let e=s,n=e==i.body,l=n?Ja(i):Qa(e),a=0,c=0;if(t.top<l.top+Xa(r,"top")?c=-(l.top-t.top+Xa(o,"top")):t.bottom>l.bottom-Xa(r,"bottom")&&(c=t.bottom-t.top>l.bottom-l.top?t.top+Xa(o,"top")-l.top:t.bottom-l.bottom+Xa(o,"bottom")),t.left<l.left+Xa(r,"left")?a=-(l.left-t.left+Xa(o,"left")):t.right>l.right-Xa(r,"right")&&(a=t.right-l.right+Xa(o,"right")),a||c)if(n)i.defaultView.scrollBy(a,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),a&&(e.scrollLeft+=a);let o=e.scrollLeft-n,i=e.scrollTop-r;t={left:t.left-o,top:t.top-i,right:t.right-o,bottom:t.bottom-i}}if(n||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function ec(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=ka(r));return t}function tc(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:i}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let nc=null;function rc(e,t){let n,r,o,i,s=2e8,l=0,a=t.top,c=t.top;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let e;if(1==u.nodeType)e=u.getClientRects();else{if(3!=u.nodeType)continue;e=Sa(u).getClientRects()}for(let p=0;p<e.length;p++){let f=e[p];if(f.top<=a&&f.bottom>=c){a=Math.max(f.bottom,a),c=Math.min(f.top,c);let e=f.left>t.left?f.left-t.left:f.right<t.left?t.left-f.right:0;if(e<s){n=u,s=e,r=e&&3==n.nodeType?{left:f.right<t.left?f.right:f.left,top:t.top}:t,1==u.nodeType&&e&&(l=d+(t.left>=(f.left+f.right)/2?1:0));continue}}else f.top>t.top&&!o&&f.left<=t.left&&f.right>=t.left&&(o=u,i={left:Math.max(f.left,Math.min(f.right,t.left)),top:f.top});!n&&(t.left>=f.right&&t.top>=f.top||t.left>=f.left&&t.top>=f.bottom)&&(l=d+1)}}return!n&&o&&(n=o,r=i,s=0),n&&3==n.nodeType?function(e,t){let n=e.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let n=ac(r,1);if(n.top!=n.bottom&&oc(t,n))return{node:e,offset:o+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||s&&1==n.nodeType?{node:e,offset:l}:rc(n,r)}function oc(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function ic(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let n=e.childNodes[i];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let o=e[r];if(oc(t,o))return ic(n,t,o)}}if((i=(i+1)%r)==o)break}return e}function sc(e,t){let n,r=e.dom.ownerDocument,o=0,i=function(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch(r){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}(r,t.left,t.top);i&&({node:n,offset:o}=i);let s,l=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!l||!e.dom.contains(1!=l.nodeType?l.parentNode:l)){let n=e.dom.getBoundingClientRect();if(!oc(t,n))return null;if(l=ic(e.dom,t,n),!l)return null}if(Ua)for(let c=l;n&&c;c=ka(c))c.draggable&&(n=void 0);if(l=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(l,t),n){if($a&&1==n.nodeType&&(o=Math.min(o,n.childNodes.length),o<n.childNodes.length)){let e,r=n.childNodes[o];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&o++}let r;Ka&&o&&1==n.nodeType&&1==(r=n.childNodes[o-1]).nodeType&&"false"==r.contentEditable&&r.getBoundingClientRect().top>=t.top&&o--,n==e.dom&&o==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:0!=o&&1==n.nodeType&&"BR"==n.childNodes[o-1].nodeName||(s=function(e,t,n,r){let o=-1;for(let i=t,s=!1;i!=e.dom;){let t=e.docView.nearestDesc(i,!0);if(!t)return null;if(1==t.dom.nodeType&&(t.node.isBlock&&t.parent&&!s||!t.contentDOM)){let e=t.dom.getBoundingClientRect();if(t.node.isBlock&&t.parent&&!s&&(s=!0,e.left>r.left||e.top>r.top?o=t.posBefore:(e.right<r.left||e.bottom<r.top)&&(o=t.posAfter)),!t.contentDOM&&o<0&&!t.node.isText)return(t.node.isBlock?r.top<(e.top+e.bottom)/2:r.left<(e.left+e.right)/2)?t.posBefore:t.posAfter}i=t.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,-1)}(e,n,o,t))}null==s&&(s=function(e,t,n){let{node:r,offset:o}=rc(t,n),i=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();i=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,o,i)}(e,l,t));let a=e.docView.nearestDesc(l,!0);return{pos:s,inside:a?a.posAtStart-a.border:-1}}function lc(e){return e.top<e.bottom||e.left<e.right}function ac(e,t){let n=e.getClientRects();if(n.length){let e=n[t<0?0:n.length-1];if(lc(e))return e}return Array.prototype.find.call(n,lc)||e.getBoundingClientRect()}const cc=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function uc(e,t,n){let{node:r,offset:o,atom:i}=e.docView.domFromPos(t,n<0?-1:1),s=Ka||$a;if(3==r.nodeType){if(!s||!cc.test(r.nodeValue)&&(n<0?o:o!=r.nodeValue.length)){let e=o,t=o,i=n<0?1:-1;return n<0&&!o?(t++,i=-1):n>=0&&o==r.nodeValue.length?(e--,i=1):n<0?e--:t++,dc(ac(Sa(r,e,t),i),i<0)}{let e=ac(Sa(r,o,o),n);if($a&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let t=ac(Sa(r,o-1,o-1),-1);if(t.top==e.top){let n=ac(Sa(r,o,o+1),-1);if(n.top!=e.top)return dc(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(null==i&&o&&(n<0||o==Ma(r))){let e=r.childNodes[o-1];if(1==e.nodeType)return pc(e.getBoundingClientRect(),!1)}if(null==i&&o<Ma(r)){let e=r.childNodes[o];if(1==e.nodeType)return pc(e.getBoundingClientRect(),!0)}return pc(r.getBoundingClientRect(),n>=0)}if(null==i&&o&&(n<0||o==Ma(r))){let e=r.childNodes[o-1],t=3==e.nodeType?Sa(e,Ma(e)-(s?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return dc(ac(t,1),!1)}if(null==i&&o<Ma(r)){let e=r.childNodes[o];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?Sa(e,0,s?0:1):1==e.nodeType?e:null:null;if(t)return dc(ac(t,-1),!0)}return dc(ac(3==r.nodeType?Sa(r):r,-n),n>=0)}function dc(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function pc(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function fc(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}const hc=/[\u0590-\u08ac]/;let mc=null,gc=null,yc=!1;function bc(e,t,n){return mc==t&&gc==n?yc:(mc=t,gc=n,yc="up"==n||"down"==n?function(e,t,n){let r=t.selection,o="up"==n?r.$from:r.$to;return fc(e,t,(()=>{let{node:t}=e.docView.domFromPos(o.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.contentDOM||n.dom;break}t=n.dom.parentNode}let r=uc(e,o.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=Sa(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let o=t[e];if(o.bottom>o.top+1&&("up"==n?r.top-o.top>2*(o.bottom-r.top):o.bottom-r.bottom>2*(r.bottom-o.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,s=o==r.parent.content.size,l=e.domSelection();return hc.test(r.parent.textContent)&&l.modify?fc(e,t,(()=>{let{focusNode:t,focusOffset:o,anchorNode:i,anchorOffset:s}=e.domSelectionRange(),a=l.caretBidiLevel;l.modify("move",n,"character");let c=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:u,focusOffset:d}=e.domSelectionRange(),p=u&&!c.contains(1==u.nodeType?u:u.parentNode)||t==u&&o==d;try{l.collapse(i,s),t&&(t!=i||o!=s)&&l.extend&&l.extend(t,o)}catch(f){}return null!=a&&(l.caretBidiLevel=a),p})):"left"==n||"backward"==n?i:s}(e,t,n))}class vc{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>wa(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(let n=!0,r=e;r;r=r.parentNode){let o,i=this.getDesc(r);if(i&&(!t||i.node)){if(!n||!(o=i.nodeDOM)||(1==o.nodeType?o.contains(1==e.nodeType?e:e.parentNode):o==e))return i;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let o=0;n<this.children.length;n++){let t=this.children[n],i=o+t.size;if(i>e||t instanceof Tc){r=e-o;break}o=i}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let o;n&&!(o=this.children[n-1]).size&&o instanceof wc&&o.side>=0;n--);if(t<=0){let e,r=!0;for(;e=n?this.children[n-1]:null,e&&e.dom.parentNode!=this.contentDOM;n--,r=!1);return e&&t&&r&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?wa(e.dom)+1:0}}{let e,r=!0;for(;e=n<this.children.length?this.children[n]:null,e&&e.dom.parentNode!=this.contentDOM;n++,r=!1);return e&&r&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?wa(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let i=n,s=0;;s++){let n=this.children[s],l=i+n.size;if(-1==r&&e<=l){let o=i+n.border;if(e>=o&&t<=l-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,o);e=i;for(let t=s;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=wa(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(l>t||s==this.children.length-1)){t=l;for(let e=s+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){o=wa(n.dom);break}t+=n.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=l}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Math.min(e,t),i=Math.max(e,t);for(let p=0,f=0;p<this.children.length;p++){let s=this.children[p],l=f+s.size;if(o>f&&i<l)return s.setSelection(e-f-s.border,t-f-s.border,n,r);f=l}let s=this.domFromPos(e,e?-1:1),l=t==e?s:this.domFromPos(t,t?-1:1),a=n.getSelection(),c=!1;if(($a||Ua)&&e==t){let{node:e,offset:t}=s;if(3==e.nodeType){if(c=!(!t||"\n"!=e.nodeValue[t-1]),c&&t==e.nodeValue.length)for(let n,r=e;r;r=r.parentNode){if(n=r.nextSibling){"BR"==n.nodeName&&(s=l={node:n.parentNode,offset:wa(n)+1});break}let e=r.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];c=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if($a&&a.focusNode&&a.focusNode!=l.node&&1==a.focusNode.nodeType){let e=a.focusNode.childNodes[a.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||c&&Ua)&&Ea(s.node,s.offset,a.anchorNode,a.anchorOffset)&&Ea(l.node,l.offset,a.focusNode,a.focusOffset))return;let u=!1;if((a.extend||e==t)&&!c){a.collapse(s.node,s.offset);try{e!=t&&a.extend(l.node,l.offset),u=!0}catch(d){}}if(!u){if(e>t){let e=s;s=l,l=e}let n=document.createRange();n.setEnd(l.node,l.offset),n.setStart(s.node,s.offset),a.removeAllRanges(),a.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){let r=n+o.border,s=i-o.border;if(e>=r&&t<=s)return this.dirty=e==n||t==i?2:1,void(e!=r||t!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-r,t-r):o.dirty=3);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}n=i}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class wc extends vc{constructor(e,t,n,r){let o,i=t.type.toDOM;if("function"==typeof i&&(i=i(n,(()=>o?o.parent?o.parent.posBeforeChild(o):void 0:r))),!t.type.spec.raw){if(1!=i.nodeType){let e=document.createElement("span");e.appendChild(i),i=e}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class kc extends vc{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class xc extends vc{constructor(e,t,n,r){super(e,[],n,r),this.mark=t}static create(e,t,n,r){let o=r.nodeViews[t.type.name],i=o&&o(t,r,n);return i&&i.dom||(i=Hn.renderSpec(document,t.type.spec.toDOM(t,n))),new xc(e,t,i.dom,i.contentDOM||i.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let r=xc.create(this.parent,this.mark,!0,n),o=this.children,i=this.size;t<i&&(o=$c(o,t,i,n)),e>0&&(o=$c(o,0,e,n));for(let s=0;s<o.length;s++)o[s].parent=r;return r.children=o,r}}class Sc extends vc{constructor(e,t,n,r,o,i,s,l,a){super(e,[],o,i),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=s}static create(e,t,n,r,o,i){let s,l=o.nodeViews[t.type.name],a=l&&l(t,o,(()=>s?s.parent?s.parent.posBeforeChild(s):void 0:i),n,r),c=a&&a.dom,u=a&&a.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else c||({dom:c,contentDOM:u}=Hn.renderSpec(document,t.type.spec.toDOM(t)));u||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let d=c;return c=Lc(c,n,t),a?s=new Mc(e,t,n,r,c,u||null,d,a,o,i+1):t.isText?new Cc(e,t,n,r,c,d,o):new Sc(e,t,n,r,c,u||null,d,o,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>jt.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&_c(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,o=e.composing?this.localCompositionInfo(e,t):null,i=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new Fc(this,i&&i.node,e);!function(e,t,n,r){let o=t.locals(e),i=0;if(0==o.length){for(let n=0;n<e.childCount;n++){let s=e.child(n);r(s,o,t.forChild(i,s),n),i+=s.nodeSize}return}let s=0,l=[],a=null;for(let c=0;;){let u,d,p,f;for(;s<o.length&&o[s].to==i;){let e=o[s++];e.widget&&(u?(d||(d=[u])).push(e):u=e)}if(u)if(d){d.sort(zc);for(let e=0;e<d.length;e++)n(d[e],c,!!a)}else n(u,c,!!a);if(a)f=-1,p=a,a=null;else{if(!(c<e.childCount))break;f=c,p=e.child(c++)}for(let e=0;e<l.length;e++)l[e].to<=i&&l.splice(e--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)l.push(o[s++]);let h=i+p.nodeSize;if(p.isText){let e=h;s<o.length&&o[s].from<e&&(e=o[s].from);for(let t=0;t<l.length;t++)l[t].to<e&&(e=l[t].to);e<h&&(a=p.cut(e-i),p=p.cut(0,e-i),h=e,f=-1)}else for(;s<o.length&&o[s].to<h;)s++;let m=p.isInline&&!p.isLeaf?l.filter((e=>!e.inline)):l.slice();r(p,m,t.forChild(i,p),f),i=h}}(this.node,this.innerDeco,((t,o,i)=>{t.spec.marks?l.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!i&&l.syncToMarks(o==this.node.childCount?Vt.none:this.node.child(o).marks,n,e),l.placeWidget(t,e,r)}),((t,i,a,c)=>{let u;l.syncToMarks(t.marks,n,e),l.findNodeMatch(t,i,a,c)||s&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(u=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(t,i,a,u,e)||l.updateNextNode(t,i,a,e,c,r)||l.addNode(t,i,a,e,r),r+=t.nodeSize})),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(i&&this.protectLocalComposition(e,i),Nc(this.contentDOM,this.children,e),Wa&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof Ao)||n<t||r>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let e=o.nodeValue,i=function(e,t,n,r){for(let o=0,i=0;o<e.childCount&&i<=r;){let s=e.child(o++),l=i;if(i+=s.nodeSize,!s.isText)continue;let a=s.text;for(;o<e.childCount;){let t=e.child(o++);if(i+=t.nodeSize,!t.isText)break;a+=t.text}if(i>=n){if(i>=r&&a.slice(r-t.length-l,r-l)==t)return r-t.length;let e=l<r?a.lastIndexOf(t,r-l-1):-1;if(e>=0&&e+t.length+l>=n)return l+e;if(n==r&&a.length>=r+t.length-l&&a.slice(r-l,r-l+t.length)==t)return r}}return-1}(this.node.content,e,n-t,r-t);return i<0?null:{node:o,pos:i,text:e}}return{node:o,pos:-1,text:""}}protectLocalComposition(e,t){let{node:n,pos:r,text:o}=t;if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new kc(this,i,n,o);e.input.compositionNodes.push(s),this.children=$c(this.children,r,r+o.length,e,s)}update(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(_c(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Rc(this.dom,this.nodeDOM,Ic(this.outerDeco,this.node,t),Ic(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Ec(e,t,n,r,o){Lc(r,t,e);let i=new Sc(void 0,e,t,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class Cc extends Sc{constructor(e,t,n,r,o,i,s){super(e,t,n,r,o,null,i,s,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),o=document.createTextNode(r.text);return new Cc(this.parent,r,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Tc extends vc{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class Mc extends Sc{constructor(e,t,n,r,o,i,s,l,a,c){super(e,t,n,r,o,i,s,a,c),this.spec=l}update(e,t,n,r){if(3==this.dirty)return!1;if(this.spec.update){let o=this.spec.update(e,t,n);return o&&this.updateInner(e,t,n,r),o}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Nc(e,t,n){let r=e.firstChild,o=!1;for(let i=0;i<t.length;i++){let s=t[i],l=s.dom;if(l.parentNode==e){for(;l!=r;)r=Pc(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(l,r);if(s instanceof xc){let t=r?r.previousSibling:e.lastChild;Nc(s.contentDOM,s.children,n),r=t?t.nextSibling:e.firstChild}}for(;r;)r=Pc(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const Ac=function(e){e&&(this.nodeName=e)};Ac.prototype=Object.create(null);const Oc=[new Ac];function Ic(e,t,n){if(0==e.length)return Oc;let r=n?Oc[0]:new Ac,o=[r];for(let i=0;i<e.length;i++){let s=e[i].type.attrs;if(s){s.nodeName&&o.push(r=new Ac(s.nodeName));for(let e in s){let i=s[e];null!=i&&(n&&1==o.length&&o.push(r=new Ac(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+i:"style"==e?r.style=(r.style?r.style+";":"")+i:"nodeName"!=e&&(r[e]=i))}}}return o}function Rc(e,t,n,r){if(n==Oc&&r==Oc)return t;let o=t;for(let i=0;i<r.length;i++){let t=r[i],s=n[i];if(i){let n;s&&s.nodeName==t.nodeName&&o!=e&&(n=o.parentNode)&&n.nodeName.toLowerCase()==t.nodeName||(n=document.createElement(t.nodeName),n.pmIsDeco=!0,n.appendChild(o),s=Oc[0]),o=n}Dc(o,s||Oc[0],t)}return o}function Dc(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==o.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<o.length;t++)-1==r.indexOf(o[t])&&e.classList.add(o[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function Lc(e,t,n){return Rc(e,e,Oc,Ic(t,n,1!=e.nodeType))}function _c(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Pc(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Fc{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,r=n.children.length,o=e.childCount,i=new Map,s=[];e:for(;o>0;){let l;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof xc)){l=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=e.child(o-1))break;--o,i.set(l,o),s.push(l)}}return{index:o,matched:i,matches:s.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,o=this.stack.length>>1,i=Math.min(o,e.length);for(;r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++){let n=this.top.children[t];if(n.matchesMark(e[o])&&!this.isLocked(n.dom)){r=t;break}}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=xc.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,n,r){let o,i=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let r=this.top.children[s];if(r.matchesNode(e,t,n)&&!this.preMatch.matched.has(r)){i=s;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,t,n,r,o){let i=this.top.children[r];return 3==i.dirty&&i.dom==i.contentDOM&&(i.dirty=2),!!i.update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,o,i){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof Sc){let a=this.preMatch.matched.get(l);if(null!=a&&a!=o)return!1;let c,u=l.dom,d=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&3!=l.dirty&&_c(t,l.outerDeco));if(!d&&l.update(e,t,n,r))return this.destroyBetween(this.index,s),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!d&&(c=this.recreateWrapper(l,e,t,n,r,i)))return this.top.children[this.index]=c,c.contentDOM&&(c.dirty=2,c.updateChildren(r,i+1),c.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,o,i){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content))return null;let s=Sc.create(this.top,t,n,r,o,i);if(s.contentDOM){s.children=e.children,e.children=[];for(let e of s.children)e.parent=s}return e.destroy(),s}addNode(e,t,n,r,o){let i=Sc.create(this.top,e,t,n,r,o);i.contentDOM&&i.updateChildren(r,o+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new wc(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof xc;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Cc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ua||ja)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new Tc(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function zc(e,t){return e.type.side-t.type.side}function $c(e,t,n,r,o){let i=[];for(let s=0,l=0;s<e.length;s++){let a=e[s],c=l,u=l+=a.size;c>=n||u<=t?i.push(a):(c<t&&i.push(a.slice(0,t-c,r)),o&&(i.push(o),o=void 0),u>n&&i.push(a.slice(n-c,a.size,r)))}return i}function Bc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l,a,c=r.resolve(s);if(Aa(n)){for(l=c;o&&!o.node;)o=o.parent;let e=o.node;if(o&&e.isAtom&&Io.isSelectable(e)&&o.parent&&(!e.isInline||!function(e,t,n){for(let r=0==t,o=t==Ma(e);r||o;){if(e==n)return!0;let t=wa(e);if(!(e=e.parentNode))return!1;r=r&&0==t,o=o&&t==Ma(e)}}(n.focusNode,n.focusOffset,o.dom))){let e=o.posBefore;a=new Io(s==e?c:r.resolve(e))}}else{let t=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(t<0)return null;l=r.resolve(t)}if(!a){a=Yc(e,l,c,"pointer"==t||e.state.selection.head<c.pos&&!i?1:-1)}return a}function jc(e){return e.editable?e.hasFocus():Xc(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Hc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.state.selection;if(Gc(e,n),jc(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&ja){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&Ea(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,wa(r)+1):n.setEnd(r,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&Fa&&za<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{let r,o,{anchor:i,head:s}=n;!Uc||n instanceof Ao||(n.$from.parent.inlineContent||(r=Wc(e,n.from)),n.empty||n.$from.parent.inlineContent||(o=Wc(e,n.to))),e.docView.setSelection(i,s,e.root,t),Uc&&(r&&qc(r),o&&qc(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((()=>{jc(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Uc=Ua||ja&&Ha<63;function Wc(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(Ua&&o&&"false"==o.contentEditable)return Vc(o);if((!o||"false"==o.contentEditable)&&(!i||"false"==i.contentEditable)){if(o)return Vc(o);if(i)return Vc(i)}}function Vc(e){return e.contentEditable="true",Ua&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function qc(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Gc(e,t){if(t instanceof Io){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Kc(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Kc(e)}function Kc(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Yc(e,t,n,r){return e.someProp("createSelectionBetween",(r=>r(e,t,n)))||Ao.between(t,n,r)}function Jc(e){return!(e.editable&&!e.hasFocus())&&Xc(e)}function Xc(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function Qc(e,t){let{$anchor:n,$head:r}=e.selection,o=t>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return i&&Co.findFrom(i,t)}function Zc(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function eu(e,t,n){let r=e.state.selection;if(!(r instanceof Ao)){if(r instanceof Io&&r.node.isInline)return Zc(e,new Ao(t>0?r.$to:r.$from));{let n=Qc(e.state,t);return!!n&&Zc(e,n)}}if(n.indexOf("s")>-1){let{$head:n}=r,o=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let i=e.state.doc.resolve(n.pos+o.nodeSize*(t<0?-1:1));return Zc(e,new Ao(r.$anchor,i))}if(!r.empty)return!1;if(e.endOfTextblock(t>0?"forward":"backward")){let n=Qc(e.state,t);return!!(n&&n instanceof Io)&&Zc(e,n)}if(!(Va&&n.indexOf("m")>-1)){let n,o=r.$head,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText)return!1;let s=t<0?o.pos-i.nodeSize:o.pos;return!!(i.isAtom||(n=e.docView.descAt(s))&&!n.contentDOM)&&(Io.isSelectable(i)?Zc(e,new Io(t<0?e.state.doc.resolve(o.pos-i.nodeSize):o)):!!Ka&&Zc(e,new Ao(e.state.doc.resolve(t<0?s:s+i.nodeSize))))}}function tu(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function nu(e,t){let n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function ru(e,t){return t<0?function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,s=!1;$a&&1==n.nodeType&&r<tu(n)&&nu(n.childNodes[r],-1)&&(s=!0);for(;;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(nu(e,-1))o=n,i=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(ou(n))break;{let t=n.previousSibling;for(;t&&nu(t,-1);)o=n.parentNode,i=wa(t),t=t.previousSibling;if(t)n=t,r=tu(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?iu(e,n,r):o&&iu(e,o,i)}(e):function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,s=tu(n);for(;;)if(r<s){if(1!=n.nodeType)break;if(!nu(n.childNodes[r],1))break;o=n,i=++r}else{if(ou(n))break;{let t=n.nextSibling;for(;t&&nu(t,1);)o=t.parentNode,i=wa(t)+1,t=t.nextSibling;if(t)n=t,r=0,s=tu(n);else{if(n=n.parentNode,n==e.dom)break;r=s=0}}}o&&iu(e,o,i)}(e)}function ou(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function iu(e,t,n){if(3!=t.nodeType){let e,r;(r=function(e,t){for(;e&&t==e.childNodes.length&&!Na(e);)t=wa(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n,t=0}}(t,n))?(t=r,n=0):(e=function(e,t){for(;e&&!t&&!Na(e);)t=wa(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}(t,n))&&(t=e,n=e.nodeValue.length)}let r=e.domSelection();if(Aa(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout((()=>{e.state==o&&Hc(e)}),50)}function su(e,t){let n=e.state.doc.resolve(t);if(!ja&&!qa&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let n=e.coordsAtPos(t-1),o=(n.top+n.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(t<n.end()){let n=e.coordsAtPos(t+1),o=(n.top+n.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function lu(e,t,n){let r=e.state.selection;if(r instanceof Ao&&!r.empty||n.indexOf("s")>-1)return!1;if(Va&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=Qc(e.state,t);if(n&&n instanceof Io)return Zc(e,n)}if(!o.parent.inlineContent){let n=t<0?o:i,s=r instanceof Do?Co.near(n,t):Co.findFrom(n,t);return!!s&&Zc(e,s)}return!1}function au(e,t){if(!(e.state.selection instanceof Ao))return!0;let{$head:n,$anchor:r,empty:o}=e.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let r=e.state.tr;return t<0?r.delete(n.pos-i.nodeSize,n.pos):r.delete(n.pos,n.pos+i.nodeSize),e.dispatch(r),!0}return!1}function cu(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function uu(e,t){let n=t.keyCode,r=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);if(8==n||Va&&72==n&&"c"==r)return au(e,-1)||ru(e,-1);if(46==n&&!t.shiftKey||Va&&68==n&&"c"==r)return au(e,1)||ru(e,1);if(13==n||27==n)return!0;if(37==n||Va&&66==n&&"c"==r){let t=37==n?"ltr"==su(e,e.state.selection.from)?-1:1:-1;return eu(e,t,r)||ru(e,t)}if(39==n||Va&&70==n&&"c"==r){let t=39==n?"ltr"==su(e,e.state.selection.from)?1:-1:1;return eu(e,t,r)||ru(e,t)}return 38==n||Va&&80==n&&"c"==r?lu(e,-1,r)||ru(e,-1):40==n||Va&&78==n&&"c"==r?function(e){if(!Ua||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;cu(e,n,"true"),setTimeout((()=>cu(e,n,"false")),20)}return!1}(e)||lu(e,1,r)||ru(e,1):r==(Va?"m":"c")&&(66==n||73==n||89==n||90==n)}function du(e,t){e.someProp("transformCopied",(n=>{t=n(t,e)}));let n=[],{content:r,openStart:o,openEnd:i}=t;for(;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let s=e.someProp("clipboardSerializer")||Hn.fromSchema(e.state.schema),l=ku(),a=l.createElement("div");a.appendChild(s.serializeFragment(r,{document:l}));let c,u=a.firstChild,d=0;for(;u&&1==u.nodeType&&(c=vu[u.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=l.createElement(c[e]);for(;a.firstChild;)t.appendChild(a.firstChild);a.appendChild(t),d++}u=a.firstChild}u&&1==u.nodeType&&u.setAttribute("data-pm-slice","".concat(o," ").concat(i).concat(d?" -".concat(d):""," ").concat(JSON.stringify(n)));let p=e.someProp("clipboardTextSerializer",(n=>n(t,e)))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:a,text:p}}function pu(e,t,n,r,o){let i,s,l=o.parent.type.spec.code;if(!n&&!t)return null;let a=t&&(r||l||!n);if(a){if(e.someProp("transformPastedText",(n=>{t=n(t,l||r,e)})),l)return t?new Gt(jt.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):Gt.empty;let n=e.someProp("clipboardTextParser",(n=>n(t,o,r,e)));if(n)s=n;else{let n=o.marks(),{schema:r}=e.state,s=Hn.fromSchema(r);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((e=>{let t=i.appendChild(document.createElement("p"));e&&t.appendChild(s.serializeNode(r.text(e,n)))}))}}else e.someProp("transformPastedHTML",(t=>{n=t(n,e)})),i=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=ku().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);(n=o&&vu[o[1].toLowerCase()])&&(e=n.map((e=>"<"+e+">")).join("")+e+n.map((e=>"</"+e+">")).reverse().join(""));if(r.innerHTML=e,n)for(let i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}(n),Ka&&function(e){let t=e.querySelectorAll(ja?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&"\xa0"==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(i);let c=i&&i.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let e=i.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;i=e}if(!s){let t=e.someProp("clipboardParser")||e.someProp("domParser")||Rn.fromSchema(e.state.schema);s=t.parseSlice(i,{preserveWhitespace:!(!a&&!u),context:o,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||fu.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(u)s=function(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(BE){return e}let{content:o,openStart:i,openEnd:s}=e;for(let l=n.length-2;l>=0;l-=2){let e=r.nodes[n[l]];if(!e||e.hasRequiredAttrs())break;o=jt.from(e.create(n[l+1],o)),i++,s++}return new Gt(o,i,s)}(bu(s,+u[1],+u[2]),u[4]);else if(s=Gt.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,o=t.node(n).contentMatchAt(t.index(n)),i=[];if(e.forEach((e=>{if(!i)return;let t,n=o.findWrapping(e.type);if(!n)return i=null;if(t=i.length&&r.length&&mu(n,r,e,i[i.length-1],0))i[i.length-1]=t;else{i.length&&(i[i.length-1]=gu(i[i.length-1],r.length));let t=hu(e,n);i.push(t),o=o.matchType(t.type),r=n}})),i)return jt.from(i)}return e}(s.content,o),!0),s.openStart||s.openEnd){let e=0,t=0;for(let n=s.content.firstChild;e<s.openStart&&!n.type.spec.isolating;e++,n=n.firstChild);for(let n=s.content.lastChild;t<s.openEnd&&!n.type.spec.isolating;t++,n=n.lastChild);s=bu(s,e,t)}return e.someProp("transformPasted",(t=>{s=t(s,e)})),s}const fu=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function hu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(let r=t.length-1;r>=n;r--)e=t[r].create(null,jt.from(e));return e}function mu(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let i=mu(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(jt.from(hu(n,e,o+1))))}}function gu(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,gu(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(jt.empty,!0);return e.copy(n.append(r))}function yu(e,t,n,r,o,i){let s=t<0?e.firstChild:e.lastChild,l=s.content;return e.childCount>1&&(i=0),o<r-1&&(l=yu(l,t,n,r,o+1,i)),o>=n&&(l=t<0?s.contentMatchAt(0).fillBefore(l,i<=o).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(jt.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(l))}function bu(e,t,n){return t<e.openStart&&(e=new Gt(yu(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Gt(yu(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const vu={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let wu=null;function ku(){return wu||(wu=document.implementation.createHTMLDocument("title"))}const xu={},Su={},Eu={touchstart:!0,touchmove:!0};class Cu{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Tu(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Mu(e){e.someProp("handleDOMEvents",(t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>Nu(e,t))}))}function Nu(e,t){return e.someProp("handleDOMEvents",(n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function Au(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Ou(e){return{left:e.clientX,top:e.clientY}}function Iu(e,t,n,r,o){if(-1==r)return!1;let i=e.state.doc.resolve(r);for(let s=i.depth+1;s>0;s--)if(e.someProp(t,(t=>s>i.depth?t(e,n,i.nodeAfter,i.before(s),o,!0):t(e,n,i.node(s),i.before(s),o,!1))))return!0;return!1}function Ru(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function Du(e,t,n,r,o){return Iu(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(n=>n(e,t,r)))||(o?function(e,t){if(-1==t)return!1;let n,r,o=e.state.selection;o instanceof Io&&(n=o.node);let i=e.state.doc.resolve(t);for(let s=i.depth+1;s>0;s--){let e=s>i.depth?i.nodeAfter:i.node(s);if(Io.isSelectable(e)){r=n&&o.$from.depth>0&&s>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(s);break}}return null!=r&&(Ru(e,Io.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&Io.isSelectable(r))&&(Ru(e,new Io(n),"pointer"),!0)}(e,n))}function Lu(e,t,n,r){return Iu(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(n=>n(e,t,r)))}function _u(e,t,n,r){return Iu(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(n=>n(e,t,r)))||function(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(Ru(e,Ao.create(r,0,r.content.size),"pointer"),!0);let o=r.resolve(t);for(let i=o.depth+1;i>0;i--){let t=i>o.depth?o.nodeAfter:o.node(i),n=o.before(i);if(t.inlineContent)Ru(e,Ao.create(r,n+1,n+1+t.content.size),"pointer");else{if(!Io.isSelectable(t))continue;Ru(e,Io.create(r,n),"pointer")}return!0}}(e,n,r)}function Pu(e){return Wu(e)}Su.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!$u(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!Ga||!ja||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!Wa||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(t=>t(e,n)))||uu(e,n)?n.preventDefault():Tu(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",(t=>t(e,Oa(13,"Enter")))),e.input.lastIOSEnter=0)}),200)}},Su.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},Su.keypress=(e,t)=>{let n=t;if($u(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Va&&n.metaKey)return;if(e.someProp("handleKeyPress",(t=>t(e,n))))return void n.preventDefault();let r=e.state.selection;if(!(r instanceof Ao)||!r.$from.sameParent(r.$to)){let t=String.fromCharCode(n.charCode);/[\r\n]/.test(t)||e.someProp("handleTextInput",(n=>n(e,r.$from.pos,r.$to.pos,t)))||e.dispatch(e.state.tr.insertText(t).scrollIntoView()),n.preventDefault()}};const Fu=Va?"metaKey":"ctrlKey";xu.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=Pu(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[Fu]&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i};let s=e.posAtCoords(Ou(n));s&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new zu(e,s,n,!!r)):("doubleClick"==i?Lu:_u)(e,s.pos,s.inside,n)?n.preventDefault():Tu(e,"pointer"))};class zu{constructor(e,t,n,r){let o,i;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[Fu],this.allowDefault=n.shiftKey,t.inside>-1)o=e.state.doc.nodeAt(t.inside),i=t.inside;else{let n=e.state.doc.resolve(t.pos);o=n.parent,i=n.depth?n.before():0}const s=r?null:n.target,l=s?e.docView.nearestDesc(s,!0):null;this.target=l?l.dom:null;let{selection:a}=e.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||a instanceof Io&&a.from<=i&&a.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!$a||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Tu(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>Hc(this.view))),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Ou(e))),this.updateAllowDefault(e),this.allowDefault||!t?Tu(this.view,"pointer"):Du(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||Ua&&this.mightDrag&&!this.mightDrag.node.isAtom||ja&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Ru(this.view,Co.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Tu(this.view,"pointer")}move(e){this.updateAllowDefault(e),Tu(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function $u(e,t){return!!e.composing||!!(Ua&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}xu.touchstart=e=>{e.input.lastTouch=Date.now(),Pu(e),Tu(e,"pointer")},xu.touchmove=e=>{e.input.lastTouch=Date.now(),Tu(e,"pointer")},xu.contextmenu=e=>Pu(e);const Bu=Ga?5e3:-1;function ju(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((()=>Wu(e)),t))}function Hu(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Uu(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=function(e,t){for(;;){if(3==e.nodeType&&t)return e;if(1==e.nodeType&&t>0){if("false"==e.contentEditable)return null;t=Ma(e=e.childNodes[t-1])}else{if(!e.parentNode||Na(e))return null;t=wa(e),e=e.parentNode}}}(t.focusNode,t.focusOffset),r=function(e,t){for(;;){if(3==e.nodeType&&t<e.nodeValue.length)return e;if(1==e.nodeType&&t<e.childNodes.length){if("false"==e.contentEditable)return null;e=e.childNodes[t],t=0}else{if(!e.parentNode||Na(e))return null;t=wa(e)+1,e=e.parentNode}}}(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let t=r.pmViewDesc;if(!t||!t.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let e=n.pmViewDesc;if(e&&e.isText(n.nodeValue))return r}}return n}function Wu(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(Ga&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),Hu(e),t||e.docView&&e.docView.dirty){let t=Bc(e);return t&&!t.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(t)):e.updateState(e.state),!0}return!1}}Su.compositionstart=Su.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((e=>!1===e.type.spec.inclusive))))e.markCursor=e.state.storedMarks||n.marks(),Wu(e,!0),e.markCursor=null;else if(Wu(e),$a&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){e.domSelection().collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}ju(e,Bu)},Su.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then((()=>e.domObserver.flush())),e.input.compositionID++,ju(e,20))};const Vu=Fa&&za<15||Wa&&Ya<604;function qu(e,t,n,r,o){let i=pu(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",(t=>t(e,o,i||Gt.empty))))return!0;if(!i)return!1;let s=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),l=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(i);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Gu(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}xu.copy=Su.cut=(e,t)=>{let n=t,r=e.state.selection,o="cut"==n.type;if(r.empty)return;let i=Vu?null:n.clipboardData,s=r.content(),{dom:l,text:a}=du(e,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",a)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}(e,l),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},Su.paste=(e,t)=>{let n=t;if(e.composing&&!Ga)return;let r=Vu?null:n.clipboardData,o=e.input.shiftKey&&45!=e.input.lastKeyCode;r&&qu(e,Gu(r),r.getData("text/html"),o,n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout((()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?qu(e,r.value,null,o,t):qu(e,r.textContent,r.innerHTML,o,t)}),50)}(e,n)};class Ku{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const Yu=Va?"altKey":"ctrlKey";xu.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o,i=e.state.selection,s=i.empty?null:e.posAtCoords(Ou(n));if(s&&s.pos>=i.from&&s.pos<=(i instanceof Io?i.to-1:i.to));else if(r&&r.mightDrag)o=Io.create(e.state.doc,r.mightDrag.pos);else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&(o=Io.create(e.state.doc,t.posBefore))}let l=(o||e.state.selection).content(),{dom:a,text:c}=du(e,l);n.dataTransfer.clearData(),n.dataTransfer.setData(Vu?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",Vu||n.dataTransfer.setData("text/plain",c),e.dragging=new Ku(l,!n[Yu],o)},xu.dragend=e=>{let t=e.dragging;window.setTimeout((()=>{e.dragging==t&&(e.dragging=null)}),50)},Su.dragover=Su.dragenter=(e,t)=>t.preventDefault(),Su.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let o=e.posAtCoords(Ou(n));if(!o)return;let i=e.state.doc.resolve(o.pos),s=r&&r.slice;s?e.someProp("transformPasted",(t=>{s=t(s,e)})):s=pu(e,Gu(n.dataTransfer),Vu?null:n.dataTransfer.getData("text/html"),!1,i);let l=!(!r||n[Yu]);if(e.someProp("handleDrop",(t=>t(e,n,s||Gt.empty,l))))return void n.preventDefault();if(!s)return;n.preventDefault();let a=s?ao(e.state.doc,i.pos,s):i.pos;null==a&&(a=i.pos);let c=e.state.tr;if(l){let{node:e}=r;e?e.replace(c):c.deleteSelection()}let u=c.mapping.map(a),d=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,p=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(p))return;let f=c.doc.resolve(u);if(d&&Io.isSelectable(s.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new Io(f));else{let t=c.mapping.map(a);c.mapping.maps[c.mapping.maps.length-1].forEach(((e,n,r,o)=>t=o)),c.setSelection(Yc(e,f,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))},xu.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Hc(e)}),20))},xu.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},xu.beforeinput=(e,t)=>{if(ja&&Ga&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout((()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",(t=>t(e,Oa(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let n in Su)xu[n]=Su[n];function Ju(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Xu{constructor(e,t){this.toDOM=e,this.spec=t||nd,this.side=this.spec.side||0}map(e,t,n,r){let{pos:o,deleted:i}=e.mapResult(t.from+r,this.side<0?-1:1);return i?null:new ed(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Xu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ju(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Qu{constructor(e,t){this.attrs=e,this.spec=t||nd}map(e,t,n,r){let o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new ed(o,i,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Qu&&Ju(this.attrs,e.attrs)&&Ju(this.spec,e.spec)}static is(e){return e.type instanceof Qu}destroy(){}}class Zu{constructor(e,t){this.attrs=e,this.spec=t||nd}map(e,t,n,r){let o=e.mapResult(t.from+r,1);if(o.deleted)return null;let i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new ed(o.pos-n,i.pos-n,this)}valid(e,t){let n,{index:r,offset:o}=e.content.findIndex(t.from);return o==t.from&&!(n=e.child(r)).isText&&o+n.nodeSize==t.to}eq(e){return this==e||e instanceof Zu&&Ju(this.attrs,e.attrs)&&Ju(this.spec,e.spec)}destroy(){}}class ed{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new ed(e,t,this.type)}eq(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new ed(e,e,new Xu(t,n))}static inline(e,t,n,r){return new ed(e,t,new Qu(n,r))}static node(e,t,n,r){return new ed(e,t,new Zu(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Qu}get widget(){return this.type instanceof Xu}}const td=[],nd={};class rd{constructor(e,t){this.local=e.length?e:td,this.children=t.length?t:td}static create(e,t){return t.length?cd(t,e,0,nd):od}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,o){for(let i=0;i<this.local.length;i++){let s=this.local[i];s.from<=t&&s.to>=e&&(!o||o(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<t&&this.children[i+1]>e){let s=this.children[i]+1;this.children[i+2].findInner(e-s,t-s,n,r+s,o)}}map(e,t,n){return this==od||0==e.maps.length?this:this.mapInner(e,t,0,0,n||nd)}mapInner(e,t,n,r,o){let i;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(e,n,r);l&&l.type.valid(t,l)?(i||(i=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?function(e,t,n,r,o,i,s){let l=e.slice();for(let c=0,u=i;c<n.maps.length;c++){let e=0;n.maps[c].forEach(((t,n,r,o)=>{let i=o-r-(n-t);for(let s=0;s<l.length;s+=3){let r=l[s+1];if(r<0||t>r+u-e)continue;let o=l[s]+u-e;n>=o?l[s+1]=t<=o?-2:-1:t>=u&&i&&(l[s]+=i,l[s+1]+=i)}e+=i})),u=n.maps[c].map(u,-1)}let a=!1;for(let c=0;c<l.length;c+=3)if(l[c+1]<0){if(-2==l[c+1]){a=!0,l[c+1]=-1;continue}let t=n.map(e[c]+i),u=t-o;if(u<0||u>=r.content.size){a=!0;continue}let d=n.map(e[c+1]+i,-1)-o,{index:p,offset:f}=r.content.findIndex(u),h=r.maybeChild(p);if(h&&f==u&&f+h.nodeSize==d){let r=l[c+2].mapInner(n,h,t+1,e[c]+i+1,s);r!=od?(l[c]=u,l[c+1]=d,l[c+2]=r):(l[c+1]=-2,a=!0)}else a=!0}if(a){let a=function(e,t,n,r,o,i,s){function l(e,t){for(let i=0;i<e.local.length;i++){let l=e.local[i].map(r,o,t);l?n.push(l):s.onRemove&&s.onRemove(e.local[i].spec)}for(let n=0;n<e.children.length;n+=3)l(e.children[n+2],e.children[n]+t+1)}for(let a=0;a<e.length;a+=3)-1==e[a+1]&&l(e[a+2],t[a]+i+1);return n}(l,e,t,n,o,i,s),c=cd(a,r,0,s);t=c.local;for(let e=0;e<l.length;e+=3)l[e+1]<0&&(l.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<l.length&&l[t]<n;)t+=3;l.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new rd(t.sort(ud),l)}(this.children,i||[],e,t,n,r,o):i?new rd(i.sort(ud),td):od}add(e,t){return t.length?this==od?rd.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,o=0;e.forEach(((e,i)=>{let s,l=i+n;if(s=ld(t,e,l)){for(r||(r=this.children.slice());o<r.length&&r[o]<i;)o+=3;r[o]==i?r[o+2]=r[o+2].addInner(e,s,l+1):r.splice(o,0,i,i+e.nodeSize,cd(s,e,l+1,nd)),o+=3}}));let i=sd(o?ad(t):t,-n);for(let s=0;s<i.length;s++)i[s].type.valid(e,i[s])||i.splice(s--,1);return new rd(i.length?this.local.concat(i).sort(ud):this.local,r||this.children)}remove(e){return 0==e.length||this==od?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let o=0;o<n.length;o+=3){let r,i=n[o]+t,s=n[o+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>i&&t.to<s&&(e[n]=null,(r||(r=[])).push(t));if(!r)continue;n==this.children&&(n=this.children.slice());let l=n[o+2].removeInner(r,i+1);l!=od?n[o+2]=l:(n.splice(o,3),o-=3)}if(r.length)for(let o,i=0;i<e.length;i++)if(o=e[i])for(let e=0;e<r.length;e++)r[e].eq(o,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new rd(r,n):od}forChild(e,t){if(this==od)return this;if(t.isLeaf)return rd.empty;let n,r;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(n=this.children[s+2]);break}let o=e+1,i=o+t.content.size;for(let s=0;s<this.local.length;s++){let e=this.local[s];if(e.from<i&&e.to>o&&e.type instanceof Qu){let t=Math.max(o,e.from)-o,n=Math.min(i,e.to)-o;t<n&&(r||(r=[])).push(e.copy(t,n))}}if(r){let e=new rd(r.sort(ud),td);return n?new id([e,n]):e}return n||od}eq(e){if(this==e)return!0;if(!(e instanceof rd)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return dd(this.localsInner(e))}localsInner(e){if(this==od)return td;if(e.inlineContent||!this.local.some(Qu.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Qu||t.push(this.local[n]);return t}}rd.empty=new rd([],[]),rd.removeOverlap=dd;const od=rd.empty;class id{constructor(e){this.members=e}map(e,t){const n=this.members.map((n=>n.map(e,t,nd)));return id.from(n)}forChild(e,t){if(t.isLeaf)return rd.empty;let n=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(e,t);o!=od&&(o instanceof id?n=n.concat(o.members):n.push(o))}return id.from(n)}eq(e){if(!(e instanceof id)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<o.length;e++)t.push(o[e])}else t=o}return t?dd(n?t:t.sort(ud)):td}static from(e){switch(e.length){case 0:return od;case 1:return e[0];default:return new id(e.every((e=>e instanceof rd))?e:e.reduce(((e,t)=>e.concat(t instanceof rd?t:t.members)),[]))}}}function sd(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new ed(o.from+t,o.to+t,o.type))}return n}function ld(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let i,s=0;s<e.length;s++)(i=e[s])&&i.from>n&&i.to<r&&((o||(o=[])).push(i),e[s]=null);return o}function ad(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function cd(e,t,n,r){let o=[],i=!1;t.forEach(((t,s)=>{let l=ld(e,t,s+n);if(l){i=!0;let e=cd(l,t,n+s+1,r);e!=od&&o.push(s,s+t.nodeSize,e)}}));let s=sd(i?ad(e):e,-n).sort(ud);for(let l=0;l<s.length;l++)s[l].type.valid(t,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||o.length?new rd(s,o):od}function ud(e,t){return e.from-t.from||e.to-t.to}function dd(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),pd(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),pd(t,o+1,i.copy(r.to,i.to)))}}return t}function pd(e,t,n){for(;t<e.length&&ud(n,e[t])>0;)t++;e.splice(t,0,n)}function fd(e){let t=[];return e.someProp("decorations",(n=>{let r=n(e.state);r&&r!=od&&t.push(r)})),e.cursorWrapper&&t.push(rd.create(e.state.doc,[e.cursorWrapper.deco])),id.from(t)}const hd={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},md=Fa&&za<=11;class gd{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class yd{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new gd,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);Fa&&za<=11&&e.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),md&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,hd)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(Jc(this.view)){if(this.suppressingSelectionUpdates)return Hc(this.view);if(Fa&&za<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ea(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t,n=new Set;for(let o=e.focusNode;o;o=ka(o))n.add(o);for(let o=e.anchorNode;o;o=ka(o))if(n.has(o)){t=o;break}let r=t&&this.view.docView.nearestDesc(t);return r&&r.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Jc(e)&&!this.ignoreSelectionChange(n),o=-1,i=-1,s=!1,l=[];if(e.editable)for(let c=0;c<t.length;c++){let e=this.registerMutation(t[c],l);e&&(o=o<0?e.from:Math.min(e.from,o),i=i<0?e.to:Math.max(e.to,i),e.typeOver&&(s=!0))}if($a&&l.length>1){let e=l.filter((e=>"BR"==e.nodeName));if(2==e.length){let t=e[0],n=e[1];t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}}let a=null;o<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Aa(n)&&(a=Bc(e))&&a.eq(Co.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Hc(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||r)&&(o>-1&&(e.docView.markDirty(o,i),function(e){if(bd.has(e))return;if(bd.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)){if(e.requiresGeckoHackNode=$a,vd)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),vd=!0}}(e)),this.handleDOMChange(o,i,s,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Hc(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++)t.push(e.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,o=e.nextSibling;if(Fa&&za<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:i}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!i||Array.prototype.indexOf.call(e.addedNodes,i)<0)&&(o=i)}let i=r&&r.parentNode==e.target?wa(r)+1:0,s=n.localPosFromDOM(e.target,i,-1),l=o&&o.parentNode==e.target?wa(o):e.target.childNodes.length;return{from:s,to:n.localPosFromDOM(e.target,l,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let bd=new WeakMap,vd=!1;function wd(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(Ua&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||Ua&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const kd=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function xd(e,t,n,r,o){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=Bc(e,t);if(n&&!e.state.selection.eq(n)){if(ja&&Ga&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",(t=>t(e,Oa(13,"Enter")))))return;let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),i&&r.setMeta("composition",i),e.dispatch(r)}return}let s=e.state.doc.resolve(t),l=s.sharedDepth(n);t=s.before(l+1),n=e.state.doc.resolve(n).after(l+1);let a,c,u=e.state.selection,d=function(e,t,n){let r,{node:o,fromOffset:i,toOffset:s,from:l,to:a}=e.docView.parseRange(t,n),c=e.domSelectionRange(),u=c.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(r=[{node:u,offset:c.anchorOffset}],Aa(c)||r.push({node:c.focusNode,offset:c.focusOffset})),ja&&8===e.input.lastKeyCode)for(let g=s;g>i;g--){let e=o.childNodes[g-1],t=e.pmViewDesc;if("BR"==e.nodeName&&!t){s=g;break}if(!t||t.size)break}let d=e.state.doc,p=e.someProp("domParser")||Rn.fromSchema(e.state.schema),f=d.resolve(l),h=null,m=p.parse(o,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:i,to:s,preserveWhitespace:"pre"!=f.parent.type.whitespace||"full",findPositions:r,ruleFromNode:wd,context:f});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),h={anchor:e+l,head:t+l}}return{doc:m,sel:h,from:l,to:a}}(e,t,n),p=e.state.doc,f=p.slice(d.from,d.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(a=e.state.selection.to,c="end"):(a=e.state.selection.from,c="start"),e.input.lastKeyCode=null;let h=function(e,t,n,r,o){let i=e.findDiffStart(t,n);if(null==i)return null;let{a:s,b:l}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==o){r-=s+Math.max(0,i-Math.min(s,l))-i}if(s<i&&e.size<t.size){let e=r<=i&&r>=s?i-r:0;i-=e,i&&i<t.size&&Cd(t.textBetween(i-1,i+1))&&(i+=e?1:-1),l=i+(l-s),s=i}else if(l<i){let t=r<=i&&r>=l?i-r:0;i-=t,i&&i<e.size&&Cd(e.textBetween(i-1,i+1))&&(i+=t?1:-1),s=i+(s-l),l=i}return{start:i,endA:s,endB:l}}(f.content,d.doc.content,d.from,a,c);if((Wa&&e.input.lastIOSEnter>Date.now()-225||Ga)&&o.some((e=>1==e.nodeType&&!kd.test(e.nodeName)))&&(!h||h.endA>=h.endB)&&e.someProp("handleKeyDown",(t=>t(e,Oa(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(!h){if(!(r&&u instanceof Ao&&!u.empty&&u.$head.sameParent(u.$anchor))||e.composing||d.sel&&d.sel.anchor!=d.sel.head){if(d.sel){let t=Sd(e,e.state.doc,d.sel);if(t&&!t.eq(e.state.selection)){let n=e.state.tr.setSelection(t);i&&n.setMeta("composition",i),e.dispatch(n)}}return}h={start:u.from,endA:u.to,endB:u.to}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&h.start==h.endB&&e.state.selection instanceof Ao&&(h.start>e.state.selection.from&&h.start<=e.state.selection.from+2&&e.state.selection.from>=d.from?h.start=e.state.selection.from:h.endA<e.state.selection.to&&h.endA>=e.state.selection.to-2&&e.state.selection.to<=d.to&&(h.endB+=e.state.selection.to-h.endA,h.endA=e.state.selection.to)),Fa&&za<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>d.from&&" \xa0"==d.doc.textBetween(h.start-d.from-1,h.start-d.from+1)&&(h.start--,h.endA--,h.endB--);let m,g=d.doc.resolveNoCache(h.start-d.from),y=d.doc.resolveNoCache(h.endB-d.from),b=p.resolve(h.start),v=g.sameParent(y)&&g.parent.inlineContent&&b.end()>=h.endA;if((Wa&&e.input.lastIOSEnter>Date.now()-225&&(!v||o.some((e=>"DIV"==e.nodeName||"P"==e.nodeName)))||!v&&g.pos<d.doc.content.size&&!g.sameParent(y)&&(m=Co.findFrom(d.doc.resolve(g.pos+1),1,!0))&&m.head==y.pos)&&e.someProp("handleKeyDown",(t=>t(e,Oa(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>h.start&&function(e,t,n,r,o){if(n-t<=o.pos-r.pos||Ed(r,!0,!1)<o.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let e=i.nodeAfter;return null!=e&&n==t+e.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=e.resolve(Ed(i,!0,!0));return!(!s.parent.isTextblock||s.pos>n||Ed(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(p,h.start,h.endA,g,y)&&e.someProp("handleKeyDown",(t=>t(e,Oa(8,"Backspace")))))return void(Ga&&ja&&e.domObserver.suppressSelectionUpdates());ja&&Ga&&h.endB==h.start&&(e.input.lastAndroidDelete=Date.now()),Ga&&!v&&g.start()!=y.start()&&0==y.parentOffset&&g.depth==y.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==h.endA&&(h.endB-=2,y=d.doc.resolveNoCache(h.endB-d.from),setTimeout((()=>{e.someProp("handleKeyDown",(function(t){return t(e,Oa(13,"Enter"))}))}),20));let w,k,x,S=h.start,E=h.endA;if(v)if(g.pos==y.pos)Fa&&za<=11&&0==g.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((()=>Hc(e)),20)),w=e.state.tr.delete(S,E),k=p.resolve(h.start).marksAcross(p.resolve(h.endA));else if(h.endA==h.endB&&(x=function(e,t){let n,r,o,i=e.firstChild.marks,s=t.firstChild.marks,l=i,a=s;for(let u=0;u<s.length;u++)l=s[u].removeFromSet(l);for(let u=0;u<i.length;u++)a=i[u].removeFromSet(a);if(1==l.length&&0==a.length)r=l[0],n="add",o=e=>e.mark(r.addToSet(e.marks));else{if(0!=l.length||1!=a.length)return null;r=a[0],n="remove",o=e=>e.mark(r.removeFromSet(e.marks))}let c=[];for(let u=0;u<t.childCount;u++)c.push(o(t.child(u)));if(jt.from(c).eq(e))return{mark:r,type:n}}(g.parent.content.cut(g.parentOffset,y.parentOffset),b.parent.content.cut(b.parentOffset,h.endA-b.start()))))w=e.state.tr,"add"==x.type?w.addMark(S,E,x.mark):w.removeMark(S,E,x.mark);else if(g.parent.child(g.index()).isText&&g.index()==y.index()-(y.textOffset?0:1)){let t=g.parent.textBetween(g.parentOffset,y.parentOffset);if(e.someProp("handleTextInput",(n=>n(e,S,E,t))))return;w=e.state.tr.insertText(t,S,E)}if(w||(w=e.state.tr.replace(S,E,d.doc.slice(h.start-d.from,h.endB-d.from))),d.sel){let t=Sd(e,w.doc,d.sel);t&&!(ja&&Ga&&e.composing&&t.empty&&(h.start!=h.endB||e.input.lastAndroidDelete<Date.now()-100)&&(t.head==S||t.head==w.mapping.map(E)-1)||Fa&&t.empty&&t.head==S)&&w.setSelection(t)}k&&w.ensureMarks(k),i&&w.setMeta("composition",i),e.dispatch(w.scrollIntoView())}function Sd(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Yc(e,t.resolve(n.anchor),t.resolve(n.head))}function Ed(e,t,n){let r=e.depth,o=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,o++}return o}function Cd(e){if(2!=e.length)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class Td{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Cu,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Id),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Ad(this),Nd(this),this.nodeViews=Od(this),this.docView=Ec(this.state.doc,Md(this),fd(this),this.dom,this),this.domObserver=new yd(this,((e,t,n,r)=>xd(this,e,t,n,r))),this.domObserver.start(),function(e){for(let t in xu){let n=xu[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!Au(e,t)||Nu(e,t)||!e.editable&&t.type in Su||n(e,t)},Eu[t]?{passive:!0}:void 0)}Ua&&e.dom.addEventListener("input",(()=>null)),Mu(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Mu(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Id),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let r=this.state,o=!1,i=!1;e.storedMarks&&this.composing&&(Hu(this),i=!0),this.state=e;let s=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(s||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=Od(this);(function(e,t){let n=0,r=0;for(let o in e){if(e[o]!=t[o])return!0;n++}for(let o in t)r++;return n!=r})(e,this.nodeViews)&&(this.nodeViews=e,o=!0)}(s||t.handleDOMEvents!=this._props.handleDOMEvents)&&Mu(this),this.editable=Ad(this),Nd(this);let l=fd(this),a=Md(this),c=r.plugins==e.plugins||r.doc.eq(e.doc)?e.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",u=o||!this.docView.matchesNode(e.doc,a,l);!u&&e.selection.eq(r.selection)||(i=!0);let d="preserve"==c&&i&&null==this.dom.style.overflowAnchor&&function(e){let t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top);for(let i=(r.left+r.right)/2,s=o+1;s<Math.min(innerHeight,r.bottom);s+=5){let r=e.root.elementFromPoint(i,s);if(!r||r==e.dom||!e.dom.contains(r))continue;let l=r.getBoundingClientRect();if(l.top>=o-20){t=r,n=l.top;break}}return{refDOM:t,refTop:n,stack:ec(e.dom)}}(this);if(i){this.domObserver.stop();let t=u&&(Fa||ja)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(r.selection,e.selection);if(u){let n=ja?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Uu(this)),!o&&this.docView.update(e.doc,a,l,this)||(this.docView.updateOuterDeco(a),this.docView.destroy(),this.docView=Ec(e.doc,a,l,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Ea(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?Hc(this,t):(Gc(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():d&&function(e){let{refDOM:t,refTop:n,stack:r}=e,o=t?t.getBoundingClientRect().top:0;tc(r,0==o?0:o-n)}(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",(e=>e(this))));else if(this.state.selection instanceof Io){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&Za(this,t.getBoundingClientRect(),e)}else Za(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(e,t){let n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let e=n.from+(this.state.doc.content.size-t.doc.content.size);(e>0&&this.state.doc.nodeAt(e))==n.node&&(r=e)}this.dragging=new Ku(e.slice,e.move,r<0?void 0:Io.create(this.state.doc,r))}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let i=0;i<this.directPlugins.length;i++){let r=this.directPlugins[i].props[e];if(null!=r&&(n=t?t(r):r))return n}let o=this.state.plugins;if(o)for(let i=0;i<o.length;i++){let r=o[i].props[e];if(null!=r&&(n=t?t(r):r))return n}}hasFocus(){if(Fa){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(nc)return e.focus(nc);let t=ec(e);e.focus(null==nc?{get preventScroll(){return nc={preventScroll:!0},!0}}:void 0),nc||(nc=!1,tc(t,0))}(this.dom),Hc(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t;return e||document}updateRoot(){this._root=null}posAtCoords(e){return sc(this,e)}coordsAtPos(e){return uc(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}domAtPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return bc(this,t||this.state,e)}pasteHTML(e,t){return qu(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return qu(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(!function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],fd(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,xa=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){Nu(e,t)||!xu[t.type]||!e.editable&&t.type in Su||xu[t.type](e,t)}(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Ua&&11===this.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom?function(e){let t;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0);let r=t.startContainer,o=t.startOffset,i=t.endContainer,s=t.endOffset,l=e.domAtPos(e.state.selection.anchor);return Ea(l.node,l.offset,i,s)&&([r,o,i,s]=[i,s,r,o]),{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:s}}(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Md(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e?t.class+=" "+n[e]:"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))})),t.translate||(t.translate="no"),[ed.node(0,e.state.doc.content.size,t)]}function Nd(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:ed.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Ad(e){return!e.someProp("editable",(t=>!1===t(e.state)))}function Od(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function Id(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const Rd="undefined"!=typeof navigator?navigator:null,Dd="undefined"!=typeof document?document:null,Ld=Rd&&Rd.userAgent||"",_d=/Edge\/(\d+)/.exec(Ld),Pd=/MSIE \d/.exec(Ld),Fd=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ld),zd=!!(Pd||Fd||_d),$d=Pd?document.documentMode:Fd?+Fd[1]:_d?+_d[1]:0,Bd=!zd&&/gecko\/(\d+)/i.test(Ld),jd=Bd&&+(/Firefox\/(\d+)/.exec(Ld)||[0,0])[1],Hd=!zd&&/Chrome\/(\d+)/.exec(Ld),Ud=!!Hd,Wd=Hd?+Hd[1]:0,Vd=!zd&&!!Rd&&/Apple Computer/.test(Rd.vendor),qd=Vd&&(/Mobile\/\w+/.test(Ld)||!!Rd&&Rd.maxTouchPoints>2),Gd=qd||!!Rd&&/Mac/.test(Rd.platform),Kd=/Android \d/.test(Ld),Yd=!!Dd&&"webkitFontSmoothing"in Dd.documentElement.style,Jd=Yd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;var Xd=Object.freeze({__proto__:null,ie:zd,ie_version:$d,gecko:Bd,gecko_version:jd,chrome:Ud,chrome_version:Wd,safari:Vd,ios:qd,mac:Gd,android:Kd,webkit:Yd,webkit_version:Jd});function Qd(e,t,n,r,o,i){if(e.composing)return!1;const s=e.state,l=s.doc.resolve(t);if(l.parent.type.spec.code)return!1;const a=l.parent.textBetween(Math.max(0,l.parentOffset-500),l.parentOffset,void 0,"\ufffc")+r;for(let c=0;c<o.length;c++){const l=o[c].match.exec(a),u=l&&l[0]&&o[c].handler(s,l,t-(l[0].length-r.length),n);if(u)return e.dispatch(u.setMeta(i,{transform:u,from:t,to:n,text:r})),!0}return!1}const Zd=new Go("MILKDOWN_CUSTOM_INPUTRULES"),ep=e=>{let{rules:t}=e;const n=new Wo({key:Zd,isInputRules:!0,state:{init:()=>null,apply(e,t){const n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:(e,r,o,i)=>Qd(e,r,o,i,t,n),handleDOMEvents:{compositionend:e=>(setTimeout((()=>{const{$cursor:r}=e.state.selection;r&&Qd(e,r.pos,r.pos,"",t,n)})),!1)},handleKeyDown(e,r){if("Enter"!==r.key)return!1;const{$cursor:o}=e.state.selection;return!!o&&Qd(e,o.pos,o.pos,"\n",t,n)}}});return n};const tp=(e,t,n)=>{const r=e.state,{from:o}=r.selection,{node:i}=e.domAtPos(o),s=i instanceof Text?i.parentElement:i;if(!(s instanceof HTMLElement))throw y(s);const l=s.getBoundingClientRect(),a=t.getBoundingClientRect(),c=t.parentElement;if(!c)throw y(c);const u=c.getBoundingClientRect(),[d,p]=n(l,a,u);t.style.top="".concat(d,"px"),t.style.left="".concat(p,"px")},np=(e,t,n)=>{const r=e.state,{from:o,to:i}=r.selection,s=e.coordsAtPos(o),l=e.coordsAtPos(i),a=t.getBoundingClientRect(),c=t.parentElement;if(!c)throw w();const u=c.getBoundingClientRect(),[d,p]=n(s,l,a,u);t.style.top="".concat(d,"px"),t.style.left="".concat(p,"px")},rp=e=>Object.assign(Object.create(e),e).setTime(Date.now()),op=e=>(t,n)=>function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=[];return e.descendants(((e,r)=>{if(n.push({node:e,pos:r}),!t)return!1})),n}(t,n).filter((t=>e(t.node))),ip=(e,t)=>{const n=t.nodes[e];if(!n)throw((e,t)=>new a(l.getAtomFromSchemaFail,"Cannot get ".concat(e,": ").concat(t," from schema.")))("node",e);return n},sp=e=>t=>(e=>t=>{for(let n=t.depth;n>0;n--){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}})(e)(t.$from),lp=(e,t)=>{if(!(e instanceof Io))return;const{node:n,$from:r}=e;return((e,t)=>Array.isArray(e)&&e.includes(t.type)||t.type===e)(t,n)?{node:n,pos:r.pos,start:r.start(r.depth),depth:r.depth}:void 0},ap=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function cp(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}function up(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}function dp(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function pp(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}function fp(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function hp(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const mp=(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof Io&&e.selection.node.isBlock)return!(!n.parentOffset||!io(e.doc,n.pos))&&(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(t){let o=r.parentOffset==r.parent.content.size,i=e.tr;(e.selection instanceof Ao||e.selection instanceof Do)&&i.deleteSelection();let s=0==n.depth?null:hp(n.node(-1).contentMatchAt(n.indexAfter(-1))),l=gp&&gp(r.parent,o),a=l?[l]:o&&s?[{type:s}]:void 0,c=io(i.doc,i.mapping.map(n.pos),1,a);if(a||c||!io(i.doc,i.mapping.map(n.pos),1,s?[{type:s}]:void 0)||(s&&(a=[{type:s}]),c=!0),c&&(i.split(i.mapping.map(n.pos),1,a),!o&&!n.parentOffset&&n.parent.type!=s)){let e=i.mapping.map(n.before()),t=i.doc.resolve(e);s&&n.node(-1).canReplaceWith(t.index(),t.index()+1,s)&&i.setNodeMarkup(i.mapping.map(n.before()),s)}t(i.scrollIntoView())}return!0};var gp;const yp=(e,t)=>{let n,{$from:r,to:o}=e.selection,i=r.sharedDepth(o);return 0!=i&&(n=r.before(i),t&&t(e.tr.setSelection(Io.create(e.doc,n))),!0)};function bp(e,t,n){let r,o,i=t.nodeBefore,s=t.nodeAfter;if(i.type.spec.isolating||s.type.spec.isolating)return!1;if(function(e,t,n){let r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(i,i+1)||!o.isTextblock&&!so(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0))}(e,t,n))return!0;let l=t.parent.canReplace(t.index(),t.index()+1);if(l&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(r[0]||s.type).validEnd){if(n){let o=t.pos+s.nodeSize,l=jt.empty;for(let e=r.length-1;e>=0;e--)l=jt.from(r[e].create(null,l));l=jt.from(i.copy(l));let a=e.tr.step(new Zr(t.pos-1,o,t.pos,o,new Gt(l,1,0),r.length,!0)),c=o+2*r.length;so(a.doc,c)&&a.join(c),n(a.scrollIntoView())}return!0}let a=Co.findFrom(t,1),c=a&&a.$from.blockRange(a.$to),u=c&&no(c);if(null!=u&&u>=t.depth)return n&&n(e.tr.lift(c,u).scrollIntoView()),!0;if(l&&up(s,"start",!0)&&up(i,"end")){let r=i,o=[];for(;o.push(r),!r.isTextblock;)r=r.lastChild;let l=s,a=1;for(;!l.isTextblock;l=l.firstChild)a++;if(r.canReplace(r.childCount,r.childCount,l.content)){if(n){let r=jt.empty;for(let e=o.length-1;e>=0;e--)r=jt.from(o[e].copy(r));n(e.tr.step(new Zr(t.pos-o.length,t.pos+s.nodeSize,t.pos+a,t.pos+s.nodeSize-a,new Gt(r,o.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function vp(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return!!o.node(i).isTextblock&&(n&&n(t.tr.setSelection(Ao.create(t.doc,e<0?o.start(i):o.end(i)))),!0)}}const wp=vp(-1),kp=vp(1);function xp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){let{$from:o,$to:i}=n.selection,s=o.blockRange(i),l=s&&ro(s,e,t);return!!l&&(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0)}}function Sp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){let o=!1;for(let i=0;i<n.selection.ranges.length&&!o;i++){let{$from:{pos:r},$to:{pos:s}}=n.selection.ranges[i];n.doc.nodesBetween(r,s,((r,i)=>{if(o)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)o=!0;else{let t=n.doc.resolve(i),r=t.index();o=t.parent.canReplaceWith(r,r+1,e)}}))}if(!o)return!1;if(r){let o=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:i},$to:{pos:s}}=n.selection.ranges[r];o.setBlockType(i,s,e,t)}r(o.scrollIntoView())}return!0}}function Ep(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){let{empty:o,$cursor:i,ranges:s}=n.selection;if(o&&!i||!function(e,t,n){for(let r=0;r<t.length;r++){let{$from:o,$to:i}=t[r],s=0==o.depth&&e.inlineContent&&e.type.allowsMarkType(n);if(e.nodesBetween(o.pos,i.pos,(e=>{if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return!0}return!1}(n.doc,s,e))return!1;if(r)if(i)e.isInSet(n.storedMarks||i.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{let o=!1,i=n.tr;for(let t=0;!o&&t<s.length;t++){let{$from:r,$to:i}=s[t];o=n.doc.rangeHasMark(r.pos,i.pos,e)}for(let n=0;n<s.length;n++){let{$from:r,$to:l}=s[n];if(o)i.removeMark(r.pos,l.pos,e);else{let n=r.pos,o=l.pos,s=r.nodeAfter,a=l.nodeBefore,c=s&&s.isText?/^\s*/.exec(s.text)[0].length:0,u=a&&a.isText?/\s*$/.exec(a.text)[0].length:0;n+c<o&&(n+=c,o-=u),i.addMark(n,o,e.create(t))}}r(i.scrollIntoView())}return!0}}function Cp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,r){for(let o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}let Tp=Cp(ap,((e,t,n)=>{let r=cp(e,n);if(!r)return!1;let o=dp(r);if(!o){let n=r.blockRange(),o=n&&no(n);return null!=o&&(t&&t(e.tr.lift(n,o).scrollIntoView()),!0)}let i=o.nodeBefore;if(!i.type.spec.isolating&&bp(e,o,t))return!0;if(0==r.parent.content.size&&(up(i,"end")||Io.isSelectable(i))){let n=co(e.doc,r.before(),r.after(),Gt.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(up(i,"end")?Co.findFrom(r.doc.resolve(r.mapping.map(o.pos,-1)),-1):Io.create(r.doc,o.pos-i.nodeSize)),t(r.scrollIntoView())}return!0}}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0)}),((e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=dp(r)}let s=i&&i.nodeBefore;return!(!s||!Io.isSelectable(s))&&(t&&t(e.tr.setSelection(Io.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)})),Mp=Cp(ap,((e,t,n)=>{let r=pp(e,n);if(!r)return!1;let o=fp(r);if(!o)return!1;let i=o.nodeAfter;if(bp(e,o,t))return!0;if(0==r.parent.content.size&&(up(i,"start")||Io.isSelectable(i))){let n=co(e.doc,r.before(),r.after(),Gt.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(up(i,"start")?Co.findFrom(r.doc.resolve(r.mapping.map(o.pos)),1):Io.create(r.doc,r.mapping.map(o.pos))),t(r.scrollIntoView())}return!0}}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)}),((e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=fp(r)}let s=i&&i.nodeAfter;return!(!s||!Io.isSelectable(s))&&(t&&t(e.tr.setSelection(Io.create(e.doc,i.pos)).scrollIntoView()),!0)}));const Np={Enter:Cp(((e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}),((e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof Do||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=hp(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let n=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,s=e.tr.insert(n,i.createAndFill());s.setSelection(Ao.create(s.doc,n+1)),t(s.scrollIntoView())}return!0}),((e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(io(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),o=r&&no(r);return null!=o&&(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)}),mp),"Mod-Enter":(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),s=hp(o.contentMatchAt(i));if(!s||!o.canReplaceWith(i,i,s))return!1;if(t){let r=n.after(),o=e.tr.replaceWith(r,r,s.createAndFill());o.setSelection(Co.near(o.doc.resolve(r),1)),t(o.scrollIntoView())}return!0},Backspace:Tp,"Mod-Backspace":Tp,"Shift-Backspace":Tp,Delete:Mp,"Mod-Delete":Mp,"Mod-a":(e,t)=>(t&&t(e.tr.setSelection(new Do(e.doc))),!0)},Ap={"Ctrl-h":Np.Backspace,"Alt-Backspace":Np["Mod-Backspace"],"Ctrl-d":Np.Delete,"Ctrl-Alt-Backspace":Np["Mod-Delete"],"Alt-Delete":Np["Mod-Delete"],"Alt-d":Np["Mod-Delete"],"Ctrl-a":wp,"Ctrl-e":kp};for(let n in Np)Ap[n]=Np[n];const Op=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&"darwin"==os.platform())?Ap:Np;for(var Ip={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Rp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Dp="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Lp="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),_p=0;_p<10;_p++)Ip[48+_p]=Ip[96+_p]=String(_p);for(_p=1;_p<=24;_p++)Ip[_p+111]="F"+_p;for(_p=65;_p<=90;_p++)Ip[_p]=String.fromCharCode(_p+32),Rp[_p]=String.fromCharCode(_p);for(var Pp in Ip)Rp.hasOwnProperty(Pp)||(Rp[Pp]=Ip[Pp]);const Fp="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function zp(e){let t,n,r,o,i=e.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(let l=0;l<i.length-1;l++){let e=i[l];if(/^(cmd|meta|m)$/i.test(e))o=!0;else if(/^a(lt)?$/i.test(e))t=!0;else if(/^(c|ctrl|control)$/i.test(e))n=!0;else if(/^s(hift)?$/i.test(e))r=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);Fp?o=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function $p(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function Bp(e){return new Wo({props:{handleKeyDown:jp(e)}})}function jp(e){let t=function(e){let t=Object.create(null);for(let n in e)t[zp(n)]=e[n];return t}(e);return function(e,n){let r,o=function(e){var t=!(Dp&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Lp&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?Rp:Ip)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),i=t[$p(o,n)];if(i&&i(e.state,e.dispatch,e))return!0;if(1==o.length&&" "!=o){if(n.shiftKey){let r=t[$p(o,n,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(r=Ip[n.keyCode])&&r!=o){let o=t[$p(r,n)];if(o&&o(e.state,e.dispatch,e))return!0}}return!1}}var Hp=Object.defineProperty,Up=(e,t,n)=>(((e,t,n)=>{t in e?Hp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),Wp=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Vp=(e,t,n)=>(Wp(e,t,"read from private field"),n?n.call(e):t.get(e)),qp=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Gp=(e,t,n,r)=>(Wp(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);const Kp=W("ConfigReady"),Yp=O([],"themeTimer"),Jp=W("ThemeEnvironmentReady"),Xp=W("ThemeReady"),Qp=new Go("MILKDOWN_THEME_RESET"),Zp=e=>{const t=new wt;return e.inject(ft).inject(ht).inject(kt,t).inject(Yp,[Kp]).record(Xp).record(Jp),async e=>{await e.waitTimers(Yp);const n=(e=>pt(e))(e.get(ft));return _t.forEach((e=>{t.inject(e)})),e.set(ht,n),e.done(Jp),e.done(Xp),await e.wait(ef),e.update(of,(e=>e.concat(new Wo({key:Qp,view:()=>(t.runExecutor(),{destroy:()=>{n.flush()}})})))),e=>{e.remove(ft).remove(ht).remove(kt).remove(Yp).clearTimer(Xp).clearTimer(Jp)}}},ef=W("InitReady"),tf=O([],"initTimer"),nf=O({},"editor"),rf=O([],"inputRules"),of=O([],"prosePlugins"),sf=O([],"remarkPlugins"),lf=O([],"nodeView"),af=O([],"markView"),cf=O(da().use(Gs).use(Kl),"remark"),uf=O({},"remarkStringifyOptions"),df=e=>t=>(t.inject(nf,e).inject(of).inject(sf).inject(rf).inject(lf).inject(af).inject(uf).inject(cf,da().use(Gs).use(Kl)).inject(tf,[Xp]).record(ef),async e=>{await e.waitTimers(tf);const t=e.get(uf);return e.set(cf,da().use(Gs).use(Kl,t)),e.done(ef),e=>{e.remove(nf).remove(of).remove(sf).remove(rf).remove(lf).remove(af).remove(uf).remove(cf).remove(tf).clearTimer(ef)}}),pf=W("schemaReady"),ff=O({},"schema"),hf=O([],"schemaTimer"),mf=O([],"nodes"),gf=O([],"marks"),yf=e=>{var t;return{...e,parseDOM:null==(t=e.parseDOM)?void 0:t.map((t=>({priority:e.priority,...t})))}},bf=e=>(e.inject(ff).inject(mf).inject(gf).inject(hf,[ef]).record(pf),async e=>{await e.waitTimers(hf);const t=e.get(cf),n=e.get(sf).reduce(((e,t)=>e.use(t)),t);e.set(cf,n);const r=Object.fromEntries(e.get(mf).map((e=>{let[t,n]=e;return[t,yf(n)]}))),o=Object.fromEntries(e.get(gf).map((e=>{let[t,n]=e;return[t,yf(n)]})));return e.set(ff,new On({nodes:r,marks:o})),e.done(pf),e=>{e.remove(ff).remove(mf).remove(gf).remove(hf).clearTimer(pf)}}),vf=O((()=>{}),"parser"),wf=O([],"parserTimer"),kf=W("ParserReady"),xf=e=>(e.inject(vf).inject(wf,[pf]).record(kf),async e=>{await e.waitTimers(wf);const t=e.get(mf),n=e.get(gf),r=e.get(cf),o=e.get(ff),i=[...t.map((e=>{let[t,n]=e;return{id:t,...n}})).map((e=>({...e,is:"node"}))),...n.map((e=>{let[t,n]=e;return{id:t,...n}})).map((e=>({...e,is:"mark"})))],s=Object.fromEntries(i.map((e=>{let{id:t,parseMarkdown:n,is:r}=e;return[t,{...n,is:r,key:t}]})));return e.set(vf,mr(o,s,r)),e.done(kf),e=>{e.remove(vf).remove(wf).clearTimer(kf)}}),Sf=O((()=>""),"serializer"),Ef=O([],"serializerTimer"),Cf=W("SerializerReady"),Tf=e=>(e.inject(Sf).inject(Ef,[pf]).record(Cf),async e=>{await e.waitTimers(Ef);const t=e.get(mf),n=e.get(gf),r=e.get(cf),o=e.get(ff),i=[...t,...n],s=Object.fromEntries(i.map((e=>{let[t,n]=e;return[t,n.toMarkdown]})));return e.set(Sf,Fr(o,s,r)),e.done(Cf),e=>{e.remove(Sf).remove(Ef).clearTimer(Cf)}}),Mf=O("","defaultValue"),Nf=O({},"editorState"),Af=O((e=>e),"stateOptions"),Of=O([],"editorStateTimer"),If=W("EditorStateReady"),Rf=new Go("MILKDOWN_STATE_TRACKER"),Df=e=>(e.inject(Mf).inject(Nf).inject(Af).inject(Of,[kf,Cf,Yf]).record(If),async e=>{await e.waitTimers(Of);const t=e.get(ff),n=e.get(vf),r=e.get(rf),o=e.get(Af),i=e.get(of),s=((e,t,n)=>{if("string"==typeof e)return t(e);if("html"===e.type)return Rn.fromSchema(n).parse(e.dom);if("json"===e.type)return pn.fromJSON(n,e.value);throw d(e)})(e.get(Mf),n,t),l=[...i,new Wo({key:Rf,state:{init:()=>{},apply:(t,n,r,o)=>{e.set(Nf,o)}}}),ep({rules:r}),Bp(Op)];e.set(of,l);const a=o({schema:t,doc:s,plugins:l}),c=Ho.create(a);return e.set(Nf,c),e.done(If),e=>{e.remove(Mf).remove(Nf).remove(Af).remove(Of).clearTimer(If)}}),Lf=O({},"editorView"),_f=O({},"editorViewOptions"),Pf=O(null,"root"),Ff=O([],"editorViewTimer"),zf=O(null,"rootDOM"),$f=W("EditorViewReady"),Bf=new Go("MILKDOWN_VIEW_CLEAR"),jf=e=>(e.inject(Pf,document.body).inject(Lf).inject(_f).inject(zf).inject(Ff,[If]).record($f),async e=>{await e.wait(ef);const t=e.get(Pf)||document.body,n="string"==typeof t?document.querySelector(t):t;e.update(of,(t=>[new Wo({key:Bf,view:t=>{const r=n?((e,t)=>{const n=document.createElement("div");return n.className="milkdown",e.appendChild(n),t.set(zf,n),n})(n,e):void 0;return(()=>{if(r&&n){const e=t.dom;n.replaceChild(r,e),r.appendChild(e)}})(),{destroy:()=>{null!=r&&r.parentNode&&(null==r||r.parentNode.replaceChild(t.dom,r)),null==r||r.remove()}}}}),...t])),await e.waitTimers(Ff);const r=e.get(Nf),o=e.get(_f),i=Object.fromEntries(e.get(lf)),s=Object.fromEntries(e.get(af)),l=new Td(n,{state:r,nodeViews:i,markViews:s,...o});return(e=>{e.classList.add("editor"),e.setAttribute("role","textbox")})(l.dom),e.set(Lf,l),e.done($f),e=>{null==l||l.destroy(),e.remove(Pf).remove(Lf).remove(_f).remove(zf).remove(Ff).clearTimer($f)}});var Hf,Uf;class Wf{constructor(){qp(this,Hf,A()),qp(this,Uf,null),Up(this,"setCtx",(e=>{Gp(this,Uf,e)}))}create(e,t){return e(Vp(this,Hf).sliceMap,t)}get(e){return Vp(this,Hf).getSlice(e).get()}call(e,t){if(null==Vp(this,Uf))throw b();const n=this.get(e)(t),r=Vp(this,Uf).get(Lf);return n(r.state,r.dispatch,r)}remove(e){return Vp(this,Hf).removeSlice(e)}}Hf=new WeakMap,Uf=new WeakMap;const Vf=(e,t)=>[e,t],qf=function(){return O((()=>()=>!1),arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cmdKey")},Gf=O({},"commands"),Kf=O([],"commandsTimer"),Yf=W("CommandsReady"),Jf=e=>{const t=new Wf;return e.inject(Gf,t).inject(Kf,[pf]).record(Yf),async e=>(await e.waitTimers(Kf),e.done(Yf),await e.wait($f),t.setCtx(e),e=>{e.remove(Gf).remove(Kf).clearTimer(Yf)})};var Xf,Qf,Zf,eh,th,nh,rh,oh,ih,sh,lh,ah,ch;const uh=class{constructor(){var e=this;qp(this,Xf,"Idle"),qp(this,Qf,[]),qp(this,Zf,(()=>{})),qp(this,eh,A()),qp(this,th,U()),qp(this,nh,new Map),qp(this,rh,new $(Vp(this,eh),Vp(this,th))),qp(this,oh,new H(Vp(this,eh),Vp(this,th))),qp(this,ih,new j(Vp(this,eh),Vp(this,th))),qp(this,sh,(()=>{const e=[Zp,bf,xf,Tf,Jf,Df,jf,df(this)],t=(e=>t=>(t.record(Kp),async t=>(await e(t),t.done(Kp),e=>{e.clearTimer(Kp)})))((async e=>{await Promise.all(Vp(this,Qf).map((t=>t(e))))}));this.use(e.concat(t))})),qp(this,lh,(()=>{[...Vp(this,nh).entries()].map((async e=>{let[t,n]=e;var r;const o=null!=(r=n.handler)?r:t(Vp(this,oh));Vp(this,nh).set(t,{...n,handler:o})}))})),qp(this,ah,(function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.all([t].flat().map((t=>{const r=Vp(e,nh).get(t),o=null==r?void 0:r.cleanup;if(n&&Vp(e,nh).delete(t),"function"==typeof o)return o(Vp(e,ih))})))})),qp(this,ch,(e=>{Gp(this,Xf,e),Vp(this,Zf).call(this,e)})),Up(this,"use",(e=>([e].flat().forEach((e=>{const t="Created"===Vp(this,Xf)?e(Vp(this,oh)):void 0;Vp(this,nh).set(e,{handler:t,cleanup:void 0})})),this))),Up(this,"config",(e=>(Vp(this,Qf).push(e),this))),Up(this,"onStatusChange",(e=>(Gp(this,Zf,e),this))),Up(this,"create",(async()=>("OnCreate"===Vp(this,Xf)||("Created"===Vp(this,Xf)&&await this.destroy(),Vp(this,ch).call(this,"OnCreate"),Vp(this,sh).call(this),Vp(this,lh).call(this),await Promise.all([...Vp(this,nh).entries()].map((async e=>{let[t,n]=e;const r=n.handler;if(!r)return;const o=await r(Vp(this,rh));return Vp(this,nh).set(t,{handler:r,cleanup:o}),o}))),Vp(this,ch).call(this,"Created")),this))),Up(this,"remove",(async e=>(await Vp(this,ah).call(this,[e].flat(),!0),this))),Up(this,"destroy",(async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"Destroyed"===Vp(e,Xf)||"OnDestroy"===Vp(e,Xf)||(t&&Gp(e,Qf,[]),Vp(e,ch).call(e,"OnDestroy"),await Vp(e,ah).call(e,[...Vp(e,nh).keys()],t),Vp(e,ch).call(e,"Destroyed")),e})),Up(this,"action",(e=>e(Vp(this,rh))))}static make(){return new uh}get ctx(){return Vp(this,rh)}get status(){return Vp(this,Xf)}};let dh=uh;function ph(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}Xf=new WeakMap,Qf=new WeakMap,Zf=new WeakMap,eh=new WeakMap,th=new WeakMap,nh=new WeakMap,rh=new WeakMap,oh=new WeakMap,ih=new WeakMap,sh=new WeakMap,lh=new WeakMap,ah=new WeakMap,ch=new WeakMap;var fh=200,hh=function(){};hh.prototype.append=function(e){return e.length?(e=hh.from(e),!this.length&&e||e.length<fh&&this.leafAppend(e)||this.length<fh&&e.leafPrepend(this)||this.appendInner(e)):this},hh.prototype.prepend=function(e){return e.length?hh.from(e).append(this):this},hh.prototype.appendInner=function(e){return new gh(this,e)},hh.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?hh.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},hh.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},hh.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},hh.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},hh.from=function(e){return e instanceof hh?e:e&&e.length?new mh(e):hh.empty};var mh=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=fh)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=fh)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(hh);hh.empty=new mh([]);var gh=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(hh);const yh=hh;class bh{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,o=this.items.length;for(;;o--){if(this.items.get(o-1).selection){--o;break}}t&&(n=this.remapping(o,this.items.length),r=n.maps.length);let i,s,l=e.tr,a=[],c=[];return this.items.forEach(((e,t)=>{if(!e.step)return n||(n=this.remapping(o,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new vh(e.map));let t,o=e.step.map(n.slice(r));o&&l.maybeStep(o).doc&&(t=l.mapping.maps[l.mapping.maps.length-1],a.push(new vh(t,void 0,void 0,a.length+c.length))),r--,t&&n.appendMap(t,r)}else l.maybeStep(e.step);return e.selection?(i=n?e.selection.map(n.slice(r)):e.selection,s=new bh(this.items.slice(0,o).append(c.reverse().concat(a)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:l,selection:i}}addTransform(e,t,n,r){let o=[],i=this.eventCount,s=this.items,l=!r&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let n,a=e.steps[c].invert(e.docs[c]),u=new vh(e.mapping.maps[c],a,t);(n=l&&l.merge(u))&&(u=n,c?o.pop():s=s.slice(0,s.length-1)),o.push(u),t&&(i++,t=void 0),r||(l=u)}let a=i-n.depth;return a>kh&&(s=function(e,t){let n;return e.forEach(((e,r)=>{if(e.selection&&0==t--)return n=r,!1})),e.slice(n)}(s,a),i-=a),new bh(s.append(o),i)}remapping(e,t){let n=new Ur;return this.items.forEach(((t,r)=>{let o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,o)}),e,t),n}addMaps(e){return 0==this.eventCount?this:new bh(this.items.append(e.map((e=>new vh(e)))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,s=this.eventCount;this.items.forEach((e=>{e.selection&&s--}),r);let l=t;this.items.forEach((t=>{let r=o.getMirror(--l);if(null==r)return;i=Math.min(i,r);let a=o.maps[r];if(t.step){let i=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(o.slice(l+1,r));c&&s++,n.push(new vh(a,i,c))}else n.push(new vh(a))}),r);let a=[];for(let d=t;d<i;d++)a.push(new vh(o.maps[d]));let c=this.items.slice(0,r).append(a).append(n),u=new bh(c,s);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach((t=>{t.step||e++})),e}compress(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items.length,t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach(((i,s)=>{if(s>=e)r.push(i),i.selection&&o++;else if(i.step){let e=i.step.map(t.slice(n)),s=e&&e.getMap();if(n--,s&&t.appendMap(s,n),e){let l=i.selection&&i.selection.map(t.slice(n));l&&o++;let a,c=new vh(s.invert(),e,l),u=r.length-1;(a=r.length&&r[u].merge(c))?r[u]=a:r.push(c)}}else i.map&&n--}),this.items.length,0),new bh(yh.from(r.reverse()),o)}}bh.empty=new bh(yh.empty,0);class vh{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new vh(t.getMap().invert(),t,this.selection)}}}class wh{constructor(e,t,n,r,o){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=o}}const kh=20;function xh(e){let t=[];return e.forEach(((e,n,r,o)=>t.push(r,o))),t}function Sh(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}let Eh=!1,Ch=null;function Th(e){let t=e.plugins;if(Ch!=t){Eh=!1,Ch=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){Eh=!0;break}}return Eh}const Mh=new Go("history"),Nh=new Go("closeHistory");function Ah(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Wo({key:Mh,state:{init:()=>new wh(bh.empty,bh.empty,null,0,-1),apply:(t,n,r)=>function(e,t,n,r){let o,i=n.getMeta(Mh);if(i)return i.historyState;n.getMeta(Nh)&&(e=new wh(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(Mh))return s.getMeta(Mh).redo?new wh(e.done.addTransform(n,void 0,r,Th(t)),e.undone,xh(n.mapping.maps[n.steps.length-1]),e.prevTime,e.prevComposition):new wh(e.done,e.undone.addTransform(n,void 0,r,Th(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new wh(e.done.rebased(n,o),e.undone.rebased(n,o),Sh(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new wh(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Sh(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let o=n.getMeta("composition"),i=0==e.prevTime||!s&&e.prevComposition!=o&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach(((e,r)=>{for(let o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)})),n}(n,e.prevRanges)),l=s?Sh(e.prevRanges,n.mapping):xh(n.mapping.maps[n.steps.length-1]);return new wh(e.done.addTransform(n,i?t.selection.getBookmark():void 0,r,Th(t)),bh.empty,l,n.time,null==o?e.prevComposition:o)}}(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?Ih:"historyRedo"==n?Rh:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}function Oh(e,t){return(n,r)=>{let o=Mh.getState(n);if(!o||0==(e?o.undone:o.done).eventCount)return!1;if(r){let i=function(e,t,n){let r=Th(t),o=Mh.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let s=i.selection.resolve(i.transform.doc),l=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),o,r),a=new wh(n?l:i.remaining,n?i.remaining:l,null,0,-1);return i.transform.setSelection(s).setMeta(Mh,{redo:n,historyState:a})}(o,n,e);i&&r(t?i.scrollIntoView():i)}return!0}}const Ih=Oh(!1,!0),Rh=Oh(!0,!0);Oh(!1,!1),Oh(!0,!1);var Dh,Lh,_h,Ph,Fh,zh,$h,Bh;const jh=(e,t)=>{e.set("code-fence",(n=>{let{view:r,editable:o,onSelectLanguage:i,onBlur:s,onFocus:l,languageList:a}=n;const c=document.createElement("div"),u=document.createElement("div"),d=document.createElement("ul"),p=document.createElement("pre"),f=document.createElement("code"),h=document.createElement("div");h.className="code-fence_selector";const m=document.createElement("span");h.appendChild(m);const g=e.get(Tt,"downArrow");o()&&g&&h.appendChild(g.dom),f.spellcheck=!1,u.className="code-fence_selector-wrapper",u.contentEditable="false",u.append(h),u.append(d),p.append(f);const y=document.createElement("div");f.append(y),y.style.whiteSpace="inherit",c.append(u,p),c.classList.add("code-fence"),e.onFlush((()=>{const n=((e,t)=>{let{css:n}=t;const r=Pt(e),o=e.get(Lt,"radius"),i=e.get(Lt,"lineWidth");return n(Lh||(Lh=ph(["\n        background-color: ",";\n        color: ",";\n        font-size: 14px;\n        padding: 18px 6px 22px;\n        border-radius: ",";\n        font-family: ",";\n\n        .code-fence_selector-wrapper {\n            position: relative;\n        }\n\n        .code-fence_selector {\n            width: 180px;\n            box-sizing: border-box;\n            border-radius: ",";\n            margin: 0 18px 18px;\n            cursor: pointer;\n            background-color: ",";\n            position: relative;\n            display: flex;\n            color: ",";\n            letter-spacing: 0.5px;\n            height: 42px;\n            align-items: center;\n\n            ",";\n            ",";\n\n            & > .icon {\n                width: 42px;\n                height: 100%;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                color: ",";\n                border-left: "," solid ",";\n\n                text-align: center;\n                transition: all 0.2s ease-in-out;\n                &:hover {\n                    background: ",";\n                    color: ",";\n                }\n            }\n\n            > span:first-child {\n                padding-left: 16px;\n                flex: 1;\n                font-weight: 500;\n            }\n        }\n\n        .code-fence_selector-list-item {\n            list-style: none;\n            line-height: 2;\n            padding-left: 16px;\n            cursor: pointer;\n            margin: 0 !important;\n            :hover {\n                background: ",";\n                color: ",";\n            }\n        }\n\n        .code-fence_selector-list {\n            &[data-fold='true'] {\n                display: none;\n            }\n\n            margin: 0 !important;\n            font-weight: 500;\n            position: absolute;\n            z-index: 1;\n            top: 42px;\n            box-sizing: border-box;\n            left: 18px;\n            padding: 8px 0;\n            max-height: 260px;\n            width: 180px;\n            background-color: ",";\n            border-top: none;\n            overflow-y: auto;\n            display: flex;\n            flex-direction: column;\n\n            ","\n            ",";\n            ",";\n        }\n    "])),r("background"),r("neutral"),o,e.get(Et,"typography"),o,r("surface"),r("neutral",.87),e.get(xt,void 0),e.get(Dt,void 0),r("solid",.87),i,r("line"),r("background"),r("primary"),r("secondary",.12),r("primary"),r("surface"),e.get(Rt,["y"]),e.get(xt,void 0),e.get(Dt,void 0))})(e,t);n&&c.classList.add(n)})),d.className="code-fence_selector-list",d.addEventListener("mousedown",(e=>{if(e.preventDefault(),e.stopPropagation(),!o())return;const t=e.target;if(!(t instanceof HTMLLIElement))return;const n=t.dataset.value;null!=n&&i(n)})),h.addEventListener("mousedown",(e=>{e.preventDefault(),e.stopPropagation(),o()&&l()}));const b=()=>{!o()||"true"===d.dataset.fold||s()};return document.addEventListener("mousedown",b),a.forEach((e=>{const t=document.createElement("li");t.className="code-fence_selector-list-item",t.innerText=e||"--",d.appendChild(t),t.setAttribute("data-value",e)})),{dom:c,contentDOM:y,onUpdate:e=>{c.dataset.language=e.attrs.language,m.innerText=e.attrs.language||"--",d.style.maxHeight="",d.setAttribute("data-fold",e.attrs.fold?"true":"false");const t=r.dom.parentElement;if(!t)throw w();const n=t.getBoundingClientRect(),o=u.getBoundingClientRect(),i=d.getBoundingClientRect();let s,l;const a=o.top-n.top,p=n.height+n.top-(o.height+o.top);p>=i.height+14?s="bottom":a>=i.height+14?s="top":p>=a?(s="bottom",l=p-14):(s="top",l=a-14);const f="top"===s?-(null!=l?l:i.height):o.height;d.style.maxHeight=void 0!==l&&l>0?"".concat(l,"px"):"",d.style.top="".concat(f,"px")},onDestroy:()=>{c.remove(),document.removeEventListener("mousedown",b)}}}))},Hh=(e,t)=>{let{css:n}=t;const r=Pt(e);e.set("image",(t=>{let{placeholder:o,isBlock:i,onError:s,onLoad:l}=t;const a=t=>{var n;return null==(n=e.get(Tt,t))?void 0:n.dom},c=document.createElement("span");c.classList.add("image-container"),e.onFlush((()=>{const t=n(_h||(_h=ph(["\n                display: inline-block;\n                position: relative;\n                text-align: center;\n                font-size: 0;\n                vertical-align: text-bottom;\n                line-height: 1;\n\n                ","\n\n                &.ProseMirror-selectednode::after {\n                    content: '';\n                    background: ",";\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                }\n\n                img {\n                    max-width: 100%;\n                    height: auto;\n                    object-fit: contain;\n                    margin: 0 2px;\n                }\n                .icon,\n                .placeholder {\n                    display: none;\n                }\n\n                &.system {\n                    width: 100%;\n                    padding: 0 32px;\n                    font-size: inherit;\n\n                    img {\n                        width: 0;\n                        height: 0;\n                        display: none;\n                    }\n\n                    .icon,\n                    .placeholder {\n                        display: inline;\n                    }\n\n                    box-sizing: border-box;\n                    height: 48px;\n                    background-color: ",";\n                    border-radius: ",";\n                    display: inline-flex;\n                    gap: 32px;\n                    justify-content: flex-start;\n                    align-items: center;\n                    .placeholder {\n                        margin: 0;\n                        line-height: 1;\n                        &::before {\n                            content: '';\n                            font-size: 14px;\n                            color: ",";\n                        }\n                    }\n                }\n\n                &.empty {\n                    .placeholder {\n                        &::before {\n                            content: '","';\n                        }\n                    }\n                }\n            "])),i?"\n                width: 100%;\n                margin: 0 auto;\n                ":"",r("secondary",.38),r("background"),e.get(Lt,"radius"),r("neutral",.6),o);t&&c.classList.add(t)}));const u=document.createElement("img");c.append(u);let d=a("image");const p=document.createElement("span");p.classList.add("placeholder"),c.append(d,p);const f=e=>{const t=a(e);c.replaceChild(t,d),d=t};return{dom:c,onUpdate:e=>{const{src:t,alt:n,title:r,loading:o,failed:i}=e.attrs;return u.src=t,u.title=r||n,u.alt=n,0===t.length?(c.classList.add("system","empty"),void f("image")):o?void(e=>{c.classList.add("system","loading"),f("loading");const t=document.createElement("img");t.src=e,t.onerror=()=>{null==s||s(t)},t.onload=()=>{null==l||l(t)}})(t):i?(c.classList.remove("loading","empty"),c.classList.add("system","failed"),void f("brokenImage")):void(t.length>0?c.classList.remove("system","empty","loading"):(c.classList.add("system","empty"),f("image")))}}}))},Uh=(e,t)=>{e.set("inner-editor",(n=>{let{view:r,getPos:o,render:i}=n;const s=((e,t)=>{let n,r=!1;return{isEditing:()=>r,innerView:()=>n,openEditor:(o,i)=>{n=new Td(o,{state:Ho.create({doc:i,plugins:[Ah(),Bp({...Op,Backspace:Cp(ap,(t=>{var r;if(!t.selection.empty||n&&n.state.doc.textContent.length>0)return!1;const{dispatch:o,state:i}=e,s=null==(r=i.schema.nodes.paragraph)?void 0:r.create();if(!s)return!1;const l=i.tr.replaceSelectionWith(s);let a=l.selection.from-2;return a<0&&(a=0),o(l.setSelection(Ao.create(l.doc,a))),e.focus(),!0})),"Mod-Enter":(t,n)=>{var r;if(n){const{state:t}=e,{to:n}=t.selection,o=null==(r=t.schema.nodes.paragraph)?void 0:r.createAndFill();if(!o)return!1;const i=t.tr.replaceWith(n,n,o);e.dispatch(i.setSelection(Ao.create(i.doc,n))),e.focus()}return!0}}),Bp({"Mod-z":Ih,"Mod-y":Rh,"Shift-Mod-z":Rh})]}),plugins:[],dispatchTransaction:r=>{if(!n)return;const{state:o,transactions:i}=n.state.applyTransaction(r);if(n.updateState(o),!r.getMeta("fromOutside")){const n=e.state.tr,r=Hr.offset(t()+1);i.forEach((e=>{const{steps:t}=e;t.forEach((e=>{const t=e.map(r);if(!t)throw new Error("step discarded!");n.step(t)}))})),n.docChanged&&e.dispatch(n)}}}),n.focus();const{state:s}=n;n.dispatch(s.tr.setSelection(Ao.create(s.doc,0))),r=!0},closeEditor:()=>{n&&n.destroy(),n=void 0,r=!1}}})(r,o),l=document.createElement("div");l.classList.add("math-block");const a=document.createElement("div"),c=document.createElement("div");let u="",d="",p="";return e.onFlush((()=>{({codeStyle:u,hideCodeStyle:d,previewPanelStyle:p}=((e,t)=>{let{css:n}=t;const r=Pt(e),o=e.get(Lt,"radius"),i=e.get(Et,"code");return{codeStyle:n(Ph||(Ph=ph(["\n        color: ",";\n        background-color: ",";\n        border-radius: ",";\n        padding: 16px 32px;\n        font-size: 14px;\n        font-family: ",";\n        overflow: hidden;\n        line-height: 1.5;\n        .ProseMirror {\n            outline: none;\n        }\n    "])),r("neutral",.87),r("background"),o,i),hideCodeStyle:n(Fh||(Fh=ph(["\n        display: none;\n    "]))),previewPanelStyle:n(zh||(zh=ph(["\n        display: flex;\n        justify-content: center;\n        padding: 16px 0;\n    "])))}})(e,t)),u&&d&&a.classList.add(u,d),p&&c.classList.add(p)})),l.append(a),{dom:l,preview:c,editor:a,onUpdate:(e,t)=>{var n;if(t){const t=e.attrs.value||e.textContent||"";return a.dataset.value=t,void i(t)}const r=s.innerView();if(r){const t=r.state,n=e.content.findDiffStart(t.doc.content);if(null!=n){const o=e.content.findDiffEnd(t.doc.content);if(o){let{a:i,b:s}=o;const l=n-Math.min(i,s);l>0&&(i+=l,s+=l),r.dispatch(t.tr.replace(n,s,e.slice(n,i)).setMeta("fromOutside",!0))}}}const o=(null==(n=e.content.firstChild)?void 0:n.text)||"";a.dataset.value=o,i(o)},onFocus:e=>{!r.editable||(d&&a.classList.remove(d),s.openEditor(a,e),l.classList.add("ProseMirror-selectednode"))},onBlur:()=>{d&&a.classList.add(d),s.closeEditor(),l.classList.remove("ProseMirror-selectednode")},onDestroy:()=>{c.remove(),a.remove(),l.remove()},stopEvent:e=>{const t=s.innerView(),{target:n}=e,r=n&&(null==t?void 0:t.dom.contains(n));return!(!t||!r)}}}))},Wh=(e,t)=>{np(e,t,((t,n,r,o)=>{const i=e.dom.parentElement;if(!i)throw w();const s=n.left-t.left;let l=t.left-o.left-(r.width-s)/2;const a=t.bottom-o.top+14+i.scrollTop;l<0&&(l=0);const c=i.clientWidth-(r.width+4);return l>c&&(l=c),[a,l]}))},Vh=(e,t)=>{e.set("input-chip",(n=>{let{isBindMode:r,onUpdate:o,buttonText:i,placeholder:s,width:l="400px",calculatePosition:a=Wh}=n,c=null,u=!1,d="";const p=document.createElement("div");e.onFlush((()=>{const n=((e,t,n)=>{let{css:r}=t;const o=Pt(e);return r($h||($h=ph(["\n        ","\n        ","\n\n        display: inline-flex;\n        justify-content: space-between;\n        align-items: center;\n        position: absolute;\n        background: ",";\n        border-radius: ",";\n        font-size: 16px;\n\n        height: 56px;\n        box-sizing: border-box;\n        width: ",";\n        padding: 0 16px;\n        gap: 16px;\n        z-index: 2;\n\n        input,\n        button {\n            all: unset;\n        }\n\n        input {\n            flex-grow: 1;\n            caret-color: ",";\n            &::placeholder {\n                color: ",";\n            }\n        }\n\n        button {\n            cursor: pointer;\n            height: 36px;\n            color: ",";\n            font-size: 14px;\n            padding: 0 8px;\n            font-weight: 500;\n            letter-spacing: 1.25px;\n            &:hover {\n                background-color: ",";\n            }\n            &.disable {\n                color: ",";\n                cursor: not-allowed;\n                &:hover {\n                    background: transparent;\n                }\n            }\n            &.hide {\n                display: none;\n            }\n        }\n\n        &.hide {\n            display: none;\n        }\n    "])),e.get(xt,void 0),e.get(Dt,void 0),o("surface"),e.get(Lt,"radius"),n.width,o("primary"),o("neutral",.6),o("primary"),o("secondary",.12),o("neutral",.38))})(e,t,{width:l});n&&p.classList.add(n)})),p.classList.add("tooltip-input");const f=document.createElement("input");s&&(f.placeholder=s),p.appendChild(f),r||(c=document.createElement("button"),c.innerText=i||"APPLY",p.appendChild(c));const h=()=>{p.classList.add("hide")},m=e=>{const{target:t}=e;if(t instanceof HTMLInputElement){if(d=t.value,!c)return void o(d);if(!d)return c.classList.add("disable"),void(u=!0);c.classList.remove("disable"),u=!1}},g=e=>{u||(e.stopPropagation(),o(d),h())},y=e=>{"key"in e&&"Enter"===e.key&&(o(d),h())};return{dom:p,init:e=>{const t=e.dom.parentElement;if(!t)throw w();f.addEventListener("input",m),f.addEventListener("keydown",y),null==c||c.addEventListener("mousedown",g),t.appendChild(p),h()},show:e=>{p.classList.remove("hide"),a(e,p)},hide:h,destroy:()=>{f.removeEventListener("input",m),f.removeEventListener("keydown",y),null==c||c.removeEventListener("mousedown",g),p.remove()},update:e=>{d=e,f.value=e}}}))},qh=(e,t)=>{let{css:n}=t;const r=Pt(e);e.set("task-list-item",(t=>{let{onChange:o,editable:i}=t;const s=t=>{var n;return null==(n=e.get(Tt,t))?void 0:n.dom},l=document.createElement("li"),a=document.createElement("label"),c=document.createElement("span"),u=document.createElement("input"),d=document.createElement("div");let p=s("unchecked");a.appendChild(p);return a.append(u,c),l.append(a,d),a.contentEditable="false",u.type="checkbox",i()||(u.disabled=!0,a.style.cursor="not-allowed"),u.onchange=e=>{if(e.target instanceof HTMLInputElement){if(!i())return void(u.checked=!u.checked);e.preventDefault(),o(u.checked)}},l.dataset.type="task-item",l.classList.add("task-list-item"),e.onFlush((()=>{const e=n(Bh||(Bh=ph(["\n                list-style-type: none;\n                position: relative;\n\n                & > div {\n                    overflow: hidden;\n                    padding: 0 2px;\n                    width: 100%;\n                }\n\n                label {\n                    display: inline-block;\n                    width: 24px;\n                    height: 24px;\n                    cursor: pointer;\n                    input {\n                        visibility: hidden;\n                    }\n                }\n                &[data-checked='true'] {\n                    > label {\n                        color: ",";\n                    }\n                }\n                &[data-checked='false'] {\n                    > label {\n                        color: ",";\n                    }\n                }\n                .paragraph {\n                    margin: 8px 0;\n                }\n            "])),r("primary"),r("solid",.87));e&&l.classList.add(e)})),{dom:l,contentDOM:d,onUpdate:e=>{l.dataset.checked=e.attrs.checked,e.attrs.checked?u.setAttribute("checked","checked"):u.removeAttribute("checked"),(e=>{const t=s(e);a.replaceChild(t,p),p=t})(e.attrs.checked?"checked":"unchecked")}}}))};var Gh,Kh,Yh,Jh,Xh,Qh,Zh,em,tm,nm,rm,om,im,sm,lm,am;const cm={h1:{label:"h1",icon:"looks_one"},h2:{label:"h2",icon:"looks_two"},h3:{label:"h3",icon:"looks_3"},loading:{label:"loading",icon:"hourglass_empty"},quote:{label:"quote",icon:"format_quote"},code:{label:"code",icon:"code"},table:{label:"table",icon:"table_chart"},divider:{label:"divider",icon:"horizontal_rule"},image:{label:"image",icon:"image"},brokenImage:{label:"broken image",icon:"broken_image"},bulletList:{label:"bullet list",icon:"format_list_bulleted"},orderedList:{label:"ordered list",icon:"format_list_numbered"},taskList:{label:"task list",icon:"checklist"},bold:{label:"bold",icon:"format_bold"},italic:{label:"italic",icon:"format_italic"},inlineCode:{label:"inline code",icon:"code"},strikeThrough:{label:"strike through",icon:"strikethrough_s"},link:{label:"link",icon:"link"},leftArrow:{label:"left arrow",icon:"chevron_left"},rightArrow:{label:"right arrow",icon:"chevron_right"},upArrow:{label:"up arrow",icon:"expand_less"},downArrow:{label:"down arrow",icon:"expand_more"},alignLeft:{label:"align left",icon:"format_align_left"},alignRight:{label:"align right",icon:"format_align_right"},alignCenter:{label:"align center",icon:"format_align_center"},delete:{label:"delete",icon:"delete"},select:{label:"select",icon:"select_all"},unchecked:{label:"unchecked",icon:"check_box_outline_blank"},checked:{label:"checked",icon:"check_box"},undo:{label:"undo",icon:"turn_left"},redo:{label:"redo",icon:"turn_right"},liftList:{label:"lift list",icon:"format_indent_decrease"},sinkList:{label:"sink list",icon:"format_indent_increase"},dragHandle:{label:"drag handle",icon:"drag_indicator"},text:{label:"text",icon:"title"}},um="#2e3440",dm="#3b4252",pm="#d8dee9",fm="#eceff4",hm="#81a1c1",mm="#5e81ac",gm={shadow:dm,primary:mm,secondary:hm,neutral:um,solid:"#4c566a",line:pm,background:fm,surface:"#fff"},ym={shadow:dm,primary:mm,secondary:hm,neutral:fm,solid:pm,line:"#434c5e",background:"#252932",surface:um},bm=(e,t)=>{const{injectGlobal:n,css:r}=t,o=Pt(e),i=e.get(Lt,"radius"),s=o("neutral",.87),l=o("surface"),a=o("line"),c=o("secondary",.38),u=r(Gh||(Gh=ph(["\n        .ProseMirror-selectednode {\n            outline: "," solid ",";\n        }\n\n        li.ProseMirror-selectednode {\n            outline: none;\n        }\n\n        li.ProseMirror-selectednode::after {\n            ",";\n        }\n\n        & ::selection {\n            background: ",";\n        }\n    "])),e.get(Lt,"lineWidth"),a,e.get(xt,void 0),c),d=r(Kh||(Kh=ph(["\n        padding: 50px 20px;\n        outline: none;\n        & > * {\n            margin: 30px 0;\n        }\n    "]))),p=r(Yh||(Yh=ph(["\n        p {\n            font-size: 16px;\n            line-height: 1.5;\n            letter-spacing: 0.5px;\n        }\n    "]))),f=r(Jh||(Jh=ph(["\n        blockquote {\n            padding-left: 30px;\n            line-height: 28px;\n            border-left: 4px solid ",";\n            margin-left: 0;\n            margin-right: 0;\n            * {\n                font-size: 16px;\n                line-height: 24px;\n            }\n        }\n    "])),o("primary")),h=r(Xh||(Xh=ph(["\n        h1 {\n            font-size: 48px;\n            line-height: 1.167;\n        }\n        h2 {\n            font-size: 40px;\n            line-height: 1.2;\n        }\n        h3 {\n            font-size: 34px;\n            line-height: 1.05;\n        }\n        h4 {\n            font-size: 28px;\n            line-height: 1.14;\n        }\n        h5 {\n            font-size: 24px;\n            line-height: 1;\n        }\n        h6 {\n            font-size: 20px;\n            line-height: 1;\n        }\n        .heading {\n            margin: 40px 0;\n            font-weight: 400;\n        }\n    "]))),m=r(Qh||(Qh=ph(["\n        hr {\n            height: ",";\n            background-color: ",";\n            border-width: 0;\n        }\n    "])),e.get(Lt,"lineWidth"),a),g=r(Zh||(Zh=ph(["\n        ul,\n        ol {\n            padding: 0;\n        }\n\n        .list-item,\n        .task-list-item {\n            margin-top: 8px;\n        }\n\n        .list-item_label,\n        .list-item .paragraph {\n            margin: 0;\n        }\n\n        .list-item {\n            display: flex;\n\n            &_body {\n                flex: 1;\n            }\n        }\n\n        .list-item_label {\n            display: flex;\n            justify-content: center;\n            width: 24px;\n            height: 24px;\n            font-size: 16px;\n            line-height: 1.5;\n            color: ",";\n        }\n\n        .list-item[data-list-type='bullet'] {\n            & > .list-item_label {\n                font-size: 24px;\n                line-height: 1;\n            }\n        }\n\n        li {\n            &::marker {\n                display: none;\n            }\n        }\n\n        .task-list-item {\n            display: flex;\n            flex-direction: row;\n            align-items: flex-start;\n            &_checkbox {\n                margin: 8px 8px 8px 0;\n                height: 16px;\n            }\n            & .paragraph {\n                margin: 0;\n            }\n        }\n    "])),o("primary")),y=r(em||(em=ph(["\n        .code-fence {\n            pre {\n                font-family: ",";\n                margin: 0 18px;\n                ","\n\n                background-color: ",";\n                color: ",";\n                font-size: 14px;\n                border-radius: ",";\n\n                code {\n                    line-height: 1.5;\n                    font-family: ",";\n                }\n            }\n        }\n    "])),e.get(Et,"code"),e.get(Rt,["x"]),o("background"),o("neutral"),i,e.get(Et,"code")),b=r(tm||(tm=ph(["\n        .image {\n            display: inline-block;\n            margin: 0 auto;\n            object-fit: contain;\n            width: 100%;\n            position: relative;\n            height: auto;\n            text-align: center;\n        }\n    "]))),v=r(nm||(nm=ph(["\n        .code-inline {\n            background-color: ",";\n            color: ",";\n            border-radius: ",";\n            font-weight: 500;\n            font-family: ",";\n            padding: 0 3px;\n        }\n\n        .strong {\n            font-weight: 600;\n        }\n\n        .link,\n        a {\n            color: ",";\n            cursor: pointer;\n            transition: all 0.4s ease-in-out;\n            font-weight: 500;\n            &:hover {\n                background-color: ",";\n                box-shadow: 0 3px ",", 0 -3px ",";\n            }\n        }\n\n        .strike-through {\n            text-decoration-color: ",";\n        }\n    "])),o("neutral"),o("background"),i,e.get(Et,"code"),o("secondary"),o("line"),o("line"),o("line"),o("secondary")),w=r(rm||(rm=ph(["\n        .footnote-definition {\n            ",";\n            border-radius: ",";\n            background-color: ",";\n            padding: 16px;\n            display: flex;\n            flex-direction: row;\n            & > .footnote-definition_content {\n                flex: 1;\n                width: calc(100% - 16px);\n                & > dd {\n                    margin-inline-start: 16px;\n                }\n                & > dt {\n                    color: ",";\n                    font-weight: 500;\n                }\n            }\n            & > .footnote-definition_anchor {\n                width: 16px;\n            }\n        }\n    "])),e.get(xt,void 0),e.get(Lt,"radius"),o("background"),o("secondary")),k=r(om||(om=ph(["\n        /* copy from https://github.com/ProseMirror/prosemirror-tables/blob/master/style/tables.css */\n        .tableWrapper {\n            overflow-x: auto;\n            margin: 0;\n            ","\n            width: 100%;\n            * {\n                margin: 0;\n                box-sizing: border-box;\n                font-size: 16px;\n            }\n        }\n        table {\n            border-collapse: collapse;\n            table-layout: fixed;\n            width: 100%;\n            overflow: auto;\n            border-radius: ",";\n        }\n        tr {\n            ",";\n        }\n        td,\n        th {\n            padding: 0 16px;\n            vertical-align: top;\n            box-sizing: border-box;\n            position: relative;\n\n            min-width: 100px;\n            ",";\n            text-align: left;\n            line-height: 3;\n            height: 48px;\n            vertical-align: middle;\n        }\n        th {\n            background: ",";\n            font-weight: 400;\n        }\n        .column-resize-handle {\n            position: absolute;\n            right: -2px;\n            top: 0;\n            bottom: 0;\n            z-index: 20;\n            pointer-events: none;\n            background: ",";\n            width: ",";\n        }\n\n        .selectedCell {\n            &::after {\n                z-index: 2;\n                position: absolute;\n                content: '';\n                left: 0;\n                right: 0;\n                top: 0;\n                bottom: 0;\n                background: ",";\n                pointer-events: none;\n            }\n\n            & ::selection {\n                background: transparent;\n            }\n        }\n    "])),e.get(Rt,["x"]),e.get(Lt,"radius"),e.get(xt,"bottom"),e.get(xt,void 0),o("background",.5),o("secondary"),e.get(Lt,"lineWidth"),o("secondary",.38));(e=>{let{injectGlobal:t}=e;t(Dh||(Dh=ph(["\n    /* copy from https://github.com/ProseMirror/@milkdown/prose/blob/master/style/prosemirror.css */\n    .ProseMirror {\n        position: relative;\n    }\n\n    .ProseMirror {\n        word-wrap: break-word;\n        white-space: pre-wrap;\n        white-space: break-spaces;\n        -webkit-font-variant-ligatures: none;\n        font-variant-ligatures: none;\n        font-feature-settings: 'liga' 0; /* the above doesn't seem to work in Edge */\n    }\n\n    .ProseMirror pre {\n        white-space: pre-wrap;\n    }\n\n    .ProseMirror li {\n        position: relative;\n    }\n\n    .ProseMirror-hideselection *::selection {\n        background: transparent;\n    }\n    .ProseMirror-hideselection *::-moz-selection {\n        background: transparent;\n    }\n    .ProseMirror-hideselection {\n        caret-color: transparent;\n    }\n\n    .ProseMirror-selectednode {\n        outline: 2px solid #8cf;\n    }\n\n    /* Make sure li selections wrap around markers */\n\n    li.ProseMirror-selectednode {\n        outline: none;\n    }\n\n    li.ProseMirror-selectednode:after {\n        content: '';\n        position: absolute;\n        left: -32px;\n        right: -2px;\n        top: -2px;\n        bottom: -2px;\n        border: 2px solid #8cf;\n        pointer-events: none;\n    }\n\n    /* Protect against generic img rules */\n\n    img.ProseMirror-separator {\n        display: inline !important;\n        border: none !important;\n        margin: 0 !important;\n    }\n"])))})(t),n(im||(im=ph(["\n        .milkdown {\n            .material-icons-outlined {\n                font-size: 24px;\n            }\n\n            position: relative;\n            margin-left: auto;\n            margin-right: auto;\n            box-sizing: border-box;\n\n\n            color: ",";\n            background: ",";\n            font-family: ",";\n\n            ","\n            ","\n            ",";\n\n            .resize-cursor {\n                cursor: ew-resize;\n                cursor: col-resize;\n            }\n\n            .editor {\n                ",";\n\n                ",";\n                ",";\n                ",";\n                ",";\n                ",";\n                ",";\n                ",";\n\n                ",";\n                ",";\n\n                ",";\n            }\n        }\n    "])),s,l,e.get(Et,"typography"),e.get(Dt,void 0),e.get(Rt,void 0),u,d,p,f,m,g,y,b,h,k,w,v)},vm={typography:["Roboto","HelveticaNeue-Light","Helvetica Neue Light","Helvetica Neue","Helvetica","Arial","Lucida Grande","sans-serif"],code:["Consolas","Monaco","Andale Mono","Ubuntu Mono","monospace"]},wm={radius:"4px",lineWidth:"1px"},km=e=>(t,n)=>{const{css:r}=t,o=e?ym:gm;n.set(St,(e=>{if(!e)return;const[t,n]=e,r=(e=>{const t=e.slice(1).replace(/^([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,n,r)=>t+t+n+n+r+r)),[n,r="0",o="0",i="0"]=t.match(/^([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i)||[];return n?[r,o,i].map((e=>parseInt(e,16))):null})(o[t]);return r?"rgba(".concat(null==r?void 0:r.join(", "),", ").concat(n||1,")"):void 0})),n.set(Lt,(e=>{if(e)return wm[e]})),n.set(Et,(e=>{if(e)return vm[e].join(", ")})),n.set(Rt,(function(){let[e="y",t="normal"]=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["y","normal"];const o=n.get(St,["secondary",.38]),i=n.get(St,["secondary",.12]),s=n.get(St,["secondary"]),l=r({"&::-webkit-scrollbar":{["y"===e?"width":"height"]:"".concat("thin"===t?2:12,"px"),backgroundColor:"transparent"}});return r(sm||(sm=ph(["\n            scrollbar-width: thin;\n            scrollbar-color: "," ",";\n            -webkit-overflow-scrolling: touch;\n\n            ",";\n\n            &::-webkit-scrollbar-track {\n                border-radius: 999px;\n                background: transparent;\n                border: 4px solid transparent;\n            }\n\n            &::-webkit-scrollbar-thumb {\n                border-radius: 999px;\n                background-color: ",";\n                border: ","px solid transparent;\n                background-clip: content-box;\n            }\n\n            &::-webkit-scrollbar-thumb:hover {\n                background-color: ",";\n            }\n        "])),o,i,l,o,"thin"===t?0:4,s)})),n.set(Dt,(()=>{const e=n.get(Lt,"lineWidth"),t=e=>n.get(St,["shadow",e]);return r(lm||(lm=ph(["\n            box-shadow: 0 "," "," ",", 0 2px "," ",",\n                0 "," 3px ",";\n        "])),e,e,t(.14),e,t(.12),e,t(.2))})),n.set(xt,(e=>{const t=n.get(Lt,"lineWidth"),o=n.get(St,["line"]);return e?r({["border".concat((e=>e.charAt(0).toUpperCase()+e.slice(1))(e))]:"".concat(t," solid ").concat(o)}):r(am||(am=ph(["\n                border: "," solid ",";\n            "])),t,o)})),n.set(Tt,(e=>{if(e)return(e=>{const t=cm[e];if(!t)return;const n=document.createElement("span");n.className="icon material-icons material-icons-outlined";const r=cm[e];return r?(n.textContent=r.icon,n.dataset.label=r.label):console.warn('Icon not found: "'.concat(e,'", did you forget to add it to the icon mapping?')),{dom:n,label:t.label}})(e)})),n.set(Ct,(()=>{bm(n,t)})),((e,t)=>{[Vh,Hh,jh,qh,Uh].forEach((n=>{n(e,t)}))})(n,t)},xm=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(e=>{let t=null;const n=()=>async n=>{await n.wait(Jp);const r=n.get(ht),o=n.get(kt);o.setExecutor((()=>{null==e||e(r,o),null==t||t(r,o),_t.forEach((e=>{o.has(e)||console.warn("Theme key not found: ",e.sliceName)})),o.get(Ct,void 0)}))};return n.override=e=>(t=e,n),n})(((t,n)=>km(e)(t,n)))};xm(!0),xm(!1);let Sm=!1;var Em;typeof window<"u"&&(Sm=Boolean(null==(Em=window.matchMedia)?void 0:Em.call(window,"(prefers-color-scheme: dark)").matches));const Cm=xm(Sm);let Tm=e=>crypto.getRandomValues(new Uint8Array(e)),Mm=function(e){return((e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,s="";for(;;){let t=n(o),l=o;for(;l--;)if(s+=e[t[l]&r]||"",s.length===i)return s}}})(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:21,Tm)};const Nm=e=>Object.prototype.hasOwnProperty.call(e,"origin");class Am extends Array{findThenRun(e,t){const n=this.findIndex((t=>Nm(t)&&t.origin===e));return n<0||t(n),this}configure(e,t){return this.findThenRun(e,(n=>{this.splice(n,1,e(t))}))}replace(e,t){return this.findThenRun(e,(e=>{this.splice(e,1,t)}))}remove(e){return this.findThenRun(e,(e=>{this.splice(e,1)}))}headless(){return this.filter(Nm).forEach((e=>{this.configure(e.origin,{headless:!0})})),this}static create(e){return new Am(...e)}}Mm("abcedfghicklmn",10);const Om=e=>function(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];const s=null!=(n=null==e?void 0:e(t,...o))?n:o;return Array.isArray(s)?s.filter((e=>e)).join(" "):s},Im=(e,t,n)=>[e,t,n];function Rm(e,t){try{const n=e.get(kt),r=e.get(ht);if(!r.css)throw v();return{getClassName:Om(null==t?void 0:t.className),getStyle:e=>null!=t&&t.headless?"":e(r),themeManager:n}}catch{throw v()}}const Dm=e=>{const t=n=>{const r=e(n);return r.origin=t,r};return t},Lm=(e,t)=>n=>{const r=n;return r.extend=n=>t((function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return n(e(...r),...r)})),r},_m=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.length;let o=r;for(;o--;)if("function"!=typeof t[o])throw new TypeError("Expected a function");return function(){let e=0,n=r?t[e](...arguments):arguments.length<=0?void 0:arguments[0];for(;++e<r;)n=t[e](n);return n}},Pm=O({},"optionsPipeCtx"),Fm=O([],"injectPipeCtx"),zm=async(e,t)=>{const{pipelineCtx:n,onCleanup:r,pre:o}=e,i=n.get(Fm);i&&(i.forEach((e=>o.inject(e))),r((e=>{i.forEach((t=>e.remove(t)))}))),await t()},$m=async(e,t)=>{const{ctx:n}=e;await n.wait(Xp),await t()},Bm=O(void 0,"getRemarkPluginsPipeCtx"),jm=async(e,t)=>{const{ctx:n,pipelineCtx:r,onCleanup:o}=e;await n.wait(ef);const i=r.get(Bm);if(i){const e=i(n);n.update(sf,(t=>t.concat(e))),o((()=>{n.update(sf,(t=>t.filter((t=>!e.includes(t)))))}))}await t()},Hm=O(void 0,"getSchemaPipeCtx"),Um=O({},"Type"),Wm=async(e,t)=>{var n;const{ctx:r,pipelineCtx:o,onCleanup:i}=e,s=o.get(Hm),l=null!=(n=null==s?void 0:s(e.ctx))?n:{};let a={},c={};if(l.node){a=l.node;const e=Object.entries(l.node);r.update(mf,(t=>[...t,...e])),i((()=>{r.update(mf,(t=>t.filter((t=>!e.includes(t)))))}))}if(l.mark){c=l.mark;const e=Object.entries(l.mark);r.update(gf,(t=>[...t,...e])),i((()=>{r.update(gf,(t=>t.filter((t=>!e.includes(t)))))}))}await r.wait(pf);const u=r.get(ff),d=Object.keys(a).map((e=>[e,u.nodes[e]])),p=Object.keys(c).map((e=>[e,u.marks[e]])),f=Object.fromEntries([...d,...p]);o.set(Um,f),await t()},Vm=O(void 0,"getCommandsPipeCtx"),qm=async(e,t)=>{const{ctx:n,pipelineCtx:r,onCleanup:o}=e,i=r.get(Vm);if(i){const e=i(r.get(Um),n);e.forEach((e=>{let[t,r]=e;n.get(Gf).create(t,r)})),o((()=>{e.forEach((e=>{let[t]=e;n.get(Gf).remove(t)}))}))}await t()},Gm=O(void 0,"getInputRulesPipeCtx"),Km=async(e,t)=>{const{ctx:n,pipelineCtx:r,onCleanup:o}=e,i=r.get(Gm);if(i){const e=i(r.get(Um),n);n.update(rf,(t=>[...t,...e])),o((()=>{n.update(rf,(t=>t.filter((t=>!e.includes(t)))))}))}await t()},Ym=O({},"shortcutsPipeCtx"),Jm=async(e,t)=>{const{pipelineCtx:n,ctx:r,onCleanup:o}=e,i=n.get(Ym),s=n.get(Pm),l=Object.entries(i).flatMap((e=>{let[t,[n,o,i]]=e;const l=()=>r.get(Gf).call(n,i),a=((e,t)=>{var n,r;return null!=(r=null==(n=null==s?void 0:s.keymap)?void 0:n[e])?r:t})(t,o);return Array.isArray(a)?a.map((e=>({key:e,runner:l}))):{key:a,runner:l}})).map((e=>[e.key,e.runner])),a=Bp(Object.fromEntries(l));r.update(of,(e=>e.concat(a))),o((()=>{r.update(of,(e=>e.filter((e=>e!==a))))})),await t()},Xm=O(void 0,"getProsePluginsPipeCtx"),Qm=async(e,t)=>{const{pipelineCtx:n,ctx:r,onCleanup:o}=e,i=n.get(Xm);if(i){const e=i(n.get(Um),r);r.update(of,(t=>[...t,...e])),o((()=>{r.update(of,(t=>t.filter((t=>!e.includes(t)))))}))}await t()},Zm=O(void 0,"getViewPipeCtx"),eg=async(e,t)=>{const{pipelineCtx:n,ctx:r,onCleanup:o}=e,i=n.get(Zm),s=n.get(Pm),l=s.view?s.view(r):null==i?void 0:i(r);if(l){const e=Object.entries(l).filter((e=>{let[t]=e;return-1!==r.get(mf).findIndex((e=>e[0]===t))})),t=Object.entries(l).filter((e=>{let[t]=e;return-1!==r.get(gf).findIndex((e=>e[0]===t))}));r.update(lf,(t=>[...t,...e])),r.update(af,(e=>[...e,...t])),o((()=>{r.update(lf,(t=>t.filter((t=>!e.includes(t))))),r.update(af,(e=>e.filter((e=>!t.includes(e)))))}))}await t()},tg=O("","idPipeCtx"),ng=async(e,t)=>{const{pipelineCtx:n}=e;n.inject(tg).inject(Pm).inject(Fm).inject(Bm).inject(Hm).inject(Um).inject(Vm).inject(Gm).inject(Ym).inject(Xm).inject(Zm),await t()},rg=e=>{const t=(e=>(t,n)=>{let r=-1;const o=i=>{if(i<=r)return Promise.reject(new Error("next() called multiple times"));r=i;let s=e[i];if(i===e.length&&(s=n),!s)return Promise.resolve();try{return Promise.resolve(s(t,(()=>o(i+1))))}catch(Vp){return Promise.reject(Vp)}};return o(0)})(e),n=A(),r=U(),o=new Set,i=new B(n,r),s=e=>{o.add(e)},l=(e,n)=>t({pre:e,ctx:n,pipelineCtx:i,onCleanup:s});return l.runCleanup=async e=>{await Promise.all([...o].map((t=>t(e))))},l},og=e=>_m(Dm,Lm(e,og))((t=>n=>async r=>{const o=rg([ng,$m,async(n,o)=>{let{pipelineCtx:i}=n;const s=Rm(r,t),l=e(s,t),{id:a,commands:c,remarkPlugins:u,schema:d,inputRules:p,shortcuts:f,prosePlugins:h,view:m,injectSlices:g}=l,y=null==t?void 0:t.view,b=null!=g?g:[],v={...t||{},view:y?e=>({[a]:y(e)}):void 0};i.set(Fm,b),i.set(tg,a),i.set(Pm,v),i.set(Bm,u),i.set(Hm,(e=>({mark:{[a]:d(e)}}))),c&&i.set(Vm,((e,t)=>c(e[a],t))),p&&i.set(Gm,((e,t)=>p(e[a],t))),f&&i.set(Ym,f),h&&i.set(Xm,((e,t)=>h(e[a],t))),m&&i.set(Zm,(e=>({[a]:m(e)}))),await o()},zm,jm,Wm,qm,Km,Jm,Qm,eg]);return await o(n,r),o.runCleanup})),ig=e=>_m(Dm,Lm(e,ig))((t=>n=>async r=>{const o=rg([ng,$m,async(n,o)=>{let{pipelineCtx:i}=n;const s=Rm(r,t),l=e(s,t),{id:a,commands:c,remarkPlugins:u,schema:d,inputRules:p,shortcuts:f,prosePlugins:h,view:m,injectSlices:g}=l,y=null==t?void 0:t.view,b=null!=g?g:[],v={...t||{},view:y?e=>({[a]:y(e)}):void 0};i.set(Fm,b),i.set(tg,a),i.set(Pm,v),i.set(Bm,u),i.set(Hm,(e=>({node:{[a]:d(e)}}))),c&&i.set(Vm,((e,t)=>c(e[a],t))),p&&i.set(Gm,((e,t)=>p(e[a],t))),f&&i.set(Ym,f),h&&i.set(Xm,((e,t)=>h(e[a],t))),m&&i.set(Zm,(e=>({[a]:m(e)}))),await o()},zm,jm,Wm,qm,Km,Jm,Qm,eg]);return await o(n,r),o.runCleanup})),sg=e=>_m(Dm,Lm(e,sg))((t=>n=>async r=>{const o=rg([ng,$m,async(n,o)=>{let{pipelineCtx:i}=n;const s=Rm(r,t),l=e(s,t),{commands:a,remarkPlugins:c,schema:u,inputRules:d,shortcuts:p,prosePlugins:f,view:h,injectSlices:m}=l,g=null!=m?m:[];i.set(Fm,g),i.set(Pm,t||{}),i.set(Bm,c),u&&i.set(Hm,u),a&&i.set(Vm,a),d&&i.set(Gm,d),p&&i.set(Ym,p),f&&i.set(Xm,f),h&&i.set(Zm,h),await o()},zm,jm,Wm,qm,Km,Jm,Qm,eg]);return await o(n,r),o.runCleanup}));class lg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.match=e,this.match=e,this.handler="string"==typeof t?function(e){return function(t,n,r,o){let i=e;if(n[1]){let e=n[0].lastIndexOf(n[1]);i+=n[0].slice(e+n[1].length);let t=(r+=e)-o;t>0&&(i=n[0].slice(e-t,e)+i,r=o)}return t.tr.insertText(i,r,o)}}(t):t,this.undoable=!1!==n.undoable,this.inCode=n.inCode||!1}}new lg(/--$/,"\u2014"),new lg(/\.\.\.$/,"\u2026"),new lg(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new lg(/"$/,"\u201d"),new lg(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new lg(/'$/,"\u2019");function ag(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new lg(e,((e,o,i,s)=>{let l=n instanceof Function?n(o):n,a=e.tr.delete(i,s),c=a.doc.resolve(i).blockRange(),u=c&&ro(c,t,l);if(!u)return null;a.wrap(c,u);let d=a.doc.resolve(i-1).nodeBefore;return d&&d.type==t&&so(a.doc,i-1)&&(!r||r(o,d))&&a.join(i-1),a}))}function cg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new lg(e,((e,r,o,i)=>{let s=e.doc.resolve(o),l=n instanceof Function?n(r):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t)?e.tr.delete(o,i).setBlockType(o,o,t,l):null}))}function ug(e,t){return function(n,r){let{$from:o,$to:i,node:s}=n.selection;if(s&&s.isBlock||o.depth<2||!o.sameParent(i))return!1;let l=o.node(-1);if(l.type!=e)return!1;if(0==o.parent.content.size&&o.node(-1).childCount==o.indexAfter(-1)){if(3==o.depth||o.node(-3).type!=e||o.index(-2)!=o.node(-2).childCount-1)return!1;if(r){let t=jt.empty,i=o.index(-1)?1:o.index(-2)?2:3;for(let e=o.depth-i;e>=o.depth-3;e--)t=jt.from(o.node(e).copy(t));let s=o.indexAfter(-1)<o.node(-2).childCount?1:o.indexAfter(-2)<o.node(-3).childCount?2:3;t=t.append(jt.from(e.createAndFill()));let l=o.before(o.depth-(i-1)),a=n.tr.replace(l,o.after(-s),new Gt(t,4-i,0)),c=-1;a.doc.nodesBetween(l,a.doc.content.size,((e,t)=>{if(c>-1)return!1;e.isTextblock&&0==e.content.size&&(c=t+1)})),c>-1&&a.setSelection(Co.near(a.doc.resolve(c))),r(a.scrollIntoView())}return!0}let a=i.pos==o.end()?l.contentMatchAt(0).defaultType:null,c=n.tr.delete(o.pos,i.pos),u=a?[t?{type:e,attrs:t}:null,{type:a}]:void 0;return!!io(c.doc,o.pos,2,u)&&(r&&r(c.split(o.pos,2,u).scrollIntoView()),!0)}}function dg(e){return function(t,n){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,(t=>t.childCount>0&&t.firstChild.type==e));return!!i&&(!n||(r.node(i.depth-1).type==e?function(e,t,n,r){let o=e.tr,i=r.end,s=r.$to.end(r.depth);i<s&&(o.step(new Zr(i-1,s,i,s,new Gt(jt.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new un(o.doc.resolve(r.$from.pos),o.doc.resolve(s),r.depth));const l=no(r);if(null==l)return!1;o.lift(r,l);let a=o.mapping.map(i,-1)-1;so(o.doc,a)&&o.join(a);return t(o.scrollIntoView()),!0}(t,n,e,i):function(e,t,n){let r=e.tr,o=n.parent;for(let f=n.end,h=n.endIndex-1,m=n.startIndex;h>m;h--)f-=o.child(h).nodeSize,r.delete(f-1,f+1);let i=r.doc.resolve(n.start),s=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let l=0==n.startIndex,a=n.endIndex==o.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(l?0:1),u+1,s.content.append(a?jt.empty:jt.from(o))))return!1;let d=i.pos,p=d+s.nodeSize;return r.step(new Zr(d-(l?1:0),p+(a?1:0),d+1,p-1,new Gt((l?jt.empty:jt.from(o.copy(jt.empty))).append(a?jt.empty:jt.from(o.copy(jt.empty))),l?0:1,a?0:1),l?0:1)),t(r.scrollIntoView()),!0}(t,n,i)))}}function pg(e){return function(t,n){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,(t=>t.childCount>0&&t.firstChild.type==e));if(!i)return!1;let s=i.startIndex;if(0==s)return!1;let l=i.parent,a=l.child(s-1);if(a.type!=e)return!1;if(n){let r=a.lastChild&&a.lastChild.type==l.type,o=jt.from(r?e.create():null),s=new Gt(jt.from(e.create(null,jt.from(l.type.create(null,o)))),r?3:1,0),c=i.start,u=i.end;n(t.tr.step(new Zr(c-(r?3:1),u,c,u,s,1,!0)).scrollIntoView())}return!0}}const fg={}.hasOwnProperty;function hg(e){return String(e||"").toUpperCase()}function mg(){return e=>{const t=function(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return dl(e,"definition",(e=>{const n=hg(e.identifier);n&&!fg.call(t,n)&&(t[n]=e)})),function(e){const n=hg(e);return n&&fg.call(t,n)?t[n]:null}}(e);dl(e,((e,n,r)=>{if("definition"===e.type&&null!==r&&"number"===typeof n)return r.children.splice(n,1),[cl,n];if("imageReference"===e.type||"linkReference"===e.type){const o=t(e.identifier);if(o&&null!==r&&"number"===typeof n){const t="imageReference"===e.type?{type:"image",url:o.url,title:o.title,alt:e.alt}:{type:"link",url:o.url,title:o.title,children:e.children};return r.children[n]=t,[cl,n]}}}))}}var gg;const yg={HardBreak:"HardBreak",Blockquote:"Blockquote",BulletList:"BulletList",OrderedList:"OrderedList",CodeFence:"CodeFence",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",DowngradeHeading:"DowngradeHeading",Text:"Text",CodeInline:"CodeInline",Em:"Em",Bold:"Bold",NextListItem:"NextListItem",SinkListItem:"SinkListItem",LiftListItem:"LiftListItem"},bg="code_inline",vg=qf("ToggleInlineCode"),wg=og((e=>({id:bg,schema:()=>({priority:100,code:!0,inclusive:!1,parseDOM:[{tag:"code"}],toDOM:t=>["code",{class:e.getClassName(t.attrs,"code-inline")}],parseMarkdown:{match:e=>"inlineCode"===e.type,runner:(e,t,n)=>{e.openMark(n),e.addText(t.value),e.closeMark(n)}},toMarkdown:{match:e=>e.type.name===bg,runner:(e,t,n)=>{e.withMark(t,"inlineCode",n.text||"")}}}),commands:e=>[Vf(vg,(()=>(t,n)=>{const{selection:r,tr:o}=t;if(r.empty)return!1;const{from:i,to:s}=r;return t.doc.rangeHasMark(i,s,e)?(null==n||n(o.removeMark(i,s,e)),!0):(Object.keys(t.schema.marks).filter((t=>t!==e.name)).map((e=>t.schema.marks[e])).forEach((e=>{o.removeMark(i,s,e)})),null==n||n(o.addMark(i,s,e.create())),!0)}))],shortcuts:{[yg.CodeInline]:Im(vg,"Mod-e")}}))),kg="em",xg=qf("ToggleItalic"),Sg=og((e=>({id:kg,schema:()=>({inclusive:!1,parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:e=>"italic"===e}],toDOM:t=>["em",{class:e.getClassName(t.attrs,kg)}],parseMarkdown:{match:e=>"emphasis"===e.type,runner:(e,t,n)=>{e.openMark(n),e.next(t.children),e.closeMark(n)}},toMarkdown:{match:e=>e.type.name===kg,runner:(e,t)=>{e.withMark(t,"emphasis")}}}),commands:e=>[Vf(xg,(()=>Ep(e)))],shortcuts:{[yg.Em]:Im(xg,"Mod-i")}}))),Eg=new Go("MILKDOWN_LINK_INPUT"),Cg=qf("ToggleLink"),Tg=qf("ModifyLink"),Mg="link",Ng=og(((e,t)=>({id:Mg,schema:()=>({attrs:{href:{},title:{default:null}},parseDOM:[{tag:"a[href]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw y(e);return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:t=>["a",{...t.attrs,class:e.getClassName(t.attrs,Mg)}],parseMarkdown:{match:e=>"link"===e.type,runner:(e,t,n)=>{const r=t.url,o=t.title;e.openMark(n,{href:r,title:o}),e.next(t.children),e.closeMark(n)}},toMarkdown:{match:e=>e.type.name===Mg,runner:(e,t)=>{e.withMark(t,"link",void 0,{title:t.attrs.title,url:t.attrs.href})}}}),commands:e=>[Vf(Cg,(function(){return Ep(e,{href:arguments.length>0&&void 0!==arguments[0]?arguments[0]:""})})),Vf(Tg,(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(n,r)=>{var o;if(!r)return!1;const{marks:i}=n.schema;let s,l=-1;const{selection:a}=n,{from:c,to:u}=a;if(n.doc.nodesBetween(c,c===u?u+1:u,((e,t)=>{var n;if(null!=(n=i.link)&&n.isInSet(e.marks))return s=e,l=t,!1})),!s)return!1;const d=s.marks.find((t=>{let{type:n}=t;return n===e}));if(!d)return!1;const p=l,f=l+s.nodeSize,{tr:h}=n,m=null==(o=i.link)?void 0:o.create({...d.attrs,href:t});return!!m&&(r(h.removeMark(p,f,d).addMark(p,f,m).setSelection(new Ao(h.selection.$anchor)).scrollIntoView()),!0)}}))],prosePlugins:(n,r)=>{let o=!1;return[new Wo({key:Eg,view:i=>{var s,l,a;const c=e.themeManager.get("input-chip",{placeholder:null!=(l=null==(s=null==t?void 0:t.input)?void 0:s.placeholder)?l:"Input Web Link",buttonText:null==(a=null==t?void 0:t.input)?void 0:a.buttonText,onUpdate:e=>{r.get(Gf).call(Tg,e)},calculatePosition:(e,t)=>{np(e,t,((t,n,r,i)=>{const s=e.dom.parentElement;if(!s)throw w();const l=n.left-t.left;let a=t.left-i.left-(r.width-l)/2,c=t.bottom-i.top+14+s.scrollTop;o&&(c=t.top-i.top-r.height-14+s.scrollTop),a<0&&(a=0);const u=s.clientWidth-(r.width+4);return a>u&&(a=u),[c,a]}))}});if(!c)return{};const u=e=>{e.editable&&((e=>{var r;const{selection:i,doc:s}=e.state,{from:l,to:a}=i;if(!e.hasFocus())return!1;if(i instanceof Ao&&a<s.content.size&&l<s.content.size&&s.rangeHasMark(l,l===a?a+1:a,n)){let e=i.empty;if((null==(r=null==t?void 0:t.input)?void 0:r.displayWhenSelected)&&!e&&s.nodesBetween(l,l===a?a+1:a,((t,r)=>{if(t.marks.some((e=>e.type===n&&l>=r&&a<=r+t.nodeSize)))return e=!0,!1})),e)return o=!1,!0}if(i instanceof Io){const{node:e}=i;if("image"===e.type.name&&e.marks.findIndex((e=>e.type.name===Mg))>-1)return o=!0,!0}return!1})(e)?(c.show(e),c.update((e=>{const{selection:t}=e.state;let r;const{from:o,to:i}=t;if(e.state.doc.nodesBetween(o,o===i?i+1:i,(e=>{if(n.isInSet(e.marks))return r=e,!1})),!r)return;const s=r.marks.find((e=>e.type===n));return s?s.attrs.href:void 0})(e))):c.hide())};return c.init(i),u(i),{update:(e,t)=>{(null==t?void 0:t.doc.eq(e.state.doc))&&t.selection.eq(e.state.selection)||requestAnimationFrame((()=>{u(e)}))},destroy:()=>{c.destroy()}}}})]}}))),Ag="strong",Og=qf("ToggleBold"),Ig=og((e=>({id:Ag,schema:()=>({inclusive:!1,parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-style",getAttrs:e=>"bold"===e}],toDOM:t=>["strong",{class:e.getClassName(t.attrs,Ag)}],parseMarkdown:{match:e=>"strong"===e.type,runner:(e,t,n)=>{e.openMark(n),e.next(t.children),e.closeMark(n)}},toMarkdown:{match:e=>e.type.name===Ag,runner:(e,t)=>{e.withMark(t,"strong")}}}),commands:e=>[Vf(Og,(()=>Ep(e)))],shortcuts:{[yg.Bold]:Im(Og,"Mod-b")}}))),Rg=[wg(),Sg(),Ig(),Ng()],Dg="blockquote",Lg=qf("WrapInBlockquote"),_g=ig((e=>({id:Dg,schema:()=>({content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:t=>["blockquote",{class:e.getClassName(t.attrs,Dg)},0],parseMarkdown:{match:e=>{let{type:t}=e;return t===Dg},runner:(e,t,n)=>{e.openNode(n).next(t.children).closeNode()}},toMarkdown:{match:e=>e.type.name===Dg,runner:(e,t)=>{e.openNode("blockquote").next(t.content).closeNode()}}}),inputRules:e=>[ag(/^\s*>\s$/,e)],commands:e=>[Vf(Lg,(()=>xp(e)))],shortcuts:{[yg.Blockquote]:Im(Lg,"Mod-Shift-b")}}))),Pg=qf("WrapInBulletList"),Fg=ig((e=>{const t="bullet_list";return{id:t,schema:()=>({content:"listItem+",group:"block",attrs:{spread:{default:!1}},parseDOM:[{tag:"ul",getAttrs:e=>{if(!(e instanceof HTMLElement))throw y(e);return{spread:e.dataset.spread}}}],toDOM:t=>["ul",{"data-spread":t.attrs.spread,class:e.getClassName(t.attrs,"bullet-list")},0],parseMarkdown:{match:e=>{let{type:t,ordered:n}=e;return"list"===t&&!n},runner:(e,t,n)=>{const r=null!=t.spread?"".concat(t.spread):"false";e.openNode(n,{spread:r}).next(t.children).closeNode()}},toMarkdown:{match:e=>e.type.name===t,runner:(e,t)=>{e.openNode("list",void 0,{ordered:!1,spread:"true"===t.attrs.spread}).next(t.content).closeNode()}}}),inputRules:e=>[ag(/^\s*([-+*])\s$/,e)],commands:e=>[Vf(Pg,(()=>xp(e)))],shortcuts:{[yg.BulletList]:Im(Pg,"Mod-Alt-8")}}})),zg=["","javascript","typescript","bash","sql","json","html","css","c","cpp","java","ruby","python","go","rust","markdown"],$g=/^```(?<language>[a-z]*)?[\s\n]$/,Bg=/^~~~(?<language>[a-z]*)?[\s\n]$/,jg=qf("TurnIntoCodeFence"),Hg="fence",Ug=ig(((e,t)=>{const n=(null==t?void 0:t.languageList)||zg;return{id:Hg,schema:t=>({content:"text*",group:"block",marks:"",defining:!0,code:!0,attrs:{language:{default:""},fold:{default:!0}},parseDOM:[{tag:"div.code-fence-container",preserveWhitespace:"full",getAttrs:e=>{var t;if(!(e instanceof HTMLElement))throw y(e);return{language:null==(t=e.querySelector("pre"))?void 0:t.dataset.language}},getContent:(e,t)=>{var n,r;if(!(e instanceof HTMLElement))throw y(e);const o=null!=(r=null==(n=e.querySelector("pre"))?void 0:n.textContent)?r:"";if(!o)return jt.empty;const i=t.text(o);return jt.from(i)}},{tag:"pre",preserveWhitespace:"full",getAttrs:e=>{if(!(e instanceof HTMLElement))throw y(e);return{language:e.dataset.language}}}],toDOM:r=>{const o=document.createElement("select");return n.forEach((e=>{const t=document.createElement("option");t.value=e,t.innerText=e||"--",e===r.attrs.language&&(t.selected=!0),o.appendChild(t)})),o.onchange=e=>{const n=e.target;if(!(n instanceof HTMLSelectElement))return;const o=t.get(Lf);if(!o.editable)return void(n.value=r.attrs.language);const{top:i,left:s}=n.getBoundingClientRect(),l=o.posAtCoords({top:i,left:s});if(!l)return;const{tr:a}=o.state;o.dispatch(a.setNodeMarkup(l.inside,void 0,{...r.attrs,language:n.value}))},["div",{class:"code-fence-container"},o,["pre",{"data-language":r.attrs.language,class:e.getClassName(r.attrs,"code-fence")},["code",{spellCheck:"false"},0]]]},parseMarkdown:{match:e=>{let{type:t}=e;return"code"===t},runner:(e,t,n)=>{const r=t.lang,o=t.value;e.openNode(n,{language:r}),o&&e.addText(o),e.closeNode()}},toMarkdown:{match:e=>e.type.name===Hg,runner:(e,t)=>{var n;e.addNode("code",void 0,(null==(n=t.content.firstChild)?void 0:n.text)||"",{lang:t.attrs.language})}}}),inputRules:e=>[cg($g,e,(e=>{const[t,n]=e;if(t)return{language:n}})),cg(Bg,e,(e=>{const[t,n]=e;if(t)return{language:n}}))],commands:e=>[Vf(jg,(()=>Sp(e)))],shortcuts:{[yg.CodeFence]:Im(jg,"Mod-Alt-c")},view:()=>(t,r,o)=>{let i=t;const s=e.themeManager.get("code-fence",{view:r,onBlur:()=>{const{tr:e}=r.state;r.dispatch(e.setNodeMarkup(o(),void 0,{...i.attrs,fold:!0}))},onFocus:()=>{const{tr:e}=r.state;r.dispatch(e.setNodeMarkup(o(),void 0,{...i.attrs,fold:!1}))},onSelectLanguage:e=>{const{tr:t}=r.state;r.dispatch(t.setNodeMarkup(o(),void 0,{fold:!0,language:e}))},editable:()=>r.editable,languageList:n});if(!s)return{};const{dom:l,contentDOM:a,onUpdate:c,onDestroy:u}=s;return c(i),{dom:l,contentDOM:a,update:e=>e.type.name===Hg&&(i=e,c(i),!0),destroy:u}}}})),Wg=ig((()=>({id:"doc",schema:()=>({content:"block+",parseMarkdown:{match:e=>{let{type:t}=e;return"root"===t},runner:(e,t,n)=>{e.injectRoot(t,n)}},toMarkdown:{match:e=>"doc"===e.type.name,runner:(e,t)=>{e.openNode("root"),e.next(t.content)}}})}))),Vg=qf("InsertHardbreak"),qg=new Go("MILKDOWN_HARDBREAK_FILTER"),Gg=ig(((e,t)=>{var n;const r=null!=(n=null==t?void 0:t.notIn)?n:["table","fence"];return{id:"hardbreak",schema:()=>({inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:t=>["br",{class:e.getClassName(t.attrs,"hardbreak")}],parseMarkdown:{match:e=>{let{type:t}=e;return"break"===t},runner:(e,t,n)=>{e.addNode(n)}},toMarkdown:{match:e=>"hardbreak"===e.type.name,runner:e=>{e.addNode("break")}}}),commands:e=>[Vf(Vg,(()=>(t,n)=>{var r;const{selection:o,tr:i}=t;if(o.empty){const e=o.$from.node();if(e.childCount>0&&"hardbreak"===(null==(r=e.lastChild)?void 0:r.type.name))return null==n||n(i.replaceRangeWith(o.to-1,o.to,t.schema.node("paragraph")).setSelection(Co.near(i.doc.resolve(o.to))).scrollIntoView()),!0}return null==n||n(i.setMeta("hardbreak",!0).replaceSelectionWith(e.create()).scrollIntoView()),!0}))],shortcuts:{[yg.HardBreak]:Im(Vg,"Shift-Enter")},prosePlugins:e=>[new Wo({key:qg,filterTransaction:(e,t)=>{const n=e.getMeta("hardbreak"),[o]=e.steps;if(n&&o){const{from:e}=o,n=t.doc.resolve(e);let i=n.depth,s=!0;for(;i>0;)r.includes(n.node(i).type.name)&&(s=!1),i--;return s}return!0}}),new Wo({key:new Go("MILKDOWN_HARDBREAK_MARKS"),appendTransaction:(t,n,r)=>{if(!t.length)return;const[o]=t;if(!o)return;const[i]=o.steps;if(o.getMeta("hardbreak")){if(!(i instanceof Qr))return;const{from:t}=i;return r.tr.setNodeMarkup(t,e,void 0,[])}if(i instanceof Kr){let t=r.tr;const{from:n,to:o}=i;return r.doc.nodesBetween(n,o,((n,r)=>{n.type===e&&(t=t.setNodeMarkup(r,e,void 0,[]))})),t}}})]}})),Kg=Array(6).fill(0).map(((e,t)=>t+1)),Yg=qf("TurnIntoHeading"),Jg=qf("DowngradeHeading"),Xg=new Go("MILKDOWN_HEADING_ID"),Qg=new Go("MILKDOWN_HEADING_HASH"),Zg=e=>e.textContent.replace(/[\p{P}\p{S}]/gu,"").replace(/\s/g,"-").toLowerCase().trim(),ey=(e,t,n)=>{let r=!1;const o=(e,o)=>{const i=e.tr.setMeta("addToHistory",!1);let s=!1;e.doc.descendants(((e,o)=>{if(e.type===t&&!r){if(0===e.textContent.trim().length)return;const t=e.attrs,r=n(e);t.id!==r&&(s=!0,i.setMeta(Xg,!0).setNodeMarkup(o,void 0,{...t,id:r}))}})),s&&o(i)};return new Wo({key:Xg,props:{handleDOMEvents:{compositionstart:()=>(r=!0,!1),compositionend:()=>{r=!1;const t=e.get(Lf);return setTimeout((()=>{o(t.state,(e=>t.dispatch(e)))}),0),!1}}},appendTransaction:(e,t,n)=>{let r=null;return e.every((e=>!e.getMeta(Xg)))&&e.some((e=>e.docChanged))&&o(n,(e=>{r=e})),r},view:e=>{const t=e.state.doc;let r=e.state.tr.setMeta("addToHistory",!1);return t.descendants(((e,t)=>{"heading"===e.type.name&&e.attrs.level&&(e.attrs.id||(r=r.setNodeMarkup(t,void 0,{...e.attrs,id:n(e)})))})),e.dispatch(r),{}}})},ty=(e,t,n)=>new Wo({key:Qg,state:{init:()=>rd.empty,apply:r=>{var o;const i=e.get(Lf);if(null==(o=i.hasFocus)||!o.call(i)||!i.editable)return rd.empty;const{$from:s}=r.selection,l=s.node();if(l.type!==t)return rd.empty;const a=l.attrs.level,c=document.createElement("span");c.textContent=(e=>Array(e).fill(0).map((e=>"#")).join(""))(a),c.contentEditable="false",n.themeManager.onFlush((()=>{const e=n.getStyle((e=>{let{css:t}=e;const r=Pt(n.themeManager);return t(gg||(gg=ph(["\n                            margin-right: 4px;\n                            color: ",";\n                        "])),r("primary"))}));e&&(c.className=e)}));const u=ed.widget(s.before()+1,c,{side:-1});return rd.create(r.doc,[u])}},props:{handleDOMEvents:{focus:e=>{const t=rp(e.state.tr);return e.dispatch(t),!1}},decorations(e){return this.getState(e)}}}),ny=ig(((e,t)=>{var n,r;const o="heading",i=null!=(n=null==t?void 0:t.getId)?n:Zg,s=null==(r=null==t?void 0:t.displayHashtag)||r;return{id:o,schema:()=>({content:"inline*",group:"block",defining:!0,attrs:{id:{default:""},level:{default:1}},parseDOM:Kg.map((e=>({tag:"h".concat(e),getAttrs:t=>{if(!(t instanceof HTMLElement))throw y(t);return{level:e,id:t.id}}}))),toDOM:t=>["h".concat(t.attrs.level),{id:t.attrs.id||i(t),class:e.getClassName(t.attrs,"heading h".concat(t.attrs.level))},0],parseMarkdown:{match:e=>{let{type:t}=e;return t===o},runner:(e,t,n)=>{const r=t.depth;e.openNode(n,{level:r}),e.next(t.children),e.closeNode()}},toMarkdown:{match:e=>e.type.name===o,runner:(e,t)=>{var n;if(e.openNode("heading",void 0,{depth:t.attrs.level}),t.childCount>=1&&"hardbreak"===(null==(n=t.lastChild)?void 0:n.type.name)){const n=[];t.content.forEach(((e,r,o)=>{o!==t.childCount-1&&n.push(e)})),e.next(jt.fromArray(n))}else e.next(t.content);e.closeNode()}}}),inputRules:(e,t)=>Kg.map((n=>cg(new RegExp("^(#{1,".concat(n,"})\\s$")),e,(()=>{const e=t.get(Lf),{$from:r}=e.state.selection,o=r.node();if("heading"===o.type.name){let e=Number(o.attrs.level)+Number(n);return e>6&&(e=6),{level:e}}return{level:n}})))),commands:(e,t)=>[Vf(Yg,(function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return n<1?Sp(0===n&&t.get(ff).nodes.paragraph||e):Sp(0===n&&t.get(ff).nodes.paragraph||e,{level:n})})),Vf(Jg,(()=>(n,r,o)=>{const{$from:i}=n.selection,s=i.node();if(s.type!==e||!n.selection.empty||0!==i.parentOffset)return!1;const l=s.attrs.level-1;return l?(null==r||r(n.tr.setNodeMarkup(n.selection.$from.before(),void 0,{...s.attrs,level:l})),!0):Sp(t.get(ff).nodes.paragraph||e)(n,r,o)}))],shortcuts:{[yg.H1]:Im(Yg,"Mod-Alt-1",1),[yg.H2]:Im(Yg,"Mod-Alt-2",2),[yg.H3]:Im(Yg,"Mod-Alt-3",3),[yg.H4]:Im(Yg,"Mod-Alt-4",4),[yg.H5]:Im(Yg,"Mod-Alt-5",5),[yg.H6]:Im(Yg,"Mod-Alt-6",6),[yg.DowngradeHeading]:Im(Jg,["Backspace","Delete"])},prosePlugins:(t,n)=>{const r=[ey(n,t,i)];return s&&r.push(ty(n,t,e)),r}}})),ry="hr",oy=qf("InsertHr"),iy=ig((e=>({id:ry,schema:()=>({group:"block",parseDOM:[{tag:"hr"}],toDOM:t=>["hr",{class:e.getClassName(t.attrs,ry)}],parseMarkdown:{match:e=>{let{type:t}=e;return"thematicBreak"===t},runner:(e,t,n)=>{e.addNode(n)}},toMarkdown:{match:e=>e.type.name===ry,runner:e=>{e.addNode("thematicBreak")}}}),inputRules:e=>[new lg(/^(?:---|___\s|\*\*\*\s)$/,((t,n,r,o)=>{const{tr:i}=t;return n[0]&&i.replaceWith(r-1,o,e.create()),i}))],commands:(e,t)=>[Vf(oy,(()=>(n,r)=>{if(!r)return!0;const o=t.get(ff).node("paragraph"),{tr:i,selection:s}=n,{from:l}=s,a=e.create();if(!a)return!0;const c=i.replaceSelectionWith(a).insert(l,o),u=Co.findFrom(c.doc.resolve(l),1,!0);return u&&r(c.setSelection(u).scrollIntoView()),!0}))]}))),sy=qf("ModifyImage"),ly=qf("InsertImage"),ay="image",cy=new Go("MILKDOWN_IMAGE_INPUT"),uy=ig(((e,t)=>({id:"image",schema:()=>({inline:!0,group:"inline",selectable:!0,draggable:!0,marks:"",atom:!0,defining:!0,isolating:!0,attrs:{src:{default:""},alt:{default:""},title:{default:""}},parseDOM:[{tag:"img[src]",getAttrs:e=>{if(!(e instanceof HTMLElement))throw y(e);return{src:e.getAttribute("src")||"",alt:e.getAttribute("alt")||"",title:e.getAttribute("title")||e.getAttribute("alt")||""}}}],toDOM:t=>["img",{...t.attrs,class:e.getClassName(t.attrs,ay)}],parseMarkdown:{match:e=>{let{type:t}=e;return t===ay},runner:(e,t,n)=>{const r=t.url,o=t.alt,i=t.title;e.addNode(n,{src:r,alt:o,title:i})}},toMarkdown:{match:e=>e.type.name===ay,runner:(e,t)=>{e.addNode("image",void 0,void 0,{title:t.attrs.title,url:t.attrs.src,alt:t.attrs.alt})}}}),commands:e=>[Vf(ly,(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(n,r)=>{if(!r)return!0;const{tr:o}=n,i=e.create({src:t});if(!i)return!0;return r(o.replaceSelectionWith(i).scrollIntoView()),!0}})),Vf(sy,(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(n,r)=>{const o=lp(n.selection,e);if(!o)return!1;const{tr:i}=n;return null==r||r(i.setNodeMarkup(o.pos,void 0,{...o.node.attrs,loading:!0,src:t}).scrollIntoView()),!0}}))],inputRules:e=>[new lg(/!\[(?<alt>.*?)]\((?<filename>.*?)\s*(?="|\))"?(?<title>[^"]+)?"?\)/,((t,n,r,o)=>{const[i,s,l="",a]=n,{tr:c}=t;return i&&c.replaceWith(r,o,e.create({src:l,alt:s,title:a})),c}))],view:()=>n=>{var r,o;let i=n;const s=null!=(r=null==t?void 0:t.placeholder)?r:"Add an Image",l=null!=(o=null==t?void 0:t.isBlock)&&o,a=e.themeManager.get("image",{placeholder:s,isBlock:l});if(!a)return{};const{dom:c,onUpdate:u}=a;return u(i),{dom:c,update:e=>e.type.name===ay&&(i=e,u(i),!0),selectNode:()=>{c.classList.add("ProseMirror-selectednode")},deselectNode:()=>{c.classList.remove("ProseMirror-selectednode")}}},prosePlugins:(n,r)=>[new Wo({key:cy,view:o=>{var i,s,l;const a=e.themeManager.get("input-chip",{placeholder:null!=(s=null==(i=null==t?void 0:t.input)?void 0:i.placeholder)?s:"Input Image Link",buttonText:null==(l=null==t?void 0:t.input)?void 0:l.buttonText,onUpdate:e=>{r.get(Gf).call(sy,e)}});if(!a)return{};const c=e=>{e.editable&&((e=>Boolean(e.hasFocus()&&n&&lp(e.state.selection,n)))(e)?(a.show(e),a.update((e=>{const t=lp(e.state.selection,n);return t?t.node.attrs.src:void 0})(e))):a.hide())};return a.init(o),c(o),{update:(e,t)=>{(null==t?void 0:t.doc.eq(e.state.doc))&&t.selection.eq(e.state.selection)||c(e)},destroy:()=>{a.destroy()}}}})]}))),dy="list_item",py=qf("SplitListItem"),fy=qf("SinkListItem"),hy=qf("LiftListItem"),my=new Go("MILKDOWN_KEEP_LIST_ORDER"),gy=e=>new Wo({key:my,appendTransaction:(t,n,r)=>{let o=null;return t.some((e=>e.docChanged))&&((t,n)=>{const r=ip("ordered_list",t.schema);let o=t.tr;t.doc.descendants(((t,n,i,s)=>{if(t.type===e&&(null==i?void 0:i.type)===r){let r=!1;const l={...t.attrs};"ordered"!==t.attrs.listType&&(l.listType="ordered",r=!0);const a=null==i?void 0:i.maybeChild(0);a&&a.type===e&&"ordered"===a.attrs.listType&&(l.label="".concat(s+1,"."),r=!0),"\u2022"===t.attrs.label&&(l.label="".concat(s+1,"."),r=!0),r&&(o=o.setNodeMarkup(n,void 0,l))}})),n(o)})(r,(e=>{o=e})),o}}),yy=ig((e=>({id:dy,schema:()=>({group:"listItem",content:"paragraph block*",attrs:{label:{default:"\u2022"},listType:{default:"bullet"},spread:{default:"true"}},defining:!0,parseDOM:[{tag:"li.list-item",getAttrs:e=>{if(!(e instanceof HTMLElement))throw y(e);return{label:e.dataset.label,listType:e.dataset["list-type"],spread:e.dataset.spread}},contentElement:e=>{if(!(e instanceof HTMLElement))throw y(e);return e.querySelector(".list-item_body")||e}},{tag:"li"}],toDOM:t=>["li",{class:e.getClassName(t.attrs,"list-item"),"data-label":t.attrs.label,"data-list-type":t.attrs.listType,"data-spread":t.attrs.spread},["div",{class:e.getClassName(t.attrs,"list-item_label")},t.attrs.label],["div",{class:e.getClassName(t.attrs,"list-item_body")},0]],parseMarkdown:{match:e=>{let{type:t,checked:n}=e;return"listItem"===t&&null===n},runner:(e,t,n)=>{const r=null!=t.label?"".concat(t.label,"."):"\u2022",o=null!=t.label?"ordered":"bullet",i=null!=t.spread?"".concat(t.spread):"true";e.openNode(n,{label:r,listType:o,spread:i}),e.next(t.children),e.closeNode()}},toMarkdown:{match:e=>e.type.name===dy,runner:(e,t)=>{e.openNode("listItem",void 0,{spread:"true"===t.attrs.spread}),e.next(t.content),e.closeNode()}}}),inputRules:e=>[ag(/^\s*([-+*])\s$/,e)],commands:e=>[Vf(py,(()=>ug(e))),Vf(fy,(()=>pg(e))),Vf(hy,(()=>dg(e)))],shortcuts:{[yg.NextListItem]:Im(py,"Enter"),[yg.SinkListItem]:Im(fy,"Mod-]"),[yg.LiftListItem]:Im(hy,"Mod-[")},prosePlugins:e=>[gy(e)]}))),by=qf("WrapInOrderedList"),vy="ordered_list",wy=ig((e=>({id:vy,schema:()=>({content:"listItem+",group:"block",attrs:{order:{default:1},spread:{default:!1}},parseDOM:[{tag:"ol",getAttrs:e=>{if(!(e instanceof HTMLElement))throw y(e);return{spread:e.dataset.spread,order:e.hasAttribute("start")?Number(e.getAttribute("start")):1}}}],toDOM:t=>["ol",{...1===t.attrs.order?{}:t.attrs.order,"data-spread":t.attrs.spread,class:e.getClassName(t.attrs,"ordered-list")},0],parseMarkdown:{match:e=>{let{type:t,ordered:n}=e;return"list"===t&&!!n},runner:(e,t,n)=>{const r=null!=t.spread?"".concat(t.spread):"true";e.openNode(n,{spread:r}).next(t.children).closeNode()}},toMarkdown:{match:e=>e.type.name===vy,runner:(e,t)=>{e.openNode("list",void 0,{ordered:!0,start:1,spread:"true"===t.attrs.spread}),e.next(t.content),e.closeNode()}}}),inputRules:e=>[ag(/^(\d+)\.\s$/,e,(e=>({order:Number(e[1])})),((e,t)=>t.childCount+t.attrs.order===Number(e[1])))],commands:e=>[Vf(by,(()=>xp(e)))],shortcuts:{[yg.OrderedList]:Im(by,"Mod-Alt-7")}}))),ky=qf("TurnIntoText"),xy="paragraph",Sy=ig((e=>({id:xy,schema:()=>({content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:t=>["p",{class:e.getClassName(t.attrs,xy)},0],parseMarkdown:{match:e=>"paragraph"===e.type,runner:(e,t,n)=>{e.openNode(n),t.children?e.next(t.children):e.addText(t.value),e.closeNode()}},toMarkdown:{match:e=>"paragraph"===e.type.name,runner:(e,t)=>{var n;if(e.openNode("paragraph"),t.childCount>=1&&"hardbreak"===(null==(n=t.lastChild)?void 0:n.type.name)){const n=[];t.content.forEach(((e,r,o)=>{o!==t.childCount-1&&n.push(e)})),e.next(jt.fromArray(n))}else e.next(t.content);e.closeNode()}}}),commands:e=>[Vf(ky,(()=>Sp(e)))],shortcuts:{[yg.Text]:Im(ky,"Mod-Alt-0")}}))),Ey=ig((()=>({id:"text",schema:()=>({group:"inline",parseMarkdown:{match:e=>{let{type:t}=e;return"text"===t},runner:(e,t)=>{e.addText(t.value)}},toMarkdown:{match:e=>"text"===e.type.name,runner:(e,t)=>{e.addNode("text",void 0,t.text)}}})}))),Cy=[Wg(),Sy(),Gg(),_g(),Ug(),Fg(),wy(),yy(),ny(),iy(),uy(),Ey()],Ty=()=>function(e){dl(e,"list",(e=>{var t;if(e.ordered){const n=null!=(t=e.start)?t:1;e.children.forEach(((e,t)=>{e.label=t+n}))}}))};const My=()=>function(e){!function(e,t){(function e(n,r,o){if((e=>!!e.children)(n)){const t=[];for(let r=0,o=n.children.length;r<o;r++){const o=n.children[r];if(o){const i=e(o,r,n);if(i)for(let e=0,n=i.length;e<n;e++){const n=i[e];n&&t.push(n)}}}n.children=t}return t(n,r,o)})(e,0,null)[0]}(e,(e=>(e=>"html"===e.type)(e)?[]:[e]))},Ny=new Go("MILKDOWN_INLINE_NODES_CURSOR"),Ay=()=>{let e=!1;const t=new Wo({key:Ny,state:{init:()=>!1,apply(e){if(!e.selection.empty)return!1;const t=e.selection.$from,n=t.nodeBefore,r=t.nodeAfter;return!(!(n&&r&&n.isInline&&!n.isText&&r.isInline)||r.isText)}},props:{handleDOMEvents:{compositionend:(n,r)=>!!e&&(e=!1,requestAnimationFrame((()=>{if(t.getState(n.state)){const e=n.state.selection.from;r.preventDefault(),n.dispatch(n.state.tr.insertText(r.data||"",e))}})),!0),compositionstart:n=>(t.getState(n.state)&&(e=!0),!1),beforeinput:(n,r)=>{if(t.getState(n.state)&&r instanceof InputEvent&&r.data&&!e){const e=n.state.selection.from;return r.preventDefault(),n.dispatch(n.state.tr.insertText(r.data||"",e)),!0}return!1}},decorations(e){if(t.getState(e)){const t=e.selection.$from.pos,n=document.createElement("span"),r=ed.widget(t,n,{side:-1}),o=document.createElement("span"),i=ed.widget(t,o);return setTimeout((()=>{n.contentEditable="true",o.contentEditable="true"})),rd.create(e.doc,[r,i])}return rd.empty}}});return t},Oy=/\[(?<span>((www|https:\/\/|http:\/\/)[^\s\]]+))]\((?<url>[^\s\]]+)\)/,Iy=e=>{let t=e,n=t.match(Oy);for(;n&&n.groups;){const{span:e}=n.groups;t=t.replace(Oy,e),n=t.match(Oy)}return t},Ry=(e,t,n)=>{const r=e.split(""),o=r[t];return r[t]&&r[n]&&(r[t]=r[n],r[n]=o),r.join("").toString()},Dy=e=>t=>t.replace((e=>new RegExp("\\\\(?=[^\\w\\s".concat(e,"\\\\]|_)"),"g"))(e),""),Ly={placeholderConfig:{hole:"\u2205",punctuation:"\u2042",char:"\u2234"},globalNodes:["footnote_definition"],shouldSyncNode:e=>{let{prevNode:t,nextNode:n}=e;return t.inlineContent&&n&&t.type===n.type&&!t.eq(n)},movePlaceholder:(e,t)=>{const n=["*","_"];let r=t.indexOf(e);for(;n.includes(t[r-1]||"")&&n.includes(t[r+1]||"");)t=Ry(t,r,r+1),r+=1;return t}},_y=O(Ly,"inlineSyncConfig"),Py=e=>e.split("\n\n")[0]||"",Fy=(e,t)=>{try{const n=((e,t)=>{const{globalNodes:n}=e.get(_y),r=[];return t.doc.descendants((e=>{if(n.includes(e.type.name)||n.includes(e.type))return r.push(e),!1})),r})(e,t),r=(e=>{const{selection:t}=e,{$from:n}=t;return n.node()})(t),o=((e,t,n,r)=>e.get(Sf)(t.schema.topNodeType.create(void 0,[n,...r])))(e,t,r,n),[i,s]=((e,t)=>{const n=e.get(_y),r=n.placeholderConfig.hole,[o="",...i]=t.split("\n\n");let s=_m(Dy(r),(e=>n.movePlaceholder(r,e)),Iy)(o);const l=(e=>t=>{const n=t.indexOf(e.hole),r=t.charAt(n-1),o=t.charAt(n+1),i=/[^\w]|_/;return o?r&&i.test(r)&&i.test(o)?e.punctuation:e.char:e.punctuation})(n.placeholderConfig)(s);return s=s.replace(r,l),s=[s,...i].join("\n\n"),[s,l]})(e,o),l=((e,t)=>{const n=e.get(vf)(t);return n?n.firstChild:null})(e,i);return l&&r.type===l.type?(l.attrs={...r.attrs},l.descendants((e=>{var t;const n=e.marks.find((e=>"link"===e.type.name));n&&(null==(t=e.text)?void 0:t.includes(s))&&n.attrs.href.includes(s)&&(n.attrs.href=n.attrs.href.replace(s,""))})),{text:Py(i),prevNode:r,nextNode:l,placeholder:s}):null}catch{return null}},zy=new Go("MILKDOWN_INLINE_SYNC"),$y=e=>{let t=null;return new Wo({key:zy,state:{init:()=>null,apply:(n,r,o,i)=>{var s;const l=e.get(Lf);if(null==(s=l.hasFocus)||!s.call(l)||!l.editable||!n.docChanged||n.getMeta(zy))return null;const a=Fy(e,i);if(!a)return null;t&&(cancelAnimationFrame(t),t=null);const{prevNode:c,nextNode:u,text:d}=a,{shouldSyncNode:p}=e.get(_y);return p({prevNode:c,nextNode:u,ctx:e,tr:n,text:d})&&(t=requestAnimationFrame((()=>{t=null;const{dispatch:n,state:r}=e.get(Lf);((e,t,n,r,o)=>{const{placeholderConfig:i}=e.get(_y),s=i.hole;let l=n.tr.setMeta(t,!0).insertText(s,n.selection.from);const a=n.apply(l),c=Fy(e,a);if(!c)return;const{$from:u}=a.selection,d=u.before(),p=u.after(),f=((e,t,n)=>{let r=t,o=!1;return e.descendants((e=>{var t;if(o)return!1;if(e.isText){const i=null==(t=e.text)?void 0:t.indexOf(n);if(null!=i&&i>=0)return o=!0,r+=i,!1}r+=e.nodeSize})),r})(c.nextNode,d,c.placeholder);l=l.replaceWith(d,p,c.nextNode).setNodeMarkup(d,void 0,o).delete(f+1,f+2),l=l.setSelection(Ao.near(l.doc.resolve(f+1))),r(l)})(e,zy,r,n,c.attrs)}))),null}}})},By=[sg((()=>({injectSlices:[_y],prosePlugins:(e,t)=>[Ay(),$y(t)],remarkPlugins:()=>[mg,My,Ty]})))()],jy=Am.create([...Cy,...Rg]),Hy=Am.create([...By,...jy]),Uy={ToggleInlineCode:vg,ToggleItalic:xg,ToggleLink:Cg,ToggleBold:Og,ModifyLink:Tg,ModifyImage:sy,WrapInBlockquote:Lg,WrapInBulletList:Pg,WrapInOrderedList:by,TurnIntoCodeFence:jg,TurnIntoHeading:Yg,TurnIntoText:ky,InsertHardbreak:Vg,InsertHr:oy,InsertImage:ly,SplitListItem:py,SinkListItem:fy,LiftListItem:hy},Wy=qf("Undo"),Vy=qf("Redo"),qy=sg((()=>({commands:()=>[Vf(Wy,(()=>Ih)),Vf(Vy,(()=>Rh))],prosePlugins:()=>[Ah(),Bp({"Mod-z":Ih,"Mod-y":Rh,"Shift-Mod-z":Rh})]}))),Gy=Am.create([qy()]),Ky={tokenize:function(e,t,n){let r=0;return function t(i){if((87===i||119===i)&&r<3)return r++,e.consume(i),t;if(46===i&&3===r)return e.consume(i),o;return n(i)};function o(e){return null===e?n(e):t(e)}},partial:!0},Yy={tokenize:function(e,t,n){let r,o,i;return s;function s(t){return 46===t||95===t?e.check(Xy,a,l)(t):null===t||pi(t)||mi(t)||45!==t&&hi(t)?a(t):(i=!0,e.consume(t),s)}function l(t){return 95===t?r=!0:(o=r,r=void 0),e.consume(t),s}function a(e){return o||r||!i?n(e):t(e)}},partial:!0},Jy={tokenize:function(e,t){let n=0,r=0;return o;function o(s){return 40===s?(n++,e.consume(s),o):41===s&&r<n?i(s):33===s||34===s||38===s||39===s||41===s||42===s||44===s||46===s||58===s||59===s||60===s||63===s||93===s||95===s||126===s?e.check(Xy,t,i)(s):null===s||pi(s)||mi(s)?t(s):(e.consume(s),o)}function i(t){return 41===t&&r++,e.consume(t),o}},partial:!0},Xy={tokenize:function(e,t,n){return r;function r(s){return 33===s||34===s||39===s||41===s||42===s||44===s||46===s||58===s||59===s||63===s||95===s||126===s?(e.consume(s),r):38===s?(e.consume(s),i):93===s?(e.consume(s),o):60===s||null===s||pi(s)||mi(s)?t(s):n(s)}function o(e){return null===e||40===e||91===e||pi(e)||mi(e)?t(e):r(e)}function i(e){return oi(e)?s(e):n(e)}function s(t){return 59===t?(e.consume(t),r):oi(t)?(e.consume(t),s):n(t)}},partial:!0},Qy={tokenize:function(e,t,n){return function(t){return e.consume(t),r};function r(e){return ii(e)?n(e):t(e)}},partial:!0},Zy={tokenize:function(e,t,n){const r=this;return function(t){if(87!==t&&119!==t||!ib.call(r,r.previous)||cb(r.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Ky,e.attempt(Yy,e.attempt(Jy,o),n),n)(t)};function o(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:ib},eb={tokenize:function(e,t,n){const r=this;let o="",i=!1;return function(t){if((72===t||104===t)&&sb.call(r,r.previous)&&!cb(r.events))return e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(t),e.consume(t),s;return n(t)};function s(t){if(oi(t)&&o.length<5)return o+=String.fromCodePoint(t),e.consume(t),s;if(58===t){const n=o.toLowerCase();if("http"===n||"https"===n)return e.consume(t),l}return n(t)}function l(t){return 47===t?(e.consume(t),i?a:(i=!0,l)):n(t)}function a(t){return null===t||li(t)||pi(t)||mi(t)||hi(t)?n(t):e.attempt(Yy,e.attempt(Jy,c),n)(t)}function c(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:sb},tb={tokenize:function(e,t,n){const r=this;let o,i;return function(t){if(!ab(t)||!lb.call(r,r.previous)||cb(r.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(t)};function s(t){return ab(t)?(e.consume(t),s):64===t?(e.consume(t),l):n(t)}function l(t){return 46===t?e.check(Qy,c,a)(t):45===t||95===t||ii(t)?(i=!0,e.consume(t),l):c(t)}function a(t){return e.consume(t),o=!0,l}function c(s){return i&&o&&oi(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(s)):n(s)}},previous:lb},nb={},rb={text:nb};let ob=48;for(;ob<123;)nb[ob]=tb,ob++,58===ob?ob=65:91===ob&&(ob=97);function ib(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||pi(e)}function sb(e){return!oi(e)}function lb(e){return!(47===e||ab(e))}function ab(e){return 43===e||45===e||46===e||95===e||ii(e)}function cb(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}nb[43]=tb,nb[45]=tb,nb[46]=tb,nb[95]=tb,nb[72]=[tb,eb],nb[104]=[tb,eb],nb[87]=[tb,Zy],nb[119]=[tb,Zy];const ub={tokenize:function(e,t,n){const r=this;return yi(e,(function(e){const o=r.events[r.events.length-1];return o&&"gfmFootnoteDefinitionIndent"===o[1].type&&4===o[2].sliceSerialize(o[1],!0).length?t(e):n(e)}),"gfmFootnoteDefinitionIndent",5)},partial:!0};function db(e,t,n){const r=this;let o=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;o--;){const e=r.events[o][1];if("labelImage"===e.type){s=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(o){if(!s||!s._balanced)return n(o);const l=Wi(r.sliceSerialize({start:s.end,end:r.now()}));if(94!==l.codePointAt(0)||!i.includes(l.slice(1)))return n(o);return e.enter("gfmFootnoteCallLabelMarker"),e.consume(o),e.exit("gfmFootnoteCallLabelMarker"),t(o)}}function pb(e,t){let n,r=e.length;for(;r--;)if("labelImage"===e[r][1].type&&"enter"===e[r][0]){n=e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const o={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[e[r+1],e[r+2],["enter",o,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",l,t],["exit",l,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",o,t]];return e.splice(r,e.length-r+1,...a),e}function fb(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,s=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),l};function l(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",a)}function a(l){if(s>999||93===l&&!i||null===l||91===l||pi(l))return n(l);if(93===l){e.exit("chunkString");const i=e.exit("gfmFootnoteCallString");return o.includes(Wi(r.sliceSerialize(i)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(l)}return pi(l)||(i=!0),s++,e.consume(l),92===l?c:a}function c(t){return 91===t||92===t||93===t?(e.consume(t),s++,a):a(t)}}function hb(e,t,n){const r=this,o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,s,l=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),a};function a(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(t)}function c(t){if(l>999||93===t&&!s||null===t||91===t||pi(t))return n(t);if(93===t){e.exit("chunkString");const n=e.exit("gfmFootnoteDefinitionLabelString");return i=Wi(r.sliceSerialize(n)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return pi(t)||(s=!0),l++,e.consume(t),92===t?u:c}function u(t){return 91===t||92===t||93===t?(e.consume(t),l++,c):c(t)}function d(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),o.includes(i)||o.push(i),yi(e,p,"gfmFootnoteDefinitionWhitespace")):n(t)}function p(e){return t(e)}}function mb(e,t,n){return e.check(ki,t,e.attempt(ub,t,n))}function gb(e){e.exit("gfmFootnoteDefinition")}function yb(e){let t=(e||{}).singleTilde;const n={tokenize:function(e,n,r){const o=this.previous,i=this.events;let s=0;return function(t){if(126===o&&"characterEscape"!==i[i.length-1][1].type)return r(t);return e.enter("strikethroughSequenceTemporary"),l(t)};function l(i){const a=ms(o);if(126===i)return s>1?r(i):(e.consume(i),s++,l);if(s<2&&!t)return r(i);const c=e.exit("strikethroughSequenceTemporary"),u=ms(i);return c._open=!u||2===u&&Boolean(a),c._close=!a||2===a&&Boolean(u),n(i)}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let r=n;for(;r--;)if("exit"===e[r][0]&&"strikethroughSequenceTemporary"===e[r][1].type&&e[r][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[r][1].end.offset-e[r][1].start.offset){e[n][1].type="strikethroughSequence",e[r][1].type="strikethroughSequence";const o={type:"strikethrough",start:Object.assign({},e[r][1].start),end:Object.assign({},e[n][1].end)},i={type:"strikethroughText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},s=[["enter",o,t],["enter",e[r][1],t],["exit",e[r][1],t],["enter",i,t]],l=t.parser.constructs.insideSpan.null;l&&Qo(s,s.length,0,Di(l,e.slice(r+1,n),t)),Qo(s,s.length,0,[["exit",i,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",o,t]]),Qo(e,r-1,n-r+3,s),n=r+s.length-2;break}}n=-1;for(;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null!==t&&void 0!==t||(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}class bb{constructor(){this.map=[]}add(e,t,n){!function(e,t,n,r){let o=0;if(0===n&&0===r.length)return;for(;o<e.map.length;){if(e.map[o][0]===t)return e.map[o][1]+=n,void e.map[o][2].push(...r);o+=1}e.map.push([t,n,r])}(this,e,t,n)}consume(e){if(this.map.sort(((e,t)=>e[0]-t[0])),0===this.map.length)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1])),n.push(this.map[t][2]),e.length=this.map[t][0];n.push([...e]),e.length=0;let r=n.pop();for(;r;)e.push(...r),r=n.pop();this.map.length=0}}function vb(e,t){let n=!1;const r=[];for(;t<e.length;){const o=e[t];if(n){if("enter"===o[0])"tableContent"===o[1].type&&r.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===o[1].type){if("tableDelimiterMarker"===e[t-1][1].type){const e=r.length-1;r[e]="left"===r[e]?"center":"right"}}else if("tableDelimiterRow"===o[1].type)break}else"enter"===o[0]&&"tableDelimiterRow"===o[1].type&&(n=!0);t+=1}return r}const wb={flow:{null:{tokenize:function(e,t,n){const r=this;let o,i=0,s=0;return function(e){let t=r.events.length-1;for(;t>-1;){const e=r.events[t][1].type;if("lineEnding"!==e&&"linePrefix"!==e)break;t--}const o=t>-1?r.events[t][1].type:null,i="tableHead"===o||"tableRow"===o?w:l;if(i===w&&r.parser.lazy[r.now().line])return n(e);return i(e)};function l(t){return e.enter("tableHead"),e.enter("tableRow"),function(e){if(124===e)return a(e);return o=!0,s+=1,a(e)}(t)}function a(t){return null===t?n(t):di(t)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),d):n(t):fi(t)?yi(e,a,"whitespace")(t):(s+=1,o&&(o=!1,i+=1),124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),o=!0,a):(e.enter("data"),c(t)))}function c(t){return null===t||124===t||pi(t)?(e.exit("data"),a(t)):(e.consume(t),92===t?u:c)}function u(t){return 92===t||124===t?(e.consume(t),c):c(t)}function d(t){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(t):(e.enter("tableDelimiterRow"),o=!1,fi(t)?yi(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):p(t))}function p(t){return 45===t||58===t?h(t):124===t?(o=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),f):v(t)}function f(t){return fi(t)?yi(e,h,"whitespace")(t):h(t)}function h(t){return 58===t?(s+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),m):45===t?(s+=1,m(t)):null===t||di(t)?b(t):v(t)}function m(t){return 45===t?(e.enter("tableDelimiterFiller"),g(t)):v(t)}function g(t){return 45===t?(e.consume(t),g):58===t?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(t))}function y(t){return fi(t)?yi(e,b,"whitespace")(t):b(t)}function b(n){return 124===n?p(n):(null===n||di(n))&&o&&i===s?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(n)):v(n)}function v(e){return n(e)}function w(t){return e.enter("tableRow"),k(t)}function k(n){return 124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),k):null===n||di(n)?(e.exit("tableRow"),t(n)):fi(n)?yi(e,k,"whitespace")(n):(e.enter("data"),x(n))}function x(t){return null===t||124===t||pi(t)?(e.exit("data"),k(t)):(e.consume(t),92===t?S:x)}function S(t){return 92===t||124===t?(e.consume(t),x):x(t)}},resolveAll:function(e,t){let n,r,o,i=-1,s=!0,l=0,a=[0,0,0,0],c=[0,0,0,0],u=!1,d=0;const p=new bb;for(;++i<e.length;){const f=e[i],h=f[1];"enter"===f[0]?"tableHead"===h.type?(u=!1,0!==d&&(xb(p,t,d,n,r),r=void 0,d=0),n={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(i,0,[["enter",n,t]])):"tableRow"===h.type||"tableDelimiterRow"===h.type?(s=!0,o=void 0,a=[0,0,0,0],c=[0,i+1,0,0],u&&(u=!1,r={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(i,0,[["enter",r,t]])),l="tableDelimiterRow"===h.type?2:r?3:1):!l||"data"!==h.type&&"tableDelimiterMarker"!==h.type&&"tableDelimiterFiller"!==h.type?"tableCellDivider"===h.type&&(s?s=!1:(0!==a[1]&&(c[0]=c[1],o=kb(p,t,a,l,void 0,o)),a=c,c=[a[1],i,0,0])):(s=!1,0===c[2]&&(0!==a[1]&&(c[0]=c[1],o=kb(p,t,a,l,void 0,o),a=[0,0,0,0]),c[2]=i)):"tableHead"===h.type?(u=!0,d=i):"tableRow"===h.type||"tableDelimiterRow"===h.type?(d=i,0!==a[1]?(c[0]=c[1],o=kb(p,t,a,l,i,o)):0!==c[1]&&(o=kb(p,t,c,l,i,o)),l=0):!l||"data"!==h.type&&"tableDelimiterMarker"!==h.type&&"tableDelimiterFiller"!==h.type||(c[3]=i)}0!==d&&xb(p,t,d,n,r);p.consume(t.events),i=-1;for(;++i<t.events.length;){const e=t.events[i];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=vb(t.events,i))}return e}}}};function kb(e,t,n,r,o,i){const s=1===r?"tableHeader":2===r?"tableDelimiter":"tableData";0!==n[0]&&(i.end=Object.assign({},Sb(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=Sb(t.events,n[1]);if(i={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),0!==n[2]){const o=Sb(t.events,n[2]),i=Sb(t.events,n[3]),s={type:"tableContent",start:Object.assign({},o),end:Object.assign({},i)};if(e.add(n[2],0,[["enter",s,t]]),2!==r){const r=t.events[n[2]],o=t.events[n[3]];if(r[1].end=Object.assign({},o[1].end),r[1].type="chunkText",r[1].contentType="text",n[3]>n[2]+1){const t=n[2]+1,r=n[3]-n[2]-1;e.add(t,r,[])}}e.add(n[3]+1,0,[["exit",s,t]])}return void 0!==o&&(i.end=Object.assign({},Sb(t.events,o)),e.add(o,0,[["exit",i,t]]),i=void 0),i}function xb(e,t,n,r,o){const i=[],s=Sb(t.events,n);o&&(o.end=Object.assign({},s),i.push(["exit",o,t])),r.end=Object.assign({},s),i.push(["exit",r,t]),e.add(n+1,0,i)}function Sb(e,t){const n=e[t],r="enter"===n[0]?"start":"end";return n[1][r]}const Eb={tokenize:function(e,t,n){const r=this;return function(t){if(null!==r.previous||!r._gfmTasklistFirstContentOfListItem)return n(t);return e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),o};function o(t){return pi(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),i):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),i):n(t)}function i(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(t)}function s(r){return di(r)?t(r):fi(r)?e.check({tokenize:Tb},t,n)(r):n(r)}}},Cb={text:{91:Eb}};function Tb(e,t,n){return yi(e,(function(e){return null===e?n(e):t(e)}),"whitespace")}function Mb(e,t){const n=String(e);if("string"!==typeof t)throw new TypeError("Expected character");let r=0,o=n.indexOf(t);for(;-1!==o;)r++,o=n.indexOf(t,o+t.length);return r}const Nb={}.hasOwnProperty,Ab=function(e,t,n,r){let o,i;"string"===typeof t||t instanceof RegExp?(i=[[t,n]],o=r):(i=t,o=n),o||(o={});const s=ol(o.ignore||[]),l=function(e){const t=[];if("object"!==typeof e)throw new TypeError("Expected array or object as schema");if(Array.isArray(e)){let n=-1;for(;++n<e.length;)t.push([Ob(e[n][0]),Ib(e[n][1])])}else{let n;for(n in e)Nb.call(e,n)&&t.push([Ob(n),Ib(e[n])])}return t}(i);let a=-1;for(;++a<l.length;)ul(e,"text",c);return e;function c(e,t){let n,r=-1;for(;++r<t.length;){const e=t[r];if(s(e,n?n.children.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){const n=t[t.length-1],r=l[a][0],o=l[a][1];let i=0;const s=n.children.indexOf(e);let c=!1,u=[];r.lastIndex=0;let d=r.exec(e.value);for(;d;){const n=d.index,s={index:d.index,input:d.input,stack:[...t,e]};let l=o(...d,s);if("string"===typeof l&&(l=l.length>0?{type:"text",value:l}:void 0),!1!==l&&(i!==n&&u.push({type:"text",value:e.value.slice(i,n)}),Array.isArray(l)?u.push(...l):l&&u.push(l),i=n+d[0].length,c=!0),!r.global)break;d=r.exec(e.value)}c?(i<e.value.length&&u.push({type:"text",value:e.value.slice(i)}),n.children.splice(s,1,...u)):u=[e];return s+u.length}(e,t)}};function Ob(e){return"string"===typeof e?new RegExp(function(e){if("string"!==typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function Ib(e){return"function"===typeof e?e:()=>e}const Rb="phrasing",Db=["autolink","link","image","label"],Lb={transforms:[function(e){Ab(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Fb],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,zb]],{ignore:["link","linkReference"]})}],enter:{literalAutolink:function(e){this.enter({type:"link",title:null,url:"",children:[]},e)},literalAutolinkEmail:Pb,literalAutolinkHttp:Pb,literalAutolinkWww:Pb},exit:{literalAutolink:function(e){this.exit(e)},literalAutolinkEmail:function(e){this.config.exit.autolinkEmail.call(this,e)},literalAutolinkHttp:function(e){this.config.exit.autolinkProtocol.call(this,e)},literalAutolinkWww:function(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.url="http://"+this.sliceSerialize(e)}}},_b={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Rb,notInConstruct:Db},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Rb,notInConstruct:Db},{character:":",before:"[ps]",after:"\\/",inConstruct:Rb,notInConstruct:Db}]};function Pb(e){this.config.enter.autolinkProtocol.call(this,e)}function Fb(e,t,n,r,o){let i="";if(!$b(o))return!1;if(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!function(e){const t=e.split(".");if(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))return!1;return!0}(n))return!1;const s=function(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const o=Mb(e,"(");let i=Mb(e,")");for(;-1!==r&&o>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}(n+r);if(!s[0])return!1;const l={type:"link",title:null,url:i+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[l,{type:"text",value:s[1]}]:l}function zb(e,t,n,r){return!(!$b(r,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function $b(e,t){const n=e.input.charCodeAt(e.index-1);return(0===e.index||mi(n)||hi(n))&&(!t||47!==n)}function Bb(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function jb(){this.buffer()}function Hb(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Wi(this.sliceSerialize(e)).toLowerCase()}function Ub(e){this.exit(e)}function Wb(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Vb(){this.buffer()}function qb(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Wi(this.sliceSerialize(e)).toLowerCase()}function Gb(e){this.exit(e)}function Kb(e,t,n,r){const o=Bl(r);let i=o.move("[^");const s=n.enter("footnoteReference"),l=n.enter("reference");return i+=o.move(Fl(n,Il(e),{...o.current(),before:i,after:"]"})),l(),s(),i+=o.move("]"),i}function Yb(e,t,n,r){const o=Bl(r);let i=o.move("[^");const s=n.enter("footnoteDefinition"),l=n.enter("label");return i+=o.move(Fl(n,Il(e),{...o.current(),before:i,after:"]"})),l(),i+=o.move("]:"+(e.children&&e.children.length>0?" ":"")),o.shift(4),i+=o.move(Pl(Dl(e,n,o.current()),Jb)),s(),i}function Jb(e,t,n){return 0===t?e:(n?"":"    ")+e}Kb.peek=function(){return"["};Zb.peek=function(){return"~"};const Xb={canContainEols:["delete"],enter:{strikethrough:function(e){this.enter({type:"delete",children:[]},e)}},exit:{strikethrough:function(e){this.exit(e)}}},Qb={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"]}],handlers:{delete:Zb}};function Zb(e,t,n,r){const o=Bl(r),i=n.enter("strikethrough");let s=o.move("~~");return s+=Rl(e,n,{...o.current(),before:s,after:"~"}),s+=o.move("~~"),i(),s}function ev(e){return e.length}function tv(e){const t="string"===typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}const nv={enter:{table:function(e){const t=e._align;this.enter({type:"table",align:t.map((e=>"none"===e?null:e)),children:[]},e),this.setData("inTable",!0)},tableData:ov,tableHeader:ov,tableRow:function(e){this.enter({type:"tableRow",children:[]},e)}},exit:{codeText:function(e){let t=this.resume();this.getData("inTable")&&(t=t.replace(/\\([\\|])/g,iv));const n=this.stack[this.stack.length-1];n.value=t,this.exit(e)},table:function(e){this.exit(e),this.setData("inTable")},tableData:rv,tableHeader:rv,tableRow:rv}};function rv(e){this.exit(e)}function ov(e){this.enter({type:"tableCell",children:[]},e)}function iv(e,t){return"|"===t?t:e}function sv(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,o=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:function(e,t,n,r){return l(function(e,t,n){const r=e.children;let o=-1;const i=[],s=t.enter("table");for(;++o<r.length;)i[o]=a(r[o],t,n);return s(),i}(e,n,r),e.align)},tableRow:function(e,t,n,r){const o=a(e,n,r),i=l([o]);return i.slice(0,i.indexOf("\n"))},tableCell:s,inlineCode:function(e,t,n){let r=yl(e,0,n);n.stack.includes("tableCell")&&(r=r.replace(/\|/g,"\\$&"));return r}}};function s(e,t,n,r){const o=n.enter("tableCell"),s=n.enter("phrasing"),l=Rl(e,n,{...r,before:i,after:i});return s(),o(),l}function l(e,t){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(t.align||[]).concat(),r=t.stringLength||ev,o=[],i=[],s=[],l=[];let a=0,c=-1;for(;++c<e.length;){const n=[],o=[];let d=-1;for(e[c].length>a&&(a=e[c].length);++d<e[c].length;){const i=null===(u=e[c][d])||void 0===u?"":String(u);if(!1!==t.alignDelimiters){const e=r(i);o[d]=e,(void 0===l[d]||e>l[d])&&(l[d]=e)}n.push(i)}i[c]=n,s[c]=o}var u;let d=-1;if("object"===typeof n&&"length"in n)for(;++d<a;)o[d]=tv(n[d]);else{const e=tv(n);for(;++d<a;)o[d]=e}d=-1;const p=[],f=[];for(;++d<a;){const e=o[d];let n="",r="";99===e?(n=":",r=":"):108===e?n=":":114===e&&(r=":");let i=!1===t.alignDelimiters?1:Math.max(1,l[d]-n.length-r.length);const s=n+"-".repeat(i)+r;!1!==t.alignDelimiters&&(i=n.length+i+r.length,i>l[d]&&(l[d]=i),f[d]=i),p[d]=s}i.splice(1,0,p),s.splice(1,0,f),c=-1;const h=[];for(;++c<i.length;){const e=i[c],n=s[c];d=-1;const r=[];for(;++d<a;){const i=e[d]||"";let s="",c="";if(!1!==t.alignDelimiters){const e=l[d]-(n[d]||0),t=o[d];114===t?s=" ".repeat(e):99===t?e%2?(s=" ".repeat(e/2+.5),c=" ".repeat(e/2-.5)):(s=" ".repeat(e/2),c=s):c=" ".repeat(e)}!1===t.delimiterStart||d||r.push("|"),!1===t.padding||!1===t.alignDelimiters&&""===i||!1===t.delimiterStart&&!d||r.push(" "),!1!==t.alignDelimiters&&r.push(s),r.push(i),!1!==t.alignDelimiters&&r.push(c),!1!==t.padding&&r.push(" "),!1===t.delimiterEnd&&d===a-1||r.push("|")}h.push(!1===t.delimiterEnd?r.join("").replace(/ +$/,""):r.join(""))}return h.join("\n")}(e,{align:t,alignDelimiters:r,padding:n,stringLength:o})}function a(e,t,n){const r=e.children;let o=-1;const i=[],l=t.enter("tableRow");for(;++o<r.length;)i[o]=s(r[o],0,t,n);return l(),i}}const lv={exit:{taskListCheckValueChecked:cv,taskListCheckValueUnchecked:cv,paragraph:function(e){const t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"===typeof t.checked){const e=this.stack[this.stack.length-1],n=e.children[0];if(n&&"text"===n.type){const r=t.children;let o,i=-1;for(;++i<r.length;){const e=r[i];if("paragraph"===e.type){o=e;break}}o===e&&(n.value=n.value.slice(1),0===n.value.length?e.children.shift():e.position&&n.position&&"number"===typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}}},av={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:function(e,t,n,r){const o=e.children[0],i="boolean"===typeof e.checked&&o&&"paragraph"===o.type,s="["+(e.checked?"x":" ")+"] ",l=Bl(r);i&&l.move(s);let a=El(e,t,n,{...r,...l.current()});i&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,(function(e){return e+s})));return a}}};function cv(e){this.stack[this.stack.length-2].checked="taskListCheckValueChecked"===e.type}function uv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.data();function n(e,n){(t[e]?t[e]:t[e]=[]).push(n)}n("micromarkExtensions",function(e){return ti([rb,{document:{91:{tokenize:hb,continuation:{tokenize:mb},exit:gb}},text:{91:{tokenize:fb},93:{add:"after",tokenize:db,resolveTo:pb}}},yb(e),wb,Cb])}(e)),n("fromMarkdownExtensions",[Lb,{enter:{gfmFootnoteDefinition:Bb,gfmFootnoteDefinitionLabelString:jb,gfmFootnoteCall:Wb,gfmFootnoteCallString:Vb},exit:{gfmFootnoteDefinition:Ub,gfmFootnoteDefinitionLabelString:Hb,gfmFootnoteCall:Gb,gfmFootnoteCallString:qb}},Xb,nv,lv]),n("toMarkdownExtensions",function(e){return{extensions:[_b,{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:Yb,footnoteReference:Kb}},Qb,sv(e),av]}}(e))}var dv,pv,fv=Object.defineProperty,hv=(e,t,n)=>(((e,t,n)=>{t in e?fv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const mv=e=>"footnote-ref-".concat(e),gv=e=>"footnote-def-".concat(e),yv=new Go("MILKDOWN_FOOTNOTE_DEF_INPUT"),bv=qf("ModifyFootnoteDef"),vv=ig((e=>{const t="footnote_definition",n="footnoteDefinition";return{id:t,schema:r=>({group:"block",content:"block+",defining:!0,attrs:{label:{default:""}},parseDOM:[{tag:'div[data-type="'.concat(t,'"]'),getAttrs:e=>{if(!(e instanceof HTMLElement))throw y(e);return{label:e.dataset.label}},contentElement:"dd"}],toDOM:n=>{const o=n.attrs.label,i=e.getClassName(n.attrs,"footnote-definition"),s=document.createElement("dt");s.textContent="[".concat(o,"]:"),s.onclick=()=>{const e=r.get(Lf),t=Io.create(e.state.doc,e.state.selection.from-2);e.dispatch(e.state.tr.setSelection(t))};const l=document.createElement("a");return l.href="#".concat(mv(o)),l.contentEditable="false",l.textContent="\u21a9",l.onmousedown=e=>{e.preventDefault()},["div",{class:i,"data-label":o,"data-type":t,id:gv(o)},["div",{class:"footnote-definition_content"},s,["dd",0]],["div",{class:"footnote-definition_anchor"},l]]},parseMarkdown:{match:e=>{let{type:t}=e;return t===n},runner:(e,t,n)=>{e.openNode(n,{label:t.label}).next(t.children).closeNode()}},toMarkdown:{match:e=>e.type.name===t,runner:(e,t)=>{e.openNode(n,void 0,{label:t.attrs.label,identifier:t.attrs.label}).next(t.content).closeNode()}}}),commands:e=>[Vf(bv,(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(n,r)=>{const o=lp(n.selection,e);if(!o)return!1;const{tr:i}=n,s=i.setNodeMarkup(o.pos,void 0,{...o.node.attrs,label:t});return null==r||r(s.setSelection(Io.create(s.doc,o.pos))),!0}}))],inputRules:e=>[ag(/(?:\[\^)([^:]+)(?::)$/,e,(e=>{var t;return{label:null!=(t=e[1])?t:"footnote"}}),(()=>!1))],prosePlugins:(t,n)=>[new Wo({key:yv,view:r=>{const o=e.themeManager.get("input-chip",{width:"12em",placeholder:"Input Footnote Label",onUpdate:e=>{n.get(Gf).call(bv,e)},isBindMode:!0});if(!o)return{};const i=e=>{e.editable&&((e=>Boolean(t&&lp(e.state.selection,t)))(e)?(o.show(e),o.update((e=>{const n=lp(e.state.selection,t);return n?n.node.attrs.label:void 0})(e))):o.hide())};return o.init(r),i(r),{update:(e,t)=>{(null==t?void 0:t.doc.eq(e.state.doc))&&t.selection.eq(e.state.selection)||i(e)},destroy:()=>{o.destroy()}}}})]}})),wv=qf("ModifyFootnoteRef"),kv=new Go("MILKDOWN_FOOTNOTE_REF_INPUT"),xv=ig((e=>{const t="footnote_reference";return{id:t,schema:e=>({group:"inline",inline:!0,atom:!0,attrs:{label:{default:""}},parseDOM:[{tag:'sup[data-type="'.concat(t,'"]'),getAttrs:e=>{if(!(e instanceof HTMLElement))throw y(e);return{label:e.dataset.label}}}],toDOM:n=>{const r=n.attrs.label,o=document.createElement("a"),i="#".concat(gv(r));return o.href=i,o.textContent="[".concat(r,"]"),o.onclick=t=>{e.get(Lf).editable&&t.preventDefault()},o.ondblclick=()=>{e.get(Lf).editable&&(window.location.href=i)},["sup",{"data-label":r,"data-type":t,id:mv(r)},o]},parseMarkdown:{match:e=>{let{type:t}=e;return"footnoteReference"===t},runner:(e,t,n)=>{e.addNode(n,{label:t.label})}},toMarkdown:{match:e=>e.type.name===t,runner:(e,t)=>{e.addNode("footnoteReference",void 0,void 0,{label:t.attrs.label,identifier:t.attrs.label})}}}),commands:e=>[Vf(wv,(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(n,r)=>{const o=lp(n.selection,e);if(!o)return!1;const{tr:i}=n,s=i.setNodeMarkup(o.pos,void 0,{...o.node.attrs,label:t});return null==r||r(s.setSelection(Io.create(s.doc,o.pos))),!0}}))],inputRules:e=>[new lg(/(?:\[\^)([^\]]+)(?:\])$/,((t,n,r,o)=>{const i=t.doc.resolve(r),s=i.index(),l=t.doc.resolve(o);if(!i.parent.canReplaceWith(s,l.index(),e))return null;const a=n[1];return t.tr.replaceRangeWith(r,o,e.create({label:a}))}))],prosePlugins:(t,n)=>{const r=e.themeManager.get("input-chip",{width:"12em",placeholder:"Input Footnote Label",onUpdate:e=>{n.get(Gf).call(wv,e)},isBindMode:!0});if(!r)return[];const o=e=>{e.editable&&((e=>Boolean(t&&lp(e.state.selection,t)))(e)?(r.show(e),r.update((e=>{const n=lp(e.state.selection,t);return n?n.node.attrs.label:void 0})(e))):r.hide())};return[new Wo({key:kv,view:e=>(r.init(e),o(e),{update:(e,t)=>{(null==t?void 0:t.doc.eq(e.state.doc))&&t.selection.eq(e.state.selection)||o(e)},destroy:()=>{r.destroy()}})})]}}})),Sv=new WeakMap;class Ev{constructor(e,t,n,r){hv(this,"tableStart"),hv(this,"map"),hv(this,"table"),this.left=e,this.top=t,this.right=n,this.bottom=r}}class Cv{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r,this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,o=t/this.width|0;let i=r+1,s=o+1;for(let e=1;i<this.width&&this.map[t+e]==n;e++)i++;for(let e=1;s<this.height&&this.map[t+this.width*e]==n;e++)s++;return new Ev(r,o,i,s)}throw new RangeError("No cell with offset ".concat(e," found"))}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError("No cell with offset ".concat(e," found"))}nextCell(e,t,n){const{left:r,right:o,top:i,bottom:s}=this.findCell(e);return"horiz"==t?(n<0?0==r:o==this.width)?void 0:this.map[i*this.width+(n<0?r-1:o)]:(n<0?0==i:s==this.height)?void 0:this.map[r+this.width*(n<0?i-1:s)]}rectBetween(e,t){const{left:n,right:r,top:o,bottom:i}=this.findCell(e),{left:s,right:l,top:a,bottom:c}=this.findCell(t);return new Ev(Math.min(n,s),Math.min(o,a),Math.max(r,l),Math.max(i,c))}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let o=e.left;o<e.right;o++){const i=r*this.width+o,s=this.map[i];n[s]||(n[s]=!0,(o!=e.left||!o||this.map[i-1]!=s)&&(r!=e.top||!r||this.map[i-this.width]!=s)&&t.push(s))}return t}positionAt(e,t,n){for(let r=0,o=0;;r++){const i=o+n.child(r).nodeSize;if(r==e){let n=t+e*this.width;const r=(e+1)*this.width;for(;n<r&&this.map[n]<o;)n++;return n==r?i-1:this.map[n]}o=i}}static get(e){return(e=>Sv.get(e))(e)||((e,t)=>(Sv.set(e,t),t))(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: ".concat(e.type.name));const t=function(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const o=e.child(r);let i=0;if(n)for(let t=0;t<r;t++){const n=e.child(t);for(let e=0;e<n.childCount;e++){const o=n.child(e);t+o.attrs.rowspan>r&&(i+=o.attrs.colspan)}}for(let e=0;e<o.childCount;e++){const t=o.child(e);i+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1==t?t=i:t!=i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,r=[],o=[];let i,s=0;for(let c=0,u=t*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){const l=e.child(c);u++;for(let e=0;;e++){for(;s<r.length&&0!=r[s];)s++;if(e==l.childCount)break;const a=l.child(e),{colspan:d,rowspan:p,colwidth:f}=a.attrs;for(let e=0;e<p;e++){if(e+c>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:u,n:p-e});break}const l=s+e*t;for(let e=0;e<d;e++){0==r[l+e]?r[l+e]=u:(i||(i=[])).push({type:"collision",row:c,pos:u,n:d-e});const n=f&&f[e];if(n){const r=(l+e)%t*2,i=o[r];null==i||i!=n&&1==o[r+1]?(o[r]=n,o[r+1]=1):i==n&&o[r+1]++}}}s+=d,u+=a.nodeSize}const a=(c+1)*t;let d=0;for(;s<a;)0==r[s++]&&d++;d&&(i||(i=[])).push({type:"missing",row:c,n:d}),u++}const l=new Cv(t,n,r,i);let a=!1;for(let c=0;!a&&c<o.length;c+=2)null!=o[c]&&o[c+1]<n&&(a=!0);return a&&function(e,t,n){e.problems||(e.problems=[]);for(let r=0,o={};r<e.map.length;r++){const i=e.map[r];if(o[i])continue;o[i]=!0;const s=n.nodeAt(i);let l=null;for(let n=0;n<s.attrs.colspan;n++){const o=t[2*((r+n)%e.width)];null!=o&&(!s.attrs.colwidth||s.attrs.colwidth[n]!=o)&&((l||(l=Tv(s.attrs)))[n]=o)}l&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}(l,o,e),l}(e))}}function Tv(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}class Mv extends Co{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const n=e.node(-1),r=Cv.get(n),o=e.start(-1),i=r.rectBetween(e.pos-o,t.pos-o),s=e.node(0),l=r.cellsInRect(i).filter((e=>e!=t.pos-o));l.unshift(t.pos-o);const a=l.map((e=>{const t=n.nodeAt(e),r=e+o+1;return new To(s.resolve(r),s.resolve(r+t.content.size))}));super(a[0].$from,a[0].$to,a),this.$anchorCell=e,this.$headCell=t,this.$anchorCell=e,this.$headCell=t}map(e,t){const n=e.resolve(t.map(this.$anchorCell.pos)),r=e.resolve(t.map(this.$headCell.pos));if(_v(n)&&_v(r)&&Pv(n,r)){const e=this.$anchorCell.node(-1)!=n.node(-1);return e&&this.isRowSelection()?Mv.rowSelection(n,r):e&&this.isColSelection()?Mv.colSelection(n,r):new Mv(n,r)}return Ao.between(n,r)}content(){const e=this.$anchorCell.node(-1),t=Cv.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[];for(let l=r.top;l<r.bottom;l++){const n=[];for(let i=l*t.width+r.left,s=r.left;s<r.right;s++,i++){const s=t.map[i];if(!o[s]){o[s]=!0;const i=t.findCell(s);let l=e.nodeAt(s);const a=r.left-i.left,c=i.right-r.right;if(a>0||c>0){let e=l.attrs;a>0&&(e=$v(e,0,a)),c>0&&(e=$v(e,e.colspan-c,c)),l=i.left<r.left?l.type.createAndFill(e):l.type.create(e,l.content)}if(i.top<r.top||i.bottom>r.bottom){const e=zv(l.attrs,"rowspan",Math.min(i.bottom,r.bottom)-Math.max(i.top,r.top));l=i.top<r.top?l.type.createAndFill(e):l.type.create(e,l.content)}n.push(l)}}i.push(e.child(l).copy(jt.from(n)))}const s=this.isColSelection()&&this.isRowSelection()?e:i;return new Gt(jt.from(s),1,1)}replace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gt.empty;const n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){const{$from:o,$to:s}=r[i],l=e.mapping.slice(n);e.replace(l.map(o.pos),l.map(s.pos),i?Gt.empty:t)}const o=Co.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,t){this.replace(e,new Gt(jt.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),n=Cv.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let i=0;i<o.length;i++)e(t.nodeAt(o[i]),r+o[i])}isColSelection(){const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;const n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount}static colSelection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const n=Cv.get(e.node(-1)),r=e.start(-1),o=n.findCell(e.pos-r),i=n.findCell(t.pos-r),s=e.node(0);if(o.top<=i.top){if(o.top>0){const t=n.map[o.left];e=s.resolve(r+t)}if(i.bottom<n.height){const e=n.map[n.width*(n.height-1)+i.right-1];t=s.resolve(r+e)}}else{if(i.top>0){const e=n.map[o.left];t=s.resolve(r+e)}if(o.bottom<n.height){const t=n.map[n.width*(n.height-1)+o.right-1];e=s.resolve(r+t)}}return new Mv(e,t)}isRowSelection(){const e=Cv.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),r=e.colCount(this.$headCell.pos-t);if(Math.min(n,r)>0)return!1;const o=n+this.$anchorCell.nodeAfter.attrs.colspan,i=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,i)==e.width}eq(e){return e instanceof Mv&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const n=Cv.get(e.node(-1)),r=e.start(-1),o=n.findCell(e.pos-r),i=n.findCell(t.pos-r),s=e.node(0);if(o.left<=i.left){if(o.left>0){const t=n.map[o.top*n.width];e=s.resolve(r+t)}if(i.right<n.width){const e=n.map[n.width*(i.top+1)-1];t=s.resolve(r+e)}}else{if(i.left>0){const e=n.map[i.top*n.width];t=s.resolve(r+e)}if(o.right<n.width){const t=n.map[n.width*(o.top+1)-1];e=s.resolve(r+t)}}return new Mv(e,t)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){return new Mv(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return new Mv(e.resolve(t),e.resolve(n))}getBookmark(){return new Nv(this.$anchorCell.pos,this.$headCell.pos)}}Mv.prototype.visible=!1,Co.jsonID("cell",Mv);class Nv{constructor(e,t){this.anchor=e,this.head=t,this.anchor=e,this.head=t}map(e){return new Nv(e.map(this.anchor),e.map(this.head))}resolve(e){const t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&Pv(t,n)?new Mv(t,n):Co.near(n,1)}}function Av(e){if(!(e.selection instanceof Mv))return null;const t=[];return e.selection.forEachCell(((e,n)=>{t.push(ed.node(n,n+e.nodeSize,{class:"selectedCell"}))})),rd.create(e.doc,t)}function Ov(e,t){const n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((e=>Number(e))):null,o=Number(e.getAttribute("colspan")||1),i={colspan:o,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length==o?r:null};for(const s in t){const n=t[s].getFromDOM,r=n&&n(e);null!=r&&(i[s]=r)}return i}function Iv(e,t){const n={};1!=e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!=e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(","));for(const r in t){const o=t[r].setDOMAttr;o&&o(e.attrs[r],n)}return n}function Rv(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],o=null==r?void 0:r.spec.tableRole;o&&(t[o]=r)}}return t}const Dv=function(e){const t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(const o in t)n[o]={default:t[o].default};const r=n;return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM:()=>["table",["tbody",0]]},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:()=>["tr",0]},table_cell:{content:e.cellContent,attrs:r,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:e=>Ov(e,t)}],toDOM:e=>["td",Iv(e,t),0]},table_header:{content:e.cellContent,attrs:r,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:e=>Ov(e,t)}],toDOM:e=>["th",Iv(e,t),0]}}}({tableGroup:"block",cellContent:"paragraph",cellAttributes:{alignment:{default:"left",getFromDOM:e=>e.style.textAlign||"left",setDOMAttr:(e,t)=>{t.style="text-align: ".concat(e||"left")}}}});function Lv(e){for(let t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1))}function _v(e){return"row"==e.parent.type.spec.tableRole?e.nodeAfter:null}function Pv(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function Fv(e,t,n){const r=e.start(-1),o=Cv.get(e.node(-1)).nextCell(e.pos-r,t,n);return null==o?null:e.node(0).resolve(r+o)}function zv(e,t,n){const r={};for(const o in e)r[o]=e[o];return r[t]=n,r}function $v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=zv(e,"colspan",e.colspan-n);if(r.colwidth){const e=r.colwidth;r.colwidth=e.slice(),e.splice(t,n),e.some((e=>e>0))||(r.colwidth=null)}return r}function Bv(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function jv(e){const t=e.selection;return t instanceof Mv?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&"cell"==t.node.type.spec.tableRole?t.$anchor:Lv(t.$head)||function(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n-t.nodeSize)}}(t.$head)}function Hv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=zv(e,"colspan",e.colspan+n);if(r.colwidth){const e=r.colwidth;r.colwidth=e.slice();for(let r=0;r<n;r++)e.splice(t,0,0)}return r}function Uv(e){const t=e.selection,n=jv(e),r=n.node(-1),o=n.start(-1),i=Cv.get(r);let s;return s=t instanceof Mv?i.rectBetween(t.$anchorCell.pos-o,t.$headCell.pos-o):i.findCell(n.pos-o),s.tableStart=o,s.map=i,s.table=r,s}function Wv(e,t,n){let{map:r,tableStart:o,table:i}=t,s=n>0?-1:0;(function(e,t,n){const r=Rv(t.type.schema).header_cell;for(let o=0;o<e.height;o++){const i=e.map[n+o*e.width];if(t.nodeAt(i).type!=r)return!1}return!0})(r,i,n+s)&&(s=0==n||n==r.width?null:0);for(let l=0;l<r.height;l++){const t=l*r.width+n;if(n>0&&n<r.width&&r.map[t-1]==r.map[t]){const s=r.map[t],a=i.nodeAt(s);e.setNodeMarkup(e.mapping.map(o+s),null,Hv(a.attrs,n-r.colCount(s))),l+=a.attrs.rowspan-1}else{const a=r.map[t+s],c=null==s?Rv(i.type.schema).cell:i.nodeAt(a).type,u=r.positionAt(l,n,i);e.insert(e.mapping.map(o+u),c.createAndFill())}}return e}const Vv=(e,t)=>{if(!Bv(e))return!1;if(t){const n=Uv(e);t(Wv(e.tr,n,n.left))}return!0},qv=(e,t)=>{if(!Bv(e))return!1;if(t){const n=Uv(e);t(Wv(e.tr,n,n.right))}return!0};function Gv(e,t,n){let{map:r,table:o,tableStart:i}=t;const s=e.mapping.maps.length;for(let l=0;l<r.height;){const t=l*r.width+n,a=r.map[t],c=o.nodeAt(a);if(n>0&&r.map[t-1]==a||n<r.width-1&&r.map[t+1]==a)e.setNodeMarkup(e.mapping.slice(s).map(i+a),null,$v(c.attrs,n-r.colCount(a)));else{const t=e.mapping.slice(s).map(i+a);e.delete(t,t+c.nodeSize)}l+=c.attrs.rowspan}}const Kv=(e,t)=>{if(!Bv(e))return!1;if(t){const n=Uv(e),r=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(let e=n.right-1;Gv(r,n,e),e!=n.left;e--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=Cv.get(n.table);t(r)}return!0};function Yv(e,t,n){let{map:r,tableStart:o,table:i}=t,s=0;for(let c=0;c<n;c++)s+=i.child(c).nodeSize;const l=s+i.child(n).nodeSize,a=e.mapping.maps.length;e.delete(s+o,l+o);for(let c=0,u=n*r.width;c<r.width;c++,u++){const t=r.map[u];if(n>0&&t==r.map[u-r.width]){const n=i.nodeAt(t).attrs;e.setNodeMarkup(e.mapping.slice(a).map(t+o),null,zv(n,"rowspan",n.rowspan-1)),c+=n.colspan-1}else if(n<r.width&&t==r.map[u+r.width]){const s=i.nodeAt(t),l=s.type.create(zv(s.attrs,"rowspan",s.attrs.rowspan-1),s.content),u=r.positionAt(n+1,c,i);e.insert(e.mapping.slice(a).map(o+u),l),c+=s.attrs.colspan-1}}}const Jv=(e,t)=>{if(!Bv(e))return!1;if(t){const n=Uv(e),r=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(let e=n.bottom-1;Yv(r,n,e),e!=n.top;e--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=Cv.get(n.table);t(r)}return!0};function Xv(e,t){return(n,r)=>{if(!Bv(n))return!1;const o=jv(n);if(o.nodeAfter.attrs[e]===t)return!1;if(r){const i=n.tr;n.selection instanceof Mv?n.selection.forEachCell(((n,r)=>{n.attrs[e]!==t&&i.setNodeMarkup(r,null,zv(n.attrs,e,t))})):i.setNodeMarkup(o.pos,null,zv(o.nodeAfter.attrs,e,t)),r(i)}return!0}}function Qv(e){return(t,n)=>{if(!Bv(t))return!1;const r=function(e,t){if(t<0){const t=e.nodeBefore;if(t)return e.pos-t.nodeSize;for(let n=e.index(-1)-1,r=e.before();n>=0;n--){const t=e.node(-1).child(n);if(t.childCount)return r-1-t.lastChild.nodeSize;r-=t.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const t=e.node(-1);for(let n=e.indexAfter(-1),r=e.after();n<t.childCount;n++){const e=t.child(n);if(e.childCount)return r+1;r+=e.nodeSize}}}(jv(t),e);if(null==r)return!1;if(n){const e=t.doc.resolve(r);n(t.tr.setSelection(Ao.between(e,function(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}(e))).scrollIntoView())}return!0}}const Zv=(e,t)=>{const n=e.selection.$anchor;for(let r=n.depth;r>0;r--)if("table"==n.node(r).type.spec.tableRole)return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1},ew=e=>sp((e=>"table"===e.type.spec.tableRole))(e),tw=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;const{cell:r,header_cell:o,row:i,table:s}=Rv(e),l=Array(n).fill(0).map((()=>r.createAndFill(null))),a=Array(n).fill(0).map((()=>o.createAndFill(null))),c=Array(t).fill(0).map(((e,t)=>i.create(null,0===t?a:l)));return s.create(null,c)},nw=e=>t=>n=>{const r=ew(n.selection),o="row"===e;if(r){const e=Cv.get(r.node);if(t>=0&&t<(o?e.height:e.width)){const i=e.positionAt(o?t:e.height-1,o?e.width-1:t,r.node),s=n.doc.resolve(r.start+i),l=o?Mv.rowSelection:Mv.colSelection,a=e.positionAt(o?t:0,o?0:t,r.node),c=n.doc.resolve(r.start+a);return rp(n.setSelection(l(s,c)))}}return n},rw=e=>{const t=(e=>{const t=ew(e);if(!t)return;const n=Cv.get(t.node);return n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height}).map((e=>{const n=t.node.nodeAt(e),r=e+t.start;return{pos:r,start:r+1,node:n}}))})(e.selection);if(t&&t[0]){const n=e.doc.resolve(t[0].pos),r=t[t.length-1];if(r){const t=e.doc.resolve(r.pos);return rp(e.setSelection(new Mv(t,n)))}}return e};function ow(e,t,n){let{map:r,tableStart:o,table:i}=t;const s=Array(n).fill(0).reduce(((e,t,n)=>e+i.child(n).nodeSize),o),{cell:l,row:a}=Rv(i.type.schema),c=Array(r.width).fill(0).map(((e,t)=>{const n=i.nodeAt(r.map[t]);return l.createAndFill({alignment:null==n?void 0:n.attrs.alignment})}));return e.insert(s,a.create(null,c)),e}const iw=e=>e.state.selection,sw=e=>{var t,n,r,o,i,s,l,a;return{0:{$:null==(t=e.get(kt).get(Tt,"leftArrow"))?void 0:t.dom,command:()=>Vv,disable:e=>!iw(e).isColSelection()},1:{$:null==(n=e.get(kt).get(Tt,"rightArrow"))?void 0:n.dom,command:()=>qv,disable:e=>!iw(e).isColSelection()},2:{$:null==(r=e.get(kt).get(Tt,"upArrow"))?void 0:r.dom,command:()=>(e,t)=>{if(!Bv(e))return!1;if(t){const n=Uv(e);t(ow(e.tr,n,n.top))}return!0},disable:e=>!iw(e).isRowSelection()||"table_header"===iw(e).$head.parent.type.name},3:{$:null==(o=e.get(kt).get(Tt,"downArrow"))?void 0:o.dom,command:()=>(e,t)=>{if(!Bv(e))return!1;if(t){const n=Uv(e);t(ow(e.tr,n,n.bottom))}return!0},disable:e=>!iw(e).isRowSelection()},4:{$:null==(i=e.get(kt).get(Tt,"alignLeft"))?void 0:i.dom,command:()=>Xv("alignment","left"),disable:e=>!iw(e).isColSelection()},5:{$:null==(s=e.get(kt).get(Tt,"alignCenter"))?void 0:s.dom,command:()=>Xv("alignment","center"),disable:e=>!iw(e).isColSelection()},6:{$:null==(l=e.get(kt).get(Tt,"alignRight"))?void 0:l.dom,command:()=>Xv("alignment","right"),disable:e=>!iw(e).isColSelection()},7:{$:null==(a=e.get(kt).get(Tt,"delete"))?void 0:a.dom,command:(e,t)=>{const n=iw(t),r=n.isColSelection(),o=n.isRowSelection();return r&&o?Zv:r?Kv:Jv},disable:e=>{const t=iw(e);return!!t.isRowSelection()&&(!t.isColSelection()&&(e=>{const t=Cv.get(e.$anchorCell.node(-1)),n=e.$anchorCell.start(-1),r=t.cellsInRect({left:0,right:t.width,top:0,bottom:1}),o=t.cellsInRect(t.rectBetween(e.$anchorCell.pos-n,e.$headCell.pos-n));for(let i=0,s=r.length;i<s;i++)if(!o.includes(r[i]))return!1;return!0})(t))}}}};var lw=(e=>(e.Left="Left",e.Top="Top",e.Point="Point",e))(lw||{});function aw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return ed.widget(t.pos+1,(t=>{var o;const i=document.createElement("div");return i.classList.add((e=>{switch(e){case lw.Left:return"milkdown-cell-left";case lw.Top:return"milkdown-cell-top";case lw.Point:default:return"milkdown-cell-point"}})(n)),n===lw.Point&&i.appendChild(null==(o=e.get(kt).get(Tt,"select"))?void 0:o.dom),i.addEventListener("mousedown",(e=>{if(t)switch(e.preventDefault(),n){case lw.Point:return void t.dispatch(rw(t.state.tr));case lw.Left:return void t.dispatch(nw("row")(r)(t.state.tr));case lw.Top:t.dispatch(nw("col")(r)(t.state.tr))}})),i}))}const cw=(e,t)=>new Wo({key:new Go("MILKDOWN_TABLE_OP"),props:{decorations:t=>{if(!e.get(Lf).editable)return null;const n=[],r=(e=>t=>{const n=ew(t);if(!n)return;const r=Cv.get(n.node);return e<0||e>=r.width?void 0:r.cellsInRect({left:e,right:e+1,top:0,bottom:r.height}).map((e=>{const t=n.node.nodeAt(e);if(!t)return;const r=e+n.start;return{pos:r,start:r+1,node:t}})).filter((e=>null!=e))})(0)(t.selection);if(!r)return null;const o=(e=>t=>{const n=ew(t);if(!n)return;const r=Cv.get(n.node);return e<0||e>=r.height?void 0:r.cellsInRect({left:0,right:r.width,top:e,bottom:e+1}).map((e=>{const t=n.node.nodeAt(e);if(!t)return;const r=e+n.start;return{pos:r,start:r+1,node:t}})).filter((e=>null!=e))})(0)(t.selection);if(!o)return null;const[i]=r;return n.push(aw(e,i,lw.Point)),r.forEach(((t,r)=>{n.push(aw(e,t,lw.Left,r))})),o.forEach(((t,r)=>{n.push(aw(e,t,lw.Top,r))})),rd.create(t.doc,n)}},view:n=>{var r;const o=Object.fromEntries(Object.entries(sw(e)).filter((e=>{let[,t]=e;return null!=t.$}))),i=document.createElement("div");t.themeManager.onFlush((()=>{const e=t.getStyle((e=>((e,t)=>{let{css:n,injectGlobal:r}=t;const o=Pt(e),i=e.get(Lt,"radius"),s=e.get(Lt,"lineWidth");return r(dv||(dv=ph(["\n        .milkdown {\n            .tableWrapper {\n                table {\n                    width: calc(100% - 32px) !important;\n                    margin: 16px 0 16px 16px !important;\n\n                    .milkdown-cell-left,\n                    .milkdown-cell-point,\n                    .milkdown-cell-top {\n                        position: absolute;\n\n                        &::after {\n                            cursor: pointer;\n                            position: absolute;\n                            top: 0;\n                            left: 0;\n                            height: 100%;\n                            width: 100%;\n                            display: block;\n                            transition: all 0.2s ease-in-out;\n                            background: ",";\n                            content: '';\n                        }\n\n                        &:hover::after {\n                            background: ",";\n                        }\n                    }\n\n                    .milkdown-cell-left {\n                        left: -14px;\n                        top: 0;\n                        bottom: 0;\n                        width: 8px;\n                    }\n\n                    .milkdown-cell-top {\n                        left: 0;\n                        right: 0;\n                        top: -14px;\n                        height: 8px;\n                    }\n\n                    .milkdown-cell-point {\n                        left: -18px;\n                        top: -18px;\n                        width: 16px;\n                        height: 16px;\n\n                        .icon {\n                            position: absolute;\n                            top: 0;\n                            bottom: 0;\n                            left: 0;\n                            right: 0;\n                        }\n                    }\n                }\n            }\n        }\n    "])),o("secondary",.12),o("secondary",.38)),n(pv||(pv=ph(["\n        display: inline-flex;\n        cursor: pointer;\n        z-index: 2;\n\n        justify-content: space-evenly;\n\n        position: absolute;\n\n        border-radius: ",";\n\n        ",";\n        ",";\n\n        overflow: hidden;\n        background: ",";\n\n        .icon {\n            position: relative;\n            color: ",";\n\n            width: 48px;\n            line-height: 48px;\n            text-align: center;\n            transition: all 0.4s ease-in-out;\n\n            &:hover {\n                background-color: ",";\n            }\n\n            &.active {\n                color: ",";\n            }\n\n            &:not(:last-child)::after {\n                content: '';\n                position: absolute;\n                right: 0;\n                top: 0;\n                width: ",";\n                bottom: 0;\n                background: ",";\n            }\n        }\n\n        &.hide,\n        .hide {\n            display: none;\n        }\n    "])),i,e.get(xt,void 0),e.get(Dt,void 0),o("surface"),o("solid",.87),o("secondary",.12),o("primary"),s,o("line"))})(t.themeManager,e)));e&&i.classList.add(e)})),i.classList.add("table-tooltip","hide"),Object.values(o).forEach((e=>{let{$:t}=e;return i.appendChild(t)})),null==(r=n.dom.parentNode)||r.appendChild(i);const s=e=>{!n||(e.stopPropagation(),e.preventDefault(),Object.values(o).forEach((t=>{let{$:r,command:o}=t;r.contains(e.target)&&o(e,n)(n.state,n.dispatch,n)})))},l=()=>{i.classList.add("hide")};return i.addEventListener("mousedown",s),{update:(e,t)=>{const n=e.state;(null==t?void 0:t.doc.eq(n.doc))&&t.selection.eq(n.selection)||(n.selection instanceof Mv&&e.editable?(((e,t)=>{Object.values(e).forEach((e=>{var n;(null==(n=e.disable)?void 0:n.call(e,t))?e.$.classList.add("hide"):e.$.classList.remove("hide")}))})(o,e),Object.values(o).every((e=>{let{$:t}=e;return t.classList.contains("hide")}))?l():(i.classList.remove("hide"),((e,t)=>{const{selection:n}=e.state,r=n.isColSelection(),o=n.isRowSelection();tp(e,t,((e,n,i)=>{const s=t.parentElement;if(!s)throw w();let l=o?e.left-i.left-n.width/2-8:e.left-i.left+(e.width-n.width)/2,a=e.top-i.top-n.height-(r?14:0)-14+s.scrollTop;l<0&&(l=0);const c=s.clientWidth-(n.width+4);return l>c&&(l=c),a<s.scrollTop&&(a=e.top-i.top+14+s.scrollTop),[a,l]}))})(e,i))):l())},destroy:()=>{i.removeEventListener("mousedown",s),i.remove()}}}}),uw=new Go("plugin_autoInsertZeroSpace");class dw{constructor(e,t){hv(this,"dom"),hv(this,"contentDOM"),hv(this,"table"),hv(this,"colgroup"),this.node=e,this.cellMinWidth=t,this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),pw(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type==this.node.type&&(this.node=e,pw(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))}}function pw(e,t,n,r,o,i){var s;let l=0,a=!0,c=t.firstChild;const u=e.firstChild;for(let d=0,p=0;d<u.childCount;d++){const{colspan:e,colwidth:n}=u.child(d).attrs;for(let s=0;s<e;s++,p++){const e=o==p?i:n&&n[s],u=e?"".concat(e,"px"):"";l+=e||r,e||(a=!1),c?(c.style.width!=u&&(c.style.width=u),c=c.nextSibling):t.appendChild(document.createElement("col")).style.width=u}}for(;c;){const e=c.nextSibling;null==(s=c.parentNode)||s.removeChild(c),c=e}a?(n.style.width="".concat(l,"px"),n.style.minWidth=""):(n.style.width="",n.style.minWidth="".concat(l,"px"))}const fw=new Go("tableColumnResizing");function hw(){let{handleWidth:e=5,cellMinWidth:t=25,View:n=dw,lastColumnResizable:r=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Wo({key:fw,state:{init(e,r){return this.spec.props.nodeViews[Rv(r.schema).table.name]=e=>new n(e,t),new mw(-1,!1)},apply:(e,t)=>t.apply(e)},props:{attributes:e=>fw.getState(e).activeHandle>-1?{class:"resize-cursor"}:void 0,handleDOMEvents:{mousemove(t,n){!t.editable||function(e,t,n,r){const o=fw.getState(e.state);if(!o.dragging){const i=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target);let s=-1;if(i){const{left:r,right:o}=i.getBoundingClientRect();o-t.clientX<=n||t.clientX===Math.floor(r)?s=gw(e,t,"right"):t.clientX-r<=n&&(s=gw(e,t,"left"))}if(s!=o.activeHandle){if(!r&&-1!==s){const t=e.state.doc.resolve(s),n=t.node(-1),r=Cv.get(n),o=t.start(-1);if(r.colCount(t.pos-o)+t.nodeAfter.attrs.colspan-1==r.width-1)return}bw(e,s)}}}(t,n,e,r)},mouseleave(e){!e.editable||function(e){const t=fw.getState(e.state);t.activeHandle>-1&&!t.dragging&&bw(e,-1)}(e)},mousedown(e,n){!e.editable||function(e,t,n){const r=fw.getState(e.state);if(-1==r.activeHandle||r.dragging)return!1;const o=e.state.doc.nodeAt(r.activeHandle),i=function(e,t,n){let{colspan:r,colwidth:o}=n;const i=o&&o[o.length-1];if(i)return i;const s=e.domAtPos(t);let l=s.node.childNodes[s.offset].offsetWidth,a=r;if(o)for(let c=0;c<r;c++)o[c]&&(l-=o[c],a--);return l/a}(e,r.activeHandle,o.attrs);function s(t){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",l);const r=fw.getState(e.state);r.dragging&&(function(e,t,n){const r=e.state.doc.resolve(t),o=r.node(-1),i=Cv.get(o),s=r.start(-1),l=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,a=e.state.tr;for(let c=0;c<i.height;c++){const e=c*i.width+l;if(c&&i.map[e]==i.map[e-i.width])continue;const t=i.map[e],{attrs:r}=o.nodeAt(t),u=1==r.colspan?0:l-i.colCount(t);if(r.colwidth&&r.colwidth[u]==n)continue;const d=r.colwidth?r.colwidth.slice():vw(r.colspan);d[u]=n,a.setNodeMarkup(s+t,null,zv(r,"colwidth",d))}a.docChanged&&e.dispatch(a)}(e,r.activeHandle,yw(r.dragging,t,n)),e.dispatch(e.state.tr.setMeta(fw,{setDragging:null})))}function l(t){if(!t.which)return s(t);const r=fw.getState(e.state),o=yw(r.dragging,t,n);!function(e,t,n,r){const o=e.state.doc.resolve(t),i=o.node(-1),s=o.start(-1),l=Cv.get(i).colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1;let a=e.domAtPos(o.start(-1)).node;for(;"TABLE"!=a.nodeName;)a=a.parentNode;pw(i,a.firstChild,a,r,l,n)}(e,r.activeHandle,o,n)}e.dispatch(e.state.tr.setMeta(fw,{setDragging:{startX:t.clientX,startWidth:i}})),window.addEventListener("mouseup",s),window.addEventListener("mousemove",l),t.preventDefault()}(e,n,t)}},decorations(e){const t=fw.getState(e);return t.activeHandle>-1?function(e,t){const n=[],r=e.doc.resolve(t),o=r.node(-1),i=Cv.get(o),s=r.start(-1),l=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan;for(let a=0;a<i.height;a++){const e=l+a*i.width-1;if((l==i.width||i.map[e]!=i.map[e+1])&&(0==a||i.map[e-1]!=i.map[e-1-i.width])){const t=i.map[e],r=s+t+o.nodeAt(t).nodeSize-1,l=document.createElement("div");l.className="column-resize-handle",n.push(ed.widget(r,l))}}return rd.create(e.doc,n)}(e,t.activeHandle):null},nodeViews:{}}})}class mw{constructor(e,t){this.activeHandle=e,this.dragging=t,this.activeHandle=e,this.dragging=t}apply(e){let t=this;const n=e.getMeta(fw);if(n&&null!=n.setHandle)return new mw(n.setHandle,null);if(n&&void 0!==n.setDragging)return new mw(t.activeHandle,n.setDragging);if(t.activeHandle>-1&&e.docChanged){let n=e.mapping.map(t.activeHandle,-1);_v(e.doc.resolve(n))||(n=0),t=new mw(n,t.dragging)}return t}}function gw(e,t,n){const r=e.posAtCoords({left:t.clientX,top:t.clientY});if(!r)return-1;const{pos:o}=r,i=Lv(e.state.doc.resolve(o));if(!i)return-1;if("right"==n)return i.pos;const s=Cv.get(i.node(-1)),l=i.start(-1),a=s.map.indexOf(i.pos-l);return a%s.width==0?-1:l+s.map[a-1]}function yw(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function bw(e,t){e.dispatch(e.state.tr.setMeta(fw,{setHandle:t}))}function vw(e){const t=[];for(let n=0;n<e;n++)t.push(0);return t}function ww(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;1==t.childCount&&(n>0&&r>0||"table"==t.firstChild.type.spec.tableRole);)n--,r--,t=t.firstChild.content;const o=t.firstChild,i=o.type.spec.tableRole,s=o.type.schema,l=[];if("row"==i)for(let a=0;a<t.childCount;a++){let e=t.child(a).content;const o=a?0:Math.max(0,n-1),i=a<t.childCount-1?0:Math.max(0,r-1);(o||i)&&(e=kw(Rv(s).row,new Gt(e,o,i)).content),l.push(e)}else{if("cell"!=i&&"header_cell"!=i)return null;l.push(n||r?kw(Rv(s).row,new Gt(t,n,r)).content:t)}return function(e,t){const n=[];for(let o=0;o<t.length;o++){const e=t[o];for(let t=e.childCount-1;t>=0;t--){const{rowspan:r,colspan:i}=e.child(t).attrs;for(let e=o;e<o+r;e++)n[e]=(n[e]||0)+i}}let r=0;for(let o=0;o<n.length;o++)r=Math.max(r,n[o]);for(let o=0;o<n.length;o++)if(o>=t.length&&t.push(jt.empty),n[o]<r){const i=Rv(e).cell.createAndFill(),s=[];for(let e=n[o];e<r;e++)s.push(i);t[o]=t[o].append(jt.from(s))}return{height:t.length,width:r,rows:t}}(s,l)}function kw(e,t){const n=e.createAndFill();return new So(n).replace(0,n.content.size,t).doc}function xw(e,t,n,r,o,i,s,l){if(0==s||s==t.height)return!1;let a=!1;for(let c=o;c<i;c++){const o=s*t.width+c,i=t.map[o];if(t.map[o-t.width]==i){a=!0;const o=n.nodeAt(i),{top:u,left:d}=t.findCell(i);e.setNodeMarkup(e.mapping.slice(l).map(i+r),null,zv(o.attrs,"rowspan",s-u)),e.insert(e.mapping.slice(l).map(t.positionAt(s,d,n)),o.type.createAndFill(zv(o.attrs,"rowspan",u+o.attrs.rowspan-s))),c+=o.attrs.colspan-1}}return a}function Sw(e,t,n,r,o,i,s,l){if(0==s||s==t.width)return!1;let a=!1;for(let c=o;c<i;c++){const o=c*t.width+s,i=t.map[o];if(t.map[o-1]==i){a=!0;const o=n.nodeAt(i),u=t.colCount(i),d=e.mapping.slice(l).map(i+r);e.setNodeMarkup(d,null,$v(o.attrs,s-u,o.attrs.colspan-(s-u))),e.insert(d+o.nodeSize,o.type.createAndFill($v(o.attrs,0,s-u))),c+=o.attrs.rowspan-1}}return a}function Ew(e,t,n,r,o){let i=n?e.doc.nodeAt(n-1):e.doc,s=Cv.get(i);const{top:l,left:a}=r,c=a+o.width,u=l+o.height,d=e.tr;let p=0;function f(){i=n?d.doc.nodeAt(n-1):d.doc,s=Cv.get(i),p=d.mapping.maps.length}(function(e,t,n,r,o,i,s){const l=Rv(e.doc.type.schema);let a,c;if(o>t.width)for(let u=0,d=0;u<t.height;u++){const i=n.child(u);d+=i.nodeSize;const p=[];let f;f=null==i.lastChild||i.lastChild.type==l.cell?a||(a=l.cell.createAndFill()):c||(c=l.header_cell.createAndFill());for(let e=t.width;e<o;e++)p.push(f);e.insert(e.mapping.slice(s).map(d-1+r),p)}if(i>t.height){const u=[];for(let e=0,r=(t.height-1)*t.width;e<Math.max(t.width,o);e++){const o=!(e>=t.width)&&n.nodeAt(t.map[r+e]).type==l.header_cell;u.push(o?c||(c=l.header_cell.createAndFill()):a||(a=l.cell.createAndFill()))}const d=l.row.create(null,jt.from(u)),p=[];for(let e=t.height;e<i;e++)p.push(d);e.insert(e.mapping.slice(s).map(r+n.nodeSize-2),p)}return!(!a&&!c)})(d,s,i,n,c,u,p)&&f(),xw(d,s,i,n,a,c,l,p)&&f(),xw(d,s,i,n,a,c,u,p)&&f(),Sw(d,s,i,n,l,u,a,p)&&f(),Sw(d,s,i,n,l,u,c,p)&&f();for(let h=l;h<u;h++){const e=s.positionAt(h,a,i),t=s.positionAt(h,c,i);d.replace(d.mapping.slice(p).map(e+n),d.mapping.slice(p).map(t+n),new Gt(o.rows[h-l],0,0))}f(),d.setSelection(new Mv(d.doc.resolve(n+s.positionAt(l,a,i)),d.doc.resolve(n+s.positionAt(u-1,c-1,i)))),t(d)}const Cw=new Go("fix-tables");function Tw(e,t,n,r){const o=e.childCount,i=t.childCount;e:for(let s=0,l=0;s<i;s++){const i=t.child(s);for(let t=l,r=Math.min(o,s+3);t<r;t++)if(e.child(t)==i){l=t+1,n+=i.nodeSize;continue e}r(i,n),l<o&&e.child(l).sameMarkup(i)?Tw(e.child(l),i,n+1,r):i.nodesBetween(0,i.content.size,r,n+1),n+=i.nodeSize}}function Mw(e,t){let n;const r=(t,r)=>{"table"==t.type.spec.tableRole&&(n=function(e,t,n,r){const o=Cv.get(t);if(!o.problems)return r;r||(r=e.tr);const i=[];for(let a=0;a<o.height;a++)i.push(0);for(let a=0;a<o.problems.length;a++){const e=o.problems[a];if("collision"==e.type){const o=t.nodeAt(e.pos);for(let t=0;t<o.attrs.rowspan;t++)i[e.row+t]+=e.n;r.setNodeMarkup(r.mapping.map(n+1+e.pos),null,$v(o.attrs,o.attrs.colspan-e.n,e.n))}else if("missing"==e.type)i[e.row]+=e.n;else if("overlong_rowspan"==e.type){const o=t.nodeAt(e.pos);r.setNodeMarkup(r.mapping.map(n+1+e.pos),null,zv(o.attrs,"rowspan",o.attrs.rowspan-e.n))}else if("colwidth mismatch"==e.type){const o=t.nodeAt(e.pos);r.setNodeMarkup(r.mapping.map(n+1+e.pos),null,zv(o.attrs,"colwidth",e.colwidth))}}let s,l;for(let a=0;a<i.length;a++)i[a]&&(null==s&&(s=a),l=a);for(let a=0,c=n+1;a<o.height;a++){const n=t.child(a),o=c+n.nodeSize,u=i[a];if(u>0){let t="cell";n.firstChild&&(t=n.firstChild.type.spec.tableRole);const i=[];for(let n=0;n<u;n++)i.push(Rv(e.schema)[t].createAndFill());const d=0!=a&&s!=a-1||l!=a?o-1:c+1;r.insert(r.mapping.map(d),i)}c=o}return r.setMeta(Cw,{fixTables:!0})}(e,t,r,n))};return t?t.doc!=e.doc&&Tw(t.doc,e.doc,0,r):e.doc.descendants(r),n}const Nw=new Go("selectingCells");function Aw(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function Ow(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?Lv(e.state.doc.resolve(n.pos)):null}function Iw(e,t){const n=t;if(n.ctrlKey||n.metaKey)return;const r=Aw(e,n.target);let o;if(n.shiftKey&&e.state.selection instanceof Mv)i(e.state.selection.$anchorCell,n),n.preventDefault();else if(n.shiftKey&&r&&null!=(o=Lv(e.state.selection.$anchor))&&Ow(e,n).pos!=o.pos)i(o,n),n.preventDefault();else if(!r)return;function i(t,n){let r=Ow(e,n);const o=null==Nw.getState(e.state);if(!r||!Pv(t,r)){if(!o)return;r=t}const i=new Mv(t,r);if(o||!e.state.selection.eq(i)){const n=e.state.tr.setSelection(i);o&&n.setMeta(Nw,t.pos),e.dispatch(n)}}function s(){e.root.removeEventListener("mouseup",s),e.root.removeEventListener("dragstart",s),e.root.removeEventListener("mousemove",l),null!=Nw.getState(e.state)&&e.dispatch(e.state.tr.setMeta(Nw,-1))}function l(t){const o=Nw.getState(e.state);let l;if(null!=o)l=e.state.doc.resolve(o);else if(Aw(e,t.target)!=r&&(l=Ow(e,n),!l))return s();l&&i(l,t)}e.root.addEventListener("mouseup",s),e.root.addEventListener("dragstart",s),e.root.addEventListener("mousemove",l)}function Rw(e,t){const n=Lv(e.state.doc.resolve(t));return!!n&&(e.dispatch(e.state.tr.setSelection(new Mv(n))),!0)}function Dw(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function Lw(e,t,n){if(!(e.state.selection instanceof Ao))return null;const{$head:r}=e.state.selection;for(let o=r.depth-1;o>=0;o--){const i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:i.childCount))return null;if("cell"==i.type.spec.tableRole||"header_cell"==i.type.spec.tableRole){const i=r.before(o),s="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(s)?i:null}}return null}function _w(e,t){return(n,r,o)=>{const i=n.selection;if(i instanceof Mv)return Dw(n,r,Co.near(i.$headCell,t));if("horiz"!=e&&!i.empty)return!1;const s=Lw(o,e,t);if(null==s)return!1;if("horiz"==e)return Dw(n,r,Co.near(n.doc.resolve(i.head+t),t));{const o=n.doc.resolve(s),i=Fv(o,e,t);let l;return l=i?Co.near(i,1):t<0?Co.near(n.doc.resolve(o.before(-1)),-1):Co.near(n.doc.resolve(o.after(-1)),1),Dw(n,r,l)}}}function Pw(e,t){return(n,r,o)=>{let i=n.selection;if(!(i instanceof Mv)){const r=Lw(o,e,t);if(null==r)return!1;i=new Mv(n.doc.resolve(r))}const s=Fv(i.$headCell,e,t);return!!s&&Dw(n,r,new Mv(i.$anchorCell,s))}}function Fw(e,t){const n=e.selection;if(!(n instanceof Mv))return!1;if(t){const r=e.tr,o=Rv(e.schema).cell.createAndFill().content;n.forEachCell(((e,t)=>{e.content.eq(o)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new Gt(o,0,0))})),r.docChanged&&t(r)}return!0}const zw=jp({ArrowLeft:_w("horiz",-1),ArrowRight:_w("horiz",1),ArrowUp:_w("vert",-1),ArrowDown:_w("vert",1),"Shift-ArrowLeft":Pw("horiz",-1),"Shift-ArrowRight":Pw("horiz",1),"Shift-ArrowUp":Pw("vert",-1),"Shift-ArrowDown":Pw("vert",1),Backspace:Fw,"Mod-Backspace":Fw,Delete:Fw,"Mod-Delete":Fw});function $w(e,t,n){if(!Bv(e.state))return!1;let r=ww(n);const o=e.state.selection;if(o instanceof Mv){r||(r={width:1,height:1,rows:[jt.from(kw(Rv(e.state.schema).cell,n))]});const t=o.$anchorCell.node(-1),i=o.$anchorCell.start(-1),s=Cv.get(t).rectBetween(o.$anchorCell.pos-i,o.$headCell.pos-i);return r=function(e,t,n){let{width:r,height:o,rows:i}=e;if(r!=t){const e=[],n=[];for(let r=0;r<i.length;r++){const o=i[r],s=[];for(let n=e[r]||0,i=0;n<t;i++){let l=o.child(i%o.childCount);n+l.attrs.colspan>t&&(l=l.type.create($v(l.attrs,l.attrs.colspan,n+l.attrs.colspan-t),l.content)),s.push(l),n+=l.attrs.colspan;for(let t=1;t<l.attrs.rowspan;t++)e[r+t]=(e[r+t]||0)+l.attrs.colspan}n.push(jt.from(s))}i=n,r=t}if(o!=n){const e=[];for(let t=0,r=0;t<n;t++,r++){const s=[],l=i[r%o];for(let e=0;e<l.childCount;e++){let r=l.child(e);t+r.attrs.rowspan>n&&(r=r.type.create(zv(r.attrs,"rowspan",Math.max(1,n-r.attrs.rowspan)),r.content)),s.push(r)}e.push(jt.from(s))}i=e,o=n}return{width:r,height:o,rows:i}}(r,s.right-s.left,s.bottom-s.top),Ew(e.state,e.dispatch,i,s,r),!0}if(r){const t=jv(e.state),n=t.start(-1);return Ew(e.state,e.dispatch,n,Cv.get(t.node(-1)).findCell(t.pos-n),r),!0}return!1}function Bw(){let{allowTableNodeSelection:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Wo({key:Nw,state:{init:()=>null,apply(e,t){const n=e.getMeta(Nw);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;const{deleted:r,pos:o}=e.mapping.mapResult(t);return r?null:o}},props:{decorations:Av,handleDOMEvents:{mousedown:Iw},createSelectionBetween:e=>null!=Nw.getState(e.state)?e.state.selection:null,handleTripleClick:Rw,handleKeyDown:zw,handlePaste:$w},appendTransaction:(t,n,r)=>function(e,t,n){const r=(t||e).selection,o=(t||e).doc;let i,s;if(r instanceof Io&&(s=r.node.type.spec.tableRole)){if("cell"==s||"header_cell"==s)i=Mv.create(o,r.from);else if("row"==s){const e=o.resolve(r.from+1);i=Mv.rowSelection(e,e)}else if(!n){const e=Cv.get(r.node),t=r.from+1,n=t+e.map[e.width*e.height-1];i=Mv.create(o,t+1,n)}}else r instanceof Ao&&function(e){let{$from:t,$to:n}=e;if(t.pos==n.pos||t.pos<t.pos-6)return!1;let r=t.pos,o=n.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,r++);for(let s=n.depth;s>=0&&!(n.before(s+1)>n.start(s));s--,o--);return r==o&&/row|table/.test(t.node(i).type.spec.tableRole)}(r)?i=Ao.create(o,r.from):r instanceof Ao&&function(e){let t,n,{$from:r,$to:o}=e;for(let i=r.depth;i>0;i--){const e=r.node(i);if("cell"===e.type.spec.tableRole||"header_cell"===e.type.spec.tableRole){t=e;break}}for(let i=o.depth;i>0;i--){const e=o.node(i);if("cell"===e.type.spec.tableRole||"header_cell"===e.type.spec.tableRole){n=e;break}}return t!==n&&0===o.parentOffset}(r)&&(i=Ao.create(o,r.$from.start(),r.$from.end()));return i&&(t||(t=e.tr)).setSelection(i),t}(r,Mw(r,n),e)})}const jw={NextCell:"NextCell",PrevCell:"PrevCell",ExitTable:"ExitTable"},Hw=qf("PrevCell"),Uw=qf("NextCell"),Ww=qf("BreakTable"),Vw=qf("InsertTable"),qw=sg((e=>({schema:()=>({node:{table:{...Dv.table,parseMarkdown:{match:e=>"table"===e.type,runner:(e,t,n)=>{const r=t.align,o=t.children.map(((e,t)=>({...e,align:r,isHeader:0===t})));e.openNode(n),e.next(o),e.closeNode()}},toMarkdown:{match:e=>"table"===e.type.name,runner:(e,t)=>{var n;const r=null==(n=t.content.firstChild)?void 0:n.content;if(!r)return;const o=[];r.forEach((e=>{o.push(e.attrs.alignment)})),e.openNode("table",void 0,{align:o}),e.next(t.content),e.closeNode()}}},table_row:{...Dv.table_row,parseMarkdown:{match:e=>"tableRow"===e.type,runner:(e,t,n)=>{const r=t.align,o=t.children.map(((e,n)=>({...e,align:r[n],isHeader:t.isHeader})));e.openNode(n),e.next(o),e.closeNode()}},toMarkdown:{match:e=>"table_row"===e.type.name,runner:(e,t)=>{e.openNode("tableRow"),e.next(t.content),e.closeNode()}}},table_cell:{...Dv.table_cell,parseMarkdown:{match:e=>"tableCell"===e.type&&!e.isHeader,runner:(e,t,n)=>{const r=t.align;e.openNode(n,{alignment:r}).openNode(e.schema.nodes.paragraph).next(t.children).closeNode().closeNode()}},toMarkdown:{match:e=>"table_cell"===e.type.name,runner:(e,t)=>{e.openNode("tableCell").next(t.content).closeNode()}}},table_header:{...Dv.table_header,parseMarkdown:{match:e=>"tableCell"===e.type&&!!e.isHeader,runner:(e,t,n)=>{const r=t.align;e.openNode(n,{alignment:r}),e.openNode(e.schema.nodes.paragraph),e.next(t.children),e.closeNode(),e.closeNode()}},toMarkdown:{match:e=>"table_header"===e.type.name,runner:(e,t)=>{e.openNode("tableCell"),e.next(t.content),e.closeNode()}}}}}),inputRules:(e,t)=>[new lg(/^\|\|\s$/,((n,r,o,i)=>{const s=n.doc.resolve(o);if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e.table))return null;const l=tw(t.get(ff)),a=n.tr.replaceRangeWith(o,i,l).scrollIntoView();return a.setSelection(Ao.create(a.doc,o+3))})),new lg(/^\|(?<col>\d+)[xX](?<row>\d+)\|\s$/,((n,r,o,i)=>{var s,l;const a=n.doc.resolve(o);if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e.table))return null;const c=tw(t.get(ff),Number(null==(s=r.groups)?void 0:s.row),Number(null==(l=r.groups)?void 0:l.col)),u=n.tr.replaceRangeWith(o,i,c).scrollIntoView();return u.setSelection(Ao.create(u.doc,o+3))}))],commands:(e,t)=>[Vf(Hw,(()=>Qv(-1))),Vf(Uw,(()=>Qv(1))),Vf(Ww,(()=>(e=>(t,n)=>{if(!Bv(t))return!1;const{$head:r}=t.selection,o=r.after(),i=t.tr.replaceWith(o,o,e.createAndFill());return i.setSelection(Co.near(i.doc.resolve(o),1)),null==n||n(i.scrollIntoView()),!0})(t.get(ff).nodes.paragraph))),Vf(Vw,(()=>(e,n)=>{const{selection:r,tr:o}=e,{from:i}=r,s=tw(t.get(ff)),l=o.replaceSelectionWith(s),a=Co.findFrom(l.doc.resolve(i),1,!0);return a&&(null==n||n(l.setSelection(a))),!0}))],shortcuts:{[jw.NextCell]:Im(Uw,"Mod-]"),[jw.PrevCell]:Im(Hw,"Mod-["),[jw.ExitTable]:Im(Ww,"Mod-Enter")},prosePlugins:(t,n)=>[cw(n,e),new Wo({key:uw,props:{handleDOMEvents:{compositionstart(e){const{state:t,dispatch:n}=e,{tr:r,selection:o}=t,{$from:i}=o;return Xd.safari&&Bv(t)&&o.empty&&(e=>"paragraph"===e.type.name&&2===e.nodeSize)(i.parent)&&n(r.insertText("\u2060",i.start())),!1},compositionend(e){const{state:t,dispatch:n}=e,{tr:r,selection:o}=t,{$from:i}=o;return Xd.safari&&Bv(t)&&o.empty&&(e=>"paragraph"===e.type.name)(i.parent)&&i.parent.textContent.startsWith("\u2060")&&n(r.delete(i.start(),i.start()+1)),!1}}}}),hw(),Bw()]}))),Gw={...yg,...jw,StrikeThrough:"StrikeThrough",TaskList:"TaskList"},Kw=qf("ToggleStrikeThrough"),Yw="strike_through",Jw=og((e=>({id:Yw,schema:()=>({inclusive:!1,parseDOM:[{tag:"del"},{style:"text-decoration",getAttrs:e=>"line-through"===e}],toDOM:t=>["del",{class:e.getClassName(t.attrs,"strike-through")}],parseMarkdown:{match:e=>"delete"===e.type,runner:(e,t,n)=>{e.openMark(n),e.next(t.children),e.closeMark(n)}},toMarkdown:{match:e=>e.type.name===Yw,runner:(e,t)=>{e.withMark(t,"delete")}}}),commands:e=>[Vf(Kw,(()=>Ep(e)))],shortcuts:{[Gw.StrikeThrough]:Im(Kw,"Mod-Alt-x")}}))),Xw=qf("SplitTaskListItem"),Qw=qf("SinkTaskListItem"),Zw=qf("LiftTaskListItem"),ek=qf("TurnIntoTaskList"),tk=ig((e=>{const t="task_list_item";return{id:t,schema:n=>({group:"listItem",content:"paragraph block*",defining:!0,priority:60,attrs:{checked:{default:!1}},parseDOM:[{tag:'li[data-type="task-item"]',getAttrs:e=>{if(!(e instanceof HTMLElement))throw y(e);return{checked:"true"===e.dataset.checked}}}],toDOM:t=>{const r=document.createElement("input");return r.type="checkbox",r.checked=t.attrs.checked,r.className=e.getClassName(t.attrs,"task-list-item_checkbox"),r.onchange=e=>{const t=e.target;if(!(t instanceof HTMLInputElement))return;const o=n.get(Lf);if(!o.editable)return void(r.checked=!r.checked);const{top:i,left:s}=t.getBoundingClientRect(),l=o.posAtCoords({top:i,left:s});if(!l)return;const{tr:a}=o.state;o.dispatch(a.setNodeMarkup(l.inside,void 0,{checked:t.checked}))},["li",{"data-type":"task-item","data-checked":t.attrs.checked?"true":"false",class:e.getClassName(t.attrs,"task-list-item")},r,["span",{class:e.getClassName(t.attrs,"task-list-item_body")},0]]},parseMarkdown:{match:e=>{let{type:t,checked:n}=e;return"listItem"===t&&null!==n},runner:(e,t,n)=>{e.openNode(n,{checked:t.checked}),e.next(t.children),e.closeNode()}},toMarkdown:{match:e=>e.type.name===t,runner:(e,t)=>{e.openNode("listItem",void 0,{checked:t.attrs.checked}),e.next(t.content),e.closeNode()}}}),inputRules:e=>[ag(/^\s*(\[([ |x])\])\s$/,e,(e=>({checked:"x"===e[e.length-1]})))],commands:e=>[Vf(Xw,(()=>ug(e))),Vf(Qw,(()=>pg(e))),Vf(Zw,(()=>dg(e))),Vf(ek,(()=>xp(e)))],shortcuts:{[Gw.NextListItem]:Im(Xw,"Enter"),[Gw.SinkListItem]:Im(Qw,"Mod-]"),[Gw.LiftListItem]:Im(Zw,"Mod-["),[Gw.TaskList]:Im(ek,"Mod-Alt-9")},view:()=>(n,r,o)=>{let i=n;const s=e.themeManager.get("task-list-item",{editable:()=>r.editable,onChange:e=>{const{tr:t}=r.state;r.dispatch(t.setNodeMarkup(o(),void 0,{checked:e}))}});if(!s)return{};const{dom:l,contentDOM:a,onUpdate:c}=s;return c(i),{dom:l,contentDOM:a,update:e=>e.type.name===t&&(i=e,c(i),!0)}}}})),nk=Am.create([...Hy,(e=>{const t=()=>async n=>{await n.wait(ef);const r=e(n);n.update(sf,(e=>[...e,r])),t.plugin=r};return t})((()=>uv)),qw(),Jw(),tk(),xv(),vv()]);var rk,ok=n(950),ik=Object.defineProperty,sk=(e,t,n)=>(((e,t,n)=>{t in e?ik(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),lk={exports:{}},ak={};!function(e){e.exports=function(){if(rk)return ak;rk=1;var e=o,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,n,o){var l,a={},c=null,u=null;for(l in void 0!==o&&(c=""+o),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(u=n.ref),n)r.call(n,l)&&!s.hasOwnProperty(l)&&(a[l]=n[l]);if(e&&e.defaultProps)for(l in n=e.defaultProps)void 0===a[l]&&(a[l]=n[l]);return{$$typeof:t,type:e,key:c,ref:u,props:a,_owner:i.current}}return ak.Fragment=n,ak.jsx=l,ak.jsxs=l,ak}()}(lk);const ck=lk.exports.Fragment,uk=lk.exports.jsx,dk=lk.exports.jsxs,pk=(0,o.createContext)((()=>()=>{throw new Error("out of scope")})),fk=(0,o.memo)((e=>{let{portals:t}=e;return uk(ck,{children:t})}));fk.displayName="Portals";const hk=(0,o.createContext)({}),mk=(0,o.forwardRef)(((e,t)=>{let{editor:n}=e;const r=(()=>{const e=(0,o.useContext)(hk);return{get:()=>e.editor.current,dom:()=>e.dom.current}})(),i=(e=>{const t=(0,o.useContext)(pk),{dom:n,editor:r,setLoading:i}=(0,o.useContext)(hk),s=(0,o.useRef)(null),l=(0,o.useRef)(!1);return(0,o.useLayoutEffect)((()=>{r.current&&r.current.destroy();const o=s.current;if(!o)return;n.current=o;const a=e(o,t);return a&&!l.current?(l.current=!0,i(!0),a.create().then((e=>{r.current=e})).finally((()=>{l.current=!1,i(!1)})).catch(console.error),()=>{a.destroy()}):void 0}),[n,r,e,t,i]),s})(n);return(0,o.useImperativeHandle)(t,(()=>r)),uk("div",{ref:i})}));mk.displayName="EditorComponent";const gk=(0,o.createContext)({ctx:void 0,node:void 0,view:void 0,getPos:void 0,decorations:void 0}),yk=e=>{let{ctx:t,node:n,view:r,getPos:o,decorations:i,children:s}=e;return uk(gk.Provider,{value:{ctx:t,node:n,view:r,getPos:o,decorations:i},children:s})},bk=e=>{let{contentRef:t,isInline:n}=e;return uk(n?"span":"div",{"data-view-content":!0,className:"content-dom-wrapper",ref:t})},vk=Mm("abcedfghicklmn",10);var wk,kk;class xk{constructor(e,t,n,r,o,i,s,l,a,c){sk(this,"teleportDOM"),sk(this,"contentDOMElement"),sk(this,"key"),sk(this,"getPortal",(()=>{const e=this.component;return(0,ok.createPortal)(uk(yk,{ctx:this.ctx,node:this.node,view:this.view,getPos:this.getPos,decorations:this.decorations,children:uk(e,{children:uk(bk,{isInline:this.isInlineOrMark,contentRef:e=>{e&&this.contentDOMElement&&e.firstChild!==this.contentDOMElement&&e.appendChild(this.contentDOMElement)}})})}),this.teleportDOM,this.key)})),sk(this,"selectNode",null==(wk=this.options)?void 0:wk.selectNode),sk(this,"deselectNode",null==(kk=this.options)?void 0:kk.deselectNode),this.ctx=e,this.component=t,this.addPortal=n,this.removePortalByKey=r,this.replacePortalByKey=o,this.options=i,this.node=s,this.view=l,this.getPos=a,this.decorations=c,this.key=vk();const u=i.as?i.as:this.isInlineOrMark?"span":"div";this.teleportDOM=document.createElement(u);const d=s instanceof pn&&s.isLeaf?null:document.createElement(this.isInlineOrMark?"span":"div");d&&d.classList.add("content-dom"),this.contentDOMElement=d,this.key=vk(),this.renderPortal()}get isInlineOrMark(){return this.node instanceof Vt||this.node.isInline}get dom(){return this.teleportDOM}get contentDOM(){return this.node instanceof pn&&this.node.isLeaf?null:this.contentDOMElement}renderPortal(){this.addPortal(this.getPortal())}destroy(){var e,t;null==(t=(e=this.options).destroy)||t.call(e),this.contentDOMElement=null,this.removePortalByKey(this.key)}ignoreMutation(e){return this.options.ignoreMutation?this.options.ignoreMutation(e):!(this.dom&&this.contentDOM&&!(this.node instanceof pn&&(this.node.isLeaf||this.node.isAtom)))||"selection"!==e.type&&this.contentDOM!==this.dom&&(this.contentDOM===e.target&&"attributes"===e.type||!this.contentDOM.contains(e.target))}update(e,t,n){const r=(()=>{var r,o;if(this.options.update){const i=null==(o=(r=this.options).update)?void 0:o.call(r,e,t,n);if(null!=i)return i}return this.node.type===e.type&&(e===this.node&&this.decorations===t||(this.node=e,this.decorations=t),!0)})();return r&&this.replacePortalByKey(this.key,this.getPortal()),r}}const Sk=(0,o.forwardRef)(((e,t)=>{let{editor:n}=e;const[r,i]=(0,o.useState)([]),s=(0,o.useCallback)((e=>{i((t=>[...t,e]))}),[]),l=(0,o.useCallback)((e=>{i((t=>{const n=t.findIndex((t=>t.key===e));return[...t.slice(0,n),...t.slice(n+1)]}))}),[]),a=(0,o.useCallback)(((e,t)=>{i((n=>{const r=n.findIndex((t=>t.key===e));return[...n.slice(0,r),t,...n.slice(r+1)]}))}),[]),c=(0,o.useCallback)(((e,t)=>((e,t,n)=>function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i=>(s,l,a,c)=>new xk(i,r,e,t,n,o,s,l,a,c)})(s,l,a)(e,t)),[s,l,a]),u=Object.hasOwnProperty.call(n,"getInstance"),{getEditorCallback:d,dom:p,editor:f,setLoading:h}=u?n.editor:n;(0,o.useEffect)((()=>{u&&console.warn("\n@milkdown/react:\nPassing editor directly to ReactEditor will soon be deprecated, please use:\n\nconst { editor } = useEditor(/* creator */);\n\n<ReactEditor editor={editor} />\n"),t&&console.warn("\n@milkdown/react:\nPassing ref to ReactEditor will soon be deprecated, please use:\n\nconst { editor, getInstance, getDom, loading } = useEditor(/* creator */);\n\nuseEffect(() => {\n    if (!loading) {\n        const editor = getInstance();\n        const rootDOM = getDom();\n    }\n}, [getInstance])\n\n<ReactEditor editor={editor} />\n")}),[t,u]);const m=(0,o.useMemo)((()=>({dom:p,editor:f,setLoading:h})),[p,f,h]);return uk(hk.Provider,{value:m,children:dk(pk.Provider,{value:c,children:[r,uk(mk,{ref:t,editor:d})]})})}));Sk.displayName="MilkdownReactEditor";var Ek=Object.defineProperty,Ck=(e,t,n)=>(((e,t,n)=>{t in e?Ek(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);class Tk{constructor(){Ck(this,"beforeMountedListeners",[]),Ck(this,"mountedListeners",[]),Ck(this,"updatedListeners",[]),Ck(this,"markdownUpdatedListeners",[]),Ck(this,"blurListeners",[]),Ck(this,"focusListeners",[]),Ck(this,"destroyListeners",[]),Ck(this,"beforeMount",(e=>(this.beforeMountedListeners.push(e),this))),Ck(this,"mounted",(e=>(this.mountedListeners.push(e),this))),Ck(this,"updated",(e=>(this.updatedListeners.push(e),this)))}get listeners(){return{beforeMounted:this.beforeMountedListeners,mounted:this.mountedListeners,updated:this.updatedListeners,markdownUpdated:this.markdownUpdatedListeners,blur:this.blurListeners,focus:this.focusListeners,destroy:this.destroyListeners}}markdownUpdated(e){return this.markdownUpdatedListeners.push(e),this}blur(e){return this.blurListeners.push(e),this}focus(e){return this.focusListeners.push(e),this}destroy(e){return this.destroyListeners.push(e),this}}const Mk=O(new Tk,"listener"),Nk=new Go("MILKDOWN_LISTENER"),Ak=e=>(e.inject(Mk,new Tk),async e=>{await e.wait(ef);const t=e.get(Mk),{listeners:n}=t;n.beforeMounted.forEach((t=>t(e))),await e.wait(Cf);const r=e.get(Sf);let o=null,i=null;const s=new Wo({key:Nk,view:()=>({destroy:()=>{n.destroy.forEach((t=>t(e)))}}),props:{handleDOMEvents:{focus:()=>(n.focus.forEach((t=>t(e))),!1),blur:()=>(n.blur.forEach((t=>t(e))),!1)}},state:{init:()=>{},apply:t=>{if(!t.docChanged)return;const{doc:s}=t;if(n.updated.length>0&&(null==o||!o.eq(s))&&n.updated.forEach((t=>{t(e,s,o)})),n.markdownUpdated.length>0&&(null==o||!o.eq(s))){const o=r(t.doc);(null==i||i!==o)&&(n.markdownUpdated.forEach((t=>{t(e,o,i)})),i=o)}o=s}}});e.update(of,(e=>e.concat(s))),await e.wait($f),n.mounted.forEach((t=>t(e)))});function Ok(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}function Ik(e){e.register(Ok),e.languages.c=e.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),e.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),e.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},e.languages.c.string],char:e.languages.c.char,comment:e.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:e.languages.c}}}}),e.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete e.languages.c.boolean}function Rk(e){e.register(Ik),function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(e)}function Dk(e){e.register(Rk),e.languages.arduino=e.languages.extend("cpp",{keyword:/\b(?:String|array|bool|boolean|break|byte|case|catch|continue|default|do|double|else|finally|for|function|goto|if|in|instanceof|int|integer|long|loop|new|null|return|setup|string|switch|throw|try|void|while|word)\b/,constant:/\b(?:ANALOG_MESSAGE|DEFAULT|DIGITAL_MESSAGE|EXTERNAL|FIRMATA_STRING|HIGH|INPUT|INPUT_PULLUP|INTERNAL|INTERNAL1V1|INTERNAL2V56|LED_BUILTIN|LOW|OUTPUT|REPORT_ANALOG|REPORT_DIGITAL|SET_PIN_MODE|SYSEX_START|SYSTEM_RESET)\b/,builtin:/\b(?:Audio|BSSID|Bridge|Client|Console|EEPROM|Esplora|EsploraTFT|Ethernet|EthernetClient|EthernetServer|EthernetUDP|File|FileIO|FileSystem|Firmata|GPRS|GSM|GSMBand|GSMClient|GSMModem|GSMPIN|GSMScanner|GSMServer|GSMVoiceCall|GSM_SMS|HttpClient|IPAddress|IRread|Keyboard|KeyboardController|LiquidCrystal|LiquidCrystal_I2C|Mailbox|Mouse|MouseController|PImage|Process|RSSI|RobotControl|RobotMotor|SD|SPI|SSID|Scheduler|Serial|Server|Servo|SoftwareSerial|Stepper|Stream|TFT|Task|USBHost|WiFi|WiFiClient|WiFiServer|WiFiUDP|Wire|YunClient|YunServer|abs|addParameter|analogRead|analogReadResolution|analogReference|analogWrite|analogWriteResolution|answerCall|attach|attachGPRS|attachInterrupt|attached|autoscroll|available|background|beep|begin|beginPacket|beginSD|beginSMS|beginSpeaker|beginTFT|beginTransmission|beginWrite|bit|bitClear|bitRead|bitSet|bitWrite|blink|blinkVersion|buffer|changePIN|checkPIN|checkPUK|checkReg|circle|cityNameRead|cityNameWrite|clear|clearScreen|click|close|compassRead|config|connect|connected|constrain|cos|countryNameRead|countryNameWrite|createChar|cursor|debugPrint|delay|delayMicroseconds|detach|detachInterrupt|digitalRead|digitalWrite|disconnect|display|displayLogos|drawBMP|drawCompass|encryptionType|end|endPacket|endSMS|endTransmission|endWrite|exists|exitValue|fill|find|findUntil|flush|gatewayIP|get|getAsynchronously|getBand|getButton|getCurrentCarrier|getIMEI|getKey|getModifiers|getOemKey|getPINUsed|getResult|getSignalStrength|getSocket|getVoiceCallStatus|getXChange|getYChange|hangCall|height|highByte|home|image|interrupts|isActionDone|isDirectory|isListening|isPIN|isPressed|isValid|keyPressed|keyReleased|keyboardRead|knobRead|leftToRight|line|lineFollowConfig|listen|listenOnLocalhost|loadImage|localIP|lowByte|macAddress|maintain|map|max|messageAvailable|micros|millis|min|mkdir|motorsStop|motorsWrite|mouseDragged|mouseMoved|mousePressed|mouseReleased|move|noAutoscroll|noBlink|noBuffer|noCursor|noDisplay|noFill|noInterrupts|noListenOnLocalhost|noStroke|noTone|onReceive|onRequest|open|openNextFile|overflow|parseCommand|parseFloat|parseInt|parsePacket|pauseMode|peek|pinMode|playFile|playMelody|point|pointTo|position|pow|prepare|press|print|printFirmwareVersion|printVersion|println|process|processInput|pulseIn|put|random|randomSeed|read|readAccelerometer|readBlue|readButton|readBytes|readBytesUntil|readGreen|readJoystickButton|readJoystickSwitch|readJoystickX|readJoystickY|readLightSensor|readMessage|readMicrophone|readNetworks|readRed|readSlider|readString|readStringUntil|readTemperature|ready|rect|release|releaseAll|remoteIP|remoteNumber|remotePort|remove|requestFrom|retrieveCallingNumber|rewindDirectory|rightToLeft|rmdir|robotNameRead|robotNameWrite|run|runAsynchronously|runShellCommand|runShellCommandAsynchronously|running|scanNetworks|scrollDisplayLeft|scrollDisplayRight|seek|sendAnalog|sendDigitalPortPair|sendDigitalPorts|sendString|sendSysex|serialEvent|setBand|setBitOrder|setClockDivider|setCursor|setDNS|setDataMode|setFirmwareVersion|setMode|setPINUsed|setSpeed|setTextSize|setTimeout|shiftIn|shiftOut|shutdown|sin|size|sqrt|startLoop|step|stop|stroke|subnetMask|switchPIN|tan|tempoWrite|text|tone|transfer|tuneWrite|turn|updateIR|userNameRead|userNameWrite|voiceCall|waitContinue|width|write|writeBlue|writeGreen|writeJSON|writeMessage|writeMicroseconds|writeRGB|writeRed|yield)\b/}),e.languages.ino=e.languages.arduino}function Lk(e){!function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:n,environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:r.entity}}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=e.languages.bash;for(var o=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],i=r.variable[1].inside,s=0;s<o.length;s++)i[o[s]]=e.languages.bash[o[s]];e.languages.sh=e.languages.bash,e.languages.shell=e.languages.bash}(e)}function _k(e){e.register(Ok),function(e){function t(e,t){return e.replace(/<<(\d+)>>/g,(function(e,n){return"(?:"+t[+n]+")"}))}function n(e,n,r){return RegExp(t(e,n),r||"")}function r(e,t){for(var n=0;n<t;n++)e=e.replace(/<<self>>/g,(function(){return"(?:"+e+")"}));return e.replace(/<<self>>/g,"[^\\s\\S]")}var o="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",i="class enum interface record struct",s="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",l="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function a(e){return"\\b(?:"+e.trim().replace(/ /g,"|")+")\\b"}var c=a(i),u=RegExp(a(o+" "+i+" "+s+" "+l)),d=a(i+" "+s+" "+l),p=a(o+" "+i+" "+l),f=r(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),h=r(/\((?:[^()]|<<self>>)*\)/.source,2),m=/@?\b[A-Za-z_]\w*\b/.source,g=t(/<<0>>(?:\s*<<1>>)?/.source,[m,f]),y=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,g]),b=/\[\s*(?:,\s*)*\]/.source,v=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[y,b]),w=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[f,h,b]),k=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[w]),x=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[k,y,b]),S={keyword:u,punctuation:/[<>()?,.:[\]]/},E=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,C=/"(?:\\.|[^\\"\r\n])*"/.source,T=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[T]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[C]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[y]),lookbehind:!0,inside:S},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[m,x]),lookbehind:!0,inside:S},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[m]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[c,g]),lookbehind:!0,inside:S},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[y]),lookbehind:!0,inside:S},{pattern:n(/(\bwhere\s+)<<0>>/.source,[m]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[v]),lookbehind:!0,inside:S},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[x,p,m]),inside:S}],keyword:u,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[m]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[m]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[h]),lookbehind:!0,alias:"class-name",inside:S},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[x,y]),inside:S,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[x]),lookbehind:!0,inside:S,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[m,f]),inside:{function:n(/^<<0>>/.source,[m]),generic:{pattern:RegExp(f),alias:"class-name",inside:S}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[c,g,m,x,u.source,h,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[g,h]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:u,"class-name":{pattern:RegExp(x),greedy:!0,inside:S},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var M=C+"|"+E,N=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[M]),A=r(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[N]),2),O=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,I=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[y,A]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[O,I]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[O]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[A]),inside:e.languages.csharp},"class-name":{pattern:RegExp(y),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var R=/:[^}\r\n]+/.source,D=r(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[N]),2),L=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[D,R]),_=r(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[M]),2),P=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[_,R]);function F(t,r){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[t]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[r,R]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[L]),lookbehind:!0,greedy:!0,inside:F(L,D)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[P]),lookbehind:!0,greedy:!0,inside:F(P,_)}],char:{pattern:RegExp(E),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp}(e)}function Pk(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.value.replace(/&amp;/,"&"))})),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(t,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+n]={pattern:/[\s\S]+/,inside:e.languages[n]};var i={};i[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return t})),"i"),lookbehind:!0,greedy:!0,inside:o},e.languages.insertBefore("markup","cdata",i)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}function Fk(e){!function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(e)}function zk(e){!function(e){e.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var t={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(t).forEach((function(n){var r=t[n],o=[];/^\w+$/.test(n)||o.push(/\w+/.exec(n)[0]),"diff"===n&&o.push("bold"),e.languages.diff[n]={pattern:RegExp("^(?:["+r+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:o,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(n)[0]}}}})),Object.defineProperty(e.languages.diff,"PREFIXES",{value:t})}(e)}function $k(e){e.register(Ok),e.languages.go=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),e.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete e.languages.go["class-name"]}function Bk(e){e.languages.ini={comment:{pattern:/(^[ \f\t\v]*)[#;][^\n\r]*/m,lookbehind:!0},section:{pattern:/(^[ \f\t\v]*)\[[^\n\r\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f\t\v]*)[^ \f\t\v\]]+(?:[ \f\t\v]+[^ \f\t\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/\[|\]/}},key:{pattern:/(^[ \f\t\v]*)[^ \f\n\r\t\v=]+(?:[ \f\t\v]+[^ \f\n\r\t\v=]+)*(?=[ \f\t\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f\t\v]*)[^ \f\n\r\t\v]+(?:[ \f\t\v]+[^ \f\n\r\t\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^("|').+(?=\1$)/,lookbehind:!0}}},punctuation:/=/}}function jk(e){e.register(Ok),function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(e)}function Hk(e){!function(e){var t={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},n=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,r="(?:[^\\\\-]|"+n.source+")",o=RegExp(r+"-"+r),i={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};e.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:o,inside:{escape:n,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":t,"char-set":{pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},escape:n}},"special-escape":t,"char-set":{pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":i}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:n,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":i}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}}(e)}function Uk(e){e.register(Ok),e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}function Wk(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}function Vk(e){e.register(Ok),function(e){e.languages.kotlin=e.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete e.languages.kotlin["class-name"];var t={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:e.languages.kotlin}};e.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:t},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:t},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete e.languages.kotlin.string,e.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),e.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),e.languages.kt=e.languages.kotlin,e.languages.kts=e.languages.kotlin}(e)}function qk(e){e.register(Fk),e.languages.less=e.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),e.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}})}function Gk(e){e.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[^z]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/}}function Kk(e){e.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ \t])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/}}function Yk(e){!function(e){var t=/[*&][^\s[\]{},]+/,n=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,r="(?:"+n.source+"(?:[ \t]+"+t.source+")?|"+t.source+"(?:[ \t]+"+n.source+")?)",o=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,(function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source})),i=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function s(e,t){t=(t||"").replace(/m/g,"")+"m";var n=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<value>>/g,(function(){return e}));return RegExp(n,t)}e.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,(function(){return r}))),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<key>>/g,(function(){return"(?:"+o+"|"+i+")"}))),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:s(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:s(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:s(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:s(i),lookbehind:!0,greedy:!0},number:{pattern:s(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:n,important:t,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},e.languages.yml=e.languages.yaml}(e)}function Jk(e){e.register(Pk),function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(e){return e=e.replace(/<inner>/g,(function(){return t})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,o=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,(function(){return r})),i=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+o+i+"(?:"+o+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+o+i+")(?:"+o+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+o+")"+i+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+o+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(t){["url","bold","italic","strike","code-snippet"].forEach((function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])}))})),e.hooks.add("after-tokenize",(function(e){"markdown"!==e.language&&"md"!==e.language||function e(t){if(t&&"string"!==typeof t)for(var n=0,r=t.length;n<r;n++){var o=t[n];if("code"===o.type){var i=o.content[1],s=o.content[3];if(i&&s&&"code-language"===i.type&&"code-block"===s.type&&"string"===typeof i.content){var l=i.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),a="language-"+(l=(/[a-z][\w-]*/i.exec(l)||[""])[0].toLowerCase());s.alias?"string"===typeof s.alias?s.alias=[s.alias,a]:s.alias.push(a):s.alias=[a]}}else e(o.content)}}(e.tokens)})),e.hooks.add("wrap",(function(t){if("code-block"===t.type){for(var n="",r=0,o=t.classes.length;r<o;r++){var i=t.classes[r],s=/language-(.+)/.exec(i);if(s){n=s[1];break}}var l=e.languages[n];if(l)t.content=e.highlight(t.content.value,l,n);else if(n&&"none"!==n&&e.plugins.autoloader){var a="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes.id=a,e.plugins.autoloader.loadLanguages(n,(function(){var t=document.getElementById(a);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))}))}}}));RegExp(e.languages.markup.tag.pattern.source,"gi"),String.fromCodePoint||String.fromCharCode;e.languages.md=e.languages.markdown}(e)}function Xk(e){e.register(Ik),e.languages.objectivec=e.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete e.languages.objectivec["class-name"],e.languages.objc=e.languages.objectivec}function Qk(e){!function(e){var t=/(?:\((?:[^()\\]|\\[\s\S])*\)|\{(?:[^{}\\]|\\[\s\S])*\}|\[(?:[^[\]\\]|\\[\s\S])*\]|<(?:[^<>\\]|\\[\s\S])*>)/.source;e.languages.perl={comment:[{pattern:/(^\s*)=\w[\s\S]*?=cut.*/m,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],string:[{pattern:RegExp(/\b(?:q|qq|qw|qx)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,t].join("|")+")"),greedy:!0},{pattern:/("|`)(?:(?!\1)[^\\]|\\[\s\S])*\1/,greedy:!0},{pattern:/'(?:[^'\\\r\n]|\\.)*'/,greedy:!0}],regex:[{pattern:RegExp(/\b(?:m|qr)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,t].join("|")+")"+/[msixpodualngc]*/.source),greedy:!0},{pattern:RegExp(/(^|[^-])\b(?:s|tr|y)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\2)[^\\]|\\[\s\S])*\2(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,/([a-zA-Z0-9])(?:(?!\3)[^\\]|\\[\s\S])*\3(?:(?!\3)[^\\]|\\[\s\S])*\3/.source,t+/\s*/.source+t].join("|")+")"+/[msixpodualngcer]*/.source),lookbehind:!0,greedy:!0},{pattern:/\/(?:[^\/\\\r\n]|\\.)*\/[msixpodualngc]*(?=\s*(?:$|[\r\n,.;})&|\-+*~<>!?^]|(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|x|xor)\b))/,greedy:!0}],variable:[/[&*$@%]\{\^[A-Z]+\}/,/[&*$@%]\^[A-Z_]/,/[&*$@%]#?(?=\{)/,/[&*$@%]#?(?:(?:::)*'?(?!\d)[\w$]+(?![\w$]))+(?:::)*/,/[&*$@%]\d+/,/(?!%=)[$@%][!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~]/],filehandle:{pattern:/<(?![<=])\S*?>|\b_\b/,alias:"symbol"},"v-string":{pattern:/v\d+(?:\.\d+)*|\d+(?:\.\d+){2,}/,alias:"string"},function:{pattern:/(\bsub[ \t]+)\w+/,lookbehind:!0},keyword:/\b(?:any|break|continue|default|delete|die|do|else|elsif|eval|for|foreach|given|goto|if|last|local|my|next|our|package|print|redo|require|return|say|state|sub|switch|undef|unless|until|use|when|while)\b/,number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)\b/,operator:/-[rwxoRWXOezsfdlpSbctugkTBMAC]\b|\+[+=]?|-[-=>]?|\*\*?=?|\/\/?=?|=[=~>]?|~[~=]?|\|\|?=?|&&?=?|<(?:=>?|<=?)?|>>?=?|![~=]?|[%^]=?|\.(?:=|\.\.?)?|[\\?]|\bx(?:=|\b)|\b(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|xor)\b/,punctuation:/[{}[\];(),:]/}}(e)}function Zk(e){e.register(Pk),function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,r,o,i){if(n.language===r){var s=n.tokenStack=[];n.code=n.code.replace(o,(function(e){if("function"===typeof i&&!i(e))return e;for(var o,l=s.length;-1!==n.code.indexOf(o=t(r,l));)++l;return s[l]=e,o})),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,r){if(n.language===r&&n.tokenStack){n.grammar=e.languages[r];var o=0,i=Object.keys(n.tokenStack);!function s(l){for(var a=0;a<l.length&&!(o>=i.length);a++){var c=l[a];if("string"===typeof c||c.content&&"string"===typeof c.content){var u=i[o],d=n.tokenStack[u],p="string"===typeof c?c:c.content,f=t(r,u),h=p.indexOf(f);if(h>-1){++o;var m=p.substring(0,h),g=new e.Token(r,e.tokenize(d,n.grammar),"language-"+r,d),y=p.substring(h+f.length),b=[];m&&b.push.apply(b,s([m])),b.push(g),y&&b.push.apply(b,s([y])),"string"===typeof c?l.splice.apply(l,[a,1].concat(b)):c.content=b}}else c.content&&s(c.content)}return l}(n.tokens)}}}})}(e)}function ex(e){e.register(Zk),function(e){var t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],r=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,o=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,i=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:r,operator:o,punctuation:i};var s={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},l=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:s}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:s}}];e.languages.insertBefore("php","variable",{string:l,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:l,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:r,operator:o,punctuation:i}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",(function(t){if(/<\?/.test(t.code)){e.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)}})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")}))}(e)}function tx(e){e.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},e.languages.python["string-interpolation"].inside.interpolation.inside.rest=e.languages.python,e.languages.py=e.languages.python}function nx(e){e.languages.r={comment:/#.*/,string:{pattern:/(['"])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"percent-operator":{pattern:/%[^%\s]*%/,alias:"operator"},boolean:/\b(?:FALSE|TRUE)\b/,ellipsis:/\.\.(?:\.|\d+)/,number:[/\b(?:Inf|NaN)\b/,/(?:\b0x[\dA-Fa-f]+(?:\.\d*)?|\b\d+(?:\.\d*)?|\B\.\d+)(?:[EePp][+-]?\d+)?[iL]?/],keyword:/\b(?:NA|NA_character_|NA_complex_|NA_integer_|NA_real_|NULL|break|else|for|function|if|in|next|repeat|while)\b/,operator:/->?>?|<(?:=|<?-)?|[>=!]=?|::?|&&?|\|\|?|[+*\/^$@~]/,punctuation:/[(){}\[\],;]/}}function rx(e){e.register(Ok),function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var t={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",r=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+r),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+r+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby}(e)}function ox(e){!function(e){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)t=t.replace(/<self>/g,(function(){return t}));t=t.replace(/<self>/g,(function(){return/[^\s\S]/.source})),e.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string}(e)}function ix(e){e.register(Fk),function(e){e.languages.sass=e.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),e.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete e.languages.sass.atrule;var t=/\$[-\w]+|#\{\$[-\w]+\}/,n=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}];e.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:t,operator:n}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:t,operator:n,important:e.languages.sass.important}}}),delete e.languages.sass.property,delete e.languages.sass.important,e.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})}(e)}function sx(e){e.register(Fk),e.languages.scss=e.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),e.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),e.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),e.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),e.languages.scss.atrule.inside.rest=e.languages.scss}function lx(e){e.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}function ax(e){e.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ \t]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},e.languages.swift["string-literal"].forEach((function(t){t.inside.interpolation.inside=e.languages.swift}))}function cx(e){e.register(Uk),function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(e)}function ux(e){e.languages.basic={comment:{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:AS|BEEP|BLOAD|BSAVE|CALL(?: ABSOLUTE)?|CASE|CHAIN|CHDIR|CLEAR|CLOSE|CLS|COM|COMMON|CONST|DATA|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DIM|DO|DOUBLE|ELSE|ELSEIF|END|ENVIRON|ERASE|ERROR|EXIT|FIELD|FILES|FOR|FUNCTION|GET|GOSUB|GOTO|IF|INPUT|INTEGER|IOCTL|KEY|KILL|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|MKDIR|NAME|NEXT|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPTION BASE|OUT|POKE|PUT|READ|REDIM|REM|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SELECT CASE|SHARED|SHELL|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|SUB|SWAP|SYSTEM|THEN|TIMER|TO|TROFF|TRON|TYPE|UNLOCK|UNTIL|USING|VIEW PRINT|WAIT|WEND|WHILE|WRITE)(?:\$|\b)/i,function:/\b(?:ABS|ACCESS|ACOS|ANGLE|AREA|ARITHMETIC|ARRAY|ASIN|ASK|AT|ATN|BASE|BEGIN|BREAK|CAUSE|CEIL|CHR|CLIP|COLLATE|COLOR|CON|COS|COSH|COT|CSC|DATE|DATUM|DEBUG|DECIMAL|DEF|DEG|DEGREES|DELETE|DET|DEVICE|DISPLAY|DOT|ELAPSED|EPS|ERASABLE|EXLINE|EXP|EXTERNAL|EXTYPE|FILETYPE|FIXED|FP|GO|GRAPH|HANDLER|IDN|IMAGE|IN|INT|INTERNAL|IP|IS|KEYED|LBOUND|LCASE|LEFT|LEN|LENGTH|LET|LINE|LINES|LOG|LOG10|LOG2|LTRIM|MARGIN|MAT|MAX|MAXNUM|MID|MIN|MISSING|MOD|NATIVE|NUL|NUMERIC|OF|OPTION|ORD|ORGANIZATION|OUTIN|OUTPUT|PI|POINT|POINTER|POINTS|POS|PRINT|PROGRAM|PROMPT|RAD|RADIANS|RANDOMIZE|RECORD|RECSIZE|RECTYPE|RELATIVE|REMAINDER|REPEAT|REST|RETRY|REWRITE|RIGHT|RND|ROUND|RTRIM|SAME|SEC|SELECT|SEQUENTIAL|SET|SETTER|SGN|SIN|SINH|SIZE|SKIP|SQR|STANDARD|STATUS|STR|STREAM|STYLE|TAB|TAN|TANH|TEMPLATE|TEXT|THERE|TIME|TIMEOUT|TRACE|TRANSFORM|TRUNCATE|UBOUND|UCASE|USE|VAL|VARIABLE|VIEWPORT|WHEN|WINDOW|WITH|ZER|ZONEWIDTH)(?:\$|\b)/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:AND|EQV|IMP|NOT|OR|XOR)\b/i,punctuation:/[,;:()]/}}function dx(e){e.register(ux),e.languages.vbnet=e.languages.extend("basic",{comment:[{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},{pattern:/(^|[^\\:])'.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^"])"(?:""|[^"])*"(?!")/,lookbehind:!0,greedy:!0},keyword:/(?:\b(?:ADDHANDLER|ADDRESSOF|ALIAS|AND|ANDALSO|AS|BEEP|BLOAD|BOOLEAN|BSAVE|BYREF|BYTE|BYVAL|CALL(?: ABSOLUTE)?|CASE|CATCH|CBOOL|CBYTE|CCHAR|CDATE|CDBL|CDEC|CHAIN|CHAR|CHDIR|CINT|CLASS|CLEAR|CLNG|CLOSE|CLS|COBJ|COM|COMMON|CONST|CONTINUE|CSBYTE|CSHORT|CSNG|CSTR|CTYPE|CUINT|CULNG|CUSHORT|DATA|DATE|DECIMAL|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DEFAULT|DELEGATE|DIM|DIRECTCAST|DO|DOUBLE|ELSE|ELSEIF|END|ENUM|ENVIRON|ERASE|ERROR|EVENT|EXIT|FALSE|FIELD|FILES|FINALLY|FOR(?: EACH)?|FRIEND|FUNCTION|GET|GETTYPE|GETXMLNAMESPACE|GLOBAL|GOSUB|GOTO|HANDLES|IF|IMPLEMENTS|IMPORTS|IN|INHERITS|INPUT|INTEGER|INTERFACE|IOCTL|IS|ISNOT|KEY|KILL|LET|LIB|LIKE|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|ME|MKDIR|MOD|MODULE|MUSTINHERIT|MUSTOVERRIDE|MYBASE|MYCLASS|NAME|NAMESPACE|NARROWING|NEW|NEXT|NOT|NOTHING|NOTINHERITABLE|NOTOVERRIDABLE|OBJECT|OF|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPERATOR|OPTION(?: BASE)?|OPTIONAL|OR|ORELSE|OUT|OVERLOADS|OVERRIDABLE|OVERRIDES|PARAMARRAY|PARTIAL|POKE|PRIVATE|PROPERTY|PROTECTED|PUBLIC|PUT|RAISEEVENT|READ|READONLY|REDIM|REM|REMOVEHANDLER|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SBYTE|SELECT(?: CASE)?|SET|SHADOWS|SHARED|SHELL|SHORT|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|STRUCTURE|SUB|SWAP|SYNCLOCK|SYSTEM|THEN|THROW|TIMER|TO|TROFF|TRON|TRUE|TRY|TRYCAST|TYPE|TYPEOF|UINTEGER|ULONG|UNLOCK|UNTIL|USHORT|USING|VIEW PRINT|WAIT|WEND|WHEN|WHILE|WIDENING|WITH|WITHEVENTS|WRITE|WRITEONLY|XOR)|\B(?:#CONST|#ELSE|#ELSEIF|#END|#IF))(?:\$|\b)/i,punctuation:/[,;:(){}]/})}Ok.displayName="clike",Ok.aliases=[],Ik.displayName="c",Ik.aliases=[],Rk.displayName="cpp",Rk.aliases=[],Dk.displayName="arduino",Dk.aliases=["ino"],Lk.displayName="bash",Lk.aliases=["sh","shell"],_k.displayName="csharp",_k.aliases=["cs","dotnet"],Pk.displayName="markup",Pk.aliases=["atom","html","mathml","rss","ssml","svg","xml"],Fk.displayName="css",Fk.aliases=[],zk.displayName="diff",zk.aliases=[],$k.displayName="go",$k.aliases=[],Bk.displayName="ini",Bk.aliases=[],jk.displayName="java",jk.aliases=[],Hk.displayName="regex",Hk.aliases=[],Uk.displayName="javascript",Uk.aliases=["js"],Wk.displayName="json",Wk.aliases=["webmanifest"],Vk.displayName="kotlin",Vk.aliases=["kt","kts"],qk.displayName="less",qk.aliases=[],Gk.displayName="lua",Gk.aliases=[],Kk.displayName="makefile",Kk.aliases=[],Yk.displayName="yaml",Yk.aliases=["yml"],Jk.displayName="markdown",Jk.aliases=["md"],Xk.displayName="objectivec",Xk.aliases=["objc"],Qk.displayName="perl",Qk.aliases=[],Zk.displayName="markup-templating",Zk.aliases=[],ex.displayName="php",ex.aliases=[],tx.displayName="python",tx.aliases=["py"],nx.displayName="r",nx.aliases=[],rx.displayName="ruby",rx.aliases=["rb"],ox.displayName="rust",ox.aliases=[],ix.displayName="sass",ix.aliases=[],sx.displayName="scss",sx.aliases=[],lx.displayName="sql",lx.aliases=[],ax.displayName="swift",ax.aliases=[],cx.displayName="typescript",cx.aliases=["ts"],ux.displayName="basic",ux.aliases=[],dx.displayName="vbnet",dx.aliases=[];class px{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}}function fx(e,t){const n={},r={};let o=-1;for(;++o<e.length;)Object.assign(n,e[o].property),Object.assign(r,e[o].normal);return new px(n,r,t)}function hx(e){return e.toLowerCase()}px.prototype.property={},px.prototype.normal={},px.prototype.space=null;class mx{constructor(e,t){this.property=e,this.attribute=t}}mx.prototype.space=null,mx.prototype.boolean=!1,mx.prototype.booleanish=!1,mx.prototype.overloadedBoolean=!1,mx.prototype.number=!1,mx.prototype.commaSeparated=!1,mx.prototype.spaceSeparated=!1,mx.prototype.commaOrSpaceSeparated=!1,mx.prototype.mustUseProperty=!1,mx.prototype.defined=!1;let gx=0;const yx=Ex(),bx=Ex(),vx=Ex(),wx=Ex(),kx=Ex(),xx=Ex(),Sx=Ex();function Ex(){return 2**++gx}const Cx=Object.keys(t);class Tx extends mx{constructor(e,n,r,o){let i=-1;if(super(e,n),Mx(this,"space",o),"number"===typeof r)for(;++i<Cx.length;){const e=Cx[i];Mx(this,Cx[i],(r&t[e])===t[e])}}}function Mx(e,t,n){n&&(e[t]=n)}Tx.prototype.defined=!0;const Nx={}.hasOwnProperty;function Ax(e){const t={},n={};let r;for(r in e.properties)if(Nx.call(e.properties,r)){const o=e.properties[r],i=new Tx(r,e.transform(e.attributes||{},r),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[hx(r)]=r,n[hx(i.attribute)]=r}return new px(t,n,e.space)}const Ox=Ax({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Ix=Ax({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Rx(e,t){return t in e?e[t]:t}function Dx(e,t){return Rx(e,t.toLowerCase())}const Lx=Ax({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Dx,properties:{xmlns:null,xmlnsXLink:null}}),_x=Ax({transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:bx,ariaAutoComplete:null,ariaBusy:bx,ariaChecked:bx,ariaColCount:wx,ariaColIndex:wx,ariaColSpan:wx,ariaControls:kx,ariaCurrent:null,ariaDescribedBy:kx,ariaDetails:null,ariaDisabled:bx,ariaDropEffect:kx,ariaErrorMessage:null,ariaExpanded:bx,ariaFlowTo:kx,ariaGrabbed:bx,ariaHasPopup:null,ariaHidden:bx,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:kx,ariaLevel:wx,ariaLive:null,ariaModal:bx,ariaMultiLine:bx,ariaMultiSelectable:bx,ariaOrientation:null,ariaOwns:kx,ariaPlaceholder:null,ariaPosInSet:wx,ariaPressed:bx,ariaReadOnly:bx,ariaRelevant:null,ariaRequired:bx,ariaRoleDescription:kx,ariaRowCount:wx,ariaRowIndex:wx,ariaRowSpan:wx,ariaSelected:bx,ariaSetSize:wx,ariaSort:null,ariaValueMax:wx,ariaValueMin:wx,ariaValueNow:wx,ariaValueText:null,role:null}}),Px=Ax({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Dx,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:xx,acceptCharset:kx,accessKey:kx,action:null,allow:null,allowFullScreen:yx,allowPaymentRequest:yx,allowUserMedia:yx,alt:null,as:null,async:yx,autoCapitalize:null,autoComplete:kx,autoFocus:yx,autoPlay:yx,blocking:kx,capture:null,charSet:null,checked:yx,cite:null,className:kx,cols:wx,colSpan:null,content:null,contentEditable:bx,controls:yx,controlsList:kx,coords:wx|xx,crossOrigin:null,data:null,dateTime:null,decoding:null,default:yx,defer:yx,dir:null,dirName:null,disabled:yx,download:vx,draggable:bx,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:yx,formTarget:null,headers:kx,height:wx,hidden:yx,high:wx,href:null,hrefLang:null,htmlFor:kx,httpEquiv:kx,id:null,imageSizes:null,imageSrcSet:null,inert:yx,inputMode:null,integrity:null,is:null,isMap:yx,itemId:null,itemProp:kx,itemRef:kx,itemScope:yx,itemType:kx,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:yx,low:wx,manifest:null,max:null,maxLength:wx,media:null,method:null,min:null,minLength:wx,multiple:yx,muted:yx,name:null,nonce:null,noModule:yx,noValidate:yx,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:yx,optimum:wx,pattern:null,ping:kx,placeholder:null,playsInline:yx,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:yx,referrerPolicy:null,rel:kx,required:yx,reversed:yx,rows:wx,rowSpan:wx,sandbox:kx,scope:null,scoped:yx,seamless:yx,selected:yx,shadowRootDelegatesFocus:yx,shadowRootMode:null,shape:null,size:wx,sizes:null,slot:null,span:wx,spellCheck:bx,src:null,srcDoc:null,srcLang:null,srcSet:null,start:wx,step:null,style:null,tabIndex:wx,target:null,title:null,translate:null,type:null,typeMustMatch:yx,useMap:null,value:bx,width:wx,wrap:null,align:null,aLink:null,archive:kx,axis:null,background:null,bgColor:null,border:wx,borderColor:null,bottomMargin:wx,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:yx,declare:yx,event:null,face:null,frame:null,frameBorder:null,hSpace:wx,leftMargin:wx,link:null,longDesc:null,lowSrc:null,marginHeight:wx,marginWidth:wx,noResize:yx,noHref:yx,noShade:yx,noWrap:yx,object:null,profile:null,prompt:null,rev:null,rightMargin:wx,rules:null,scheme:null,scrolling:bx,standby:null,summary:null,text:null,topMargin:wx,valueType:null,version:null,vAlign:null,vLink:null,vSpace:wx,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:yx,disableRemotePlayback:yx,prefix:null,property:null,results:wx,security:null,unselectable:null}}),Fx=Ax({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Rx,properties:{about:Sx,accentHeight:wx,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:wx,amplitude:wx,arabicForm:null,ascent:wx,attributeName:null,attributeType:null,azimuth:wx,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:wx,by:null,calcMode:null,capHeight:wx,className:kx,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:wx,diffuseConstant:wx,direction:null,display:null,dur:null,divisor:wx,dominantBaseline:null,download:yx,dx:null,dy:null,edgeMode:null,editable:null,elevation:wx,enableBackground:null,end:null,event:null,exponent:wx,externalResourcesRequired:null,fill:null,fillOpacity:wx,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:xx,g2:xx,glyphName:xx,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:wx,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:wx,horizOriginX:wx,horizOriginY:wx,id:null,ideographic:wx,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:wx,k:wx,k1:wx,k2:wx,k3:wx,k4:wx,kernelMatrix:Sx,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:wx,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:wx,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:wx,overlineThickness:wx,paintOrder:null,panose1:null,path:null,pathLength:wx,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:kx,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:wx,pointsAtY:wx,pointsAtZ:wx,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Sx,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Sx,rev:Sx,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Sx,requiredFeatures:Sx,requiredFonts:Sx,requiredFormats:Sx,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:wx,specularExponent:wx,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:wx,strikethroughThickness:wx,string:null,stroke:null,strokeDashArray:Sx,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:wx,strokeOpacity:wx,strokeWidth:null,style:null,surfaceScale:wx,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Sx,tabIndex:wx,tableValues:null,target:null,targetX:wx,targetY:wx,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Sx,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:wx,underlineThickness:wx,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:wx,values:null,vAlphabetic:wx,vMathematical:wx,vectorEffect:null,vHanging:wx,vIdeographic:wx,version:null,vertAdvY:wx,vertOriginX:wx,vertOriginY:wx,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:wx,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),zx=fx([Ix,Ox,Lx,_x,Px],"html"),$x=(fx([Ix,Ox,Lx,_x,Fx],"svg"),/^data[-\w.:]+$/i),Bx=/-[a-z]/g,jx=/[A-Z]/g;function Hx(e){return"-"+e.toLowerCase()}function Ux(e){return e.charAt(1).toUpperCase()}const Wx=/[#.]/g;function Vx(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function qx(e){const t=[],n=String(e||"");let r=n.indexOf(","),o=0,i=!1;for(;!i;){-1===r&&(r=n.length,i=!0);const e=n.slice(o,r).trim();!e&&i||t.push(e),o=r+1,r=n.indexOf(",",o)}return t}const Gx=new Set(["menu","submit","reset","button"]),Kx={}.hasOwnProperty;function Yx(e,t,n,r){const o=function(e,t){const n=hx(t);let r=t,o=mx;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&$x.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(Bx,Ux);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!Bx.test(e)){let n=e.replace(jx,Hx);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}o=Tx}return new o(r,t)}(e,n);let i,s=-1;if(void 0!==r&&null!==r){if("number"===typeof r){if(Number.isNaN(r))return;i=r}else i="boolean"===typeof r?r:"string"===typeof r?o.spaceSeparated?Vx(r):o.commaSeparated?qx(r):o.commaOrSpaceSeparated?Vx(qx(r).join(" ")):Xx(o,o.property,r):Array.isArray(r)?r.concat():"style"===o.property?function(e){const t=[];let n;for(n in e)Kx.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}(r):String(r);if(Array.isArray(i)){const e=[];for(;++s<i.length;)e[s]=Xx(o,o.property,i[s]);i=e}"className"===o.property&&Array.isArray(t.className)&&(i=t.className.concat(i)),t[o.property]=i}}function Jx(e,t){let n=-1;if(void 0===t||null===t);else if("string"===typeof t||"number"===typeof t)e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)Jx(e,t[n]);else{if("object"!==typeof t||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");"root"===t.type?Jx(e,t.children):e.push(t)}}function Xx(e,t,n){if("string"===typeof n){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(""===n||hx(n)===hx(t)))return!0}return n}const Qx=function(e,t,n){const r=n&&function(e){const t={};let n=-1;for(;++n<e.length;)t[e[n].toLowerCase()]=e[n];return t}(n);return function(n,o){let i,s=-1;for(var l=arguments.length,a=new Array(l>2?l-2:0),c=2;c<l;c++)a[c-2]=arguments[c];if(void 0===n||null===n)i={type:"root",children:[]},a.unshift(o);else if(i=function(e,t){const n=e||"",r={};let o,i,s=0;for(;s<n.length;){Wx.lastIndex=s;const e=Wx.exec(n),t=n.slice(s,e?e.index:n.length);t&&(o?"#"===o?r.id=t:Array.isArray(r.className)?r.className.push(t):r.className=[t]:i=t,s+=t.length),e&&(o=e[0],s++)}return{type:"element",tagName:i||t||"div",properties:r,children:[]}}(n,t),i.tagName=i.tagName.toLowerCase(),r&&Kx.call(r,i.tagName)&&(i.tagName=r[i.tagName]),function(e,t){if(null===e||void 0===e||"object"!==typeof e||Array.isArray(e))return!1;if("input"===t||!e.type||"string"!==typeof e.type)return!0;if("children"in e&&Array.isArray(e.children))return!1;if("button"===t)return Gx.has(e.type.toLowerCase());return!("value"in e)}(o,i.tagName)){let t;for(t in o)Kx.call(o,t)&&Yx(e,i.properties,t,o[t])}else a.unshift(o);for(;++s<a.length;)Jx(i.children,a[s]);return"element"===i.type&&"template"===i.tagName&&(i.content={type:"root",children:i.children},i.children=[]),i}}(zx,"div"),Zx=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],eS={0:"\ufffd",128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};function tS(e){const t="string"===typeof e?e.charCodeAt(0):e;return t>=48&&t<=57}function nS(e){const t="string"===typeof e?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}function rS(e){return function(e){const t="string"===typeof e?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}(e)||tS(e)}const oS=String.fromCharCode,iS=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function sS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="string"===typeof t.additional?t.additional.charCodeAt(0):t.additional,r=[];let o,i,s=0,l=-1,a="";t.position&&("start"in t.position||"indent"in t.position?(i=t.position.indent,o=t.position.start):o=t.position);let c,u=(o?o.line:0)||1,d=(o?o.column:0)||1,p=f();for(s--;++s<=e.length;)if(10===c&&(d=(i?i[l]:0)||1),c=e.charCodeAt(s),38===c){const o=e.charCodeAt(s+1);if(9===o||10===o||12===o||32===o||38===o||60===o||Number.isNaN(o)||n&&o===n){a+=oS(c),d++;continue}const i=s+1;let l,u=i,g=i;if(35===o){g=++u;const t=e.charCodeAt(g);88===t||120===t?(l="hexadecimal",g=++u):l="decimal"}else l="named";let y="",b="",v="";const w="named"===l?rS:"decimal"===l?tS:nS;for(g--;++g<=e.length;){const t=e.charCodeAt(g);if(!w(t))break;v+=oS(t),"named"===l&&Zx.includes(v)&&(y=v,b=ss(v))}let k=59===e.charCodeAt(g);if(k){g++;const e="named"===l&&ss(v);e&&(y=v,b=e)}let x=1+g-i,S="";if(k||!1!==t.nonTerminated)if(v)if("named"===l){if(k&&!b)h(5,1);else if(y!==v&&(g=u+y.length,x=1+g-u,k=!1),!k){const n=y?1:3;if(t.attribute){const t=e.charCodeAt(g);61===t?(h(n,x),b=""):rS(t)?b="":h(n,x)}else h(n,x)}S=b}else{k||h(2,x);let e=Number.parseInt(v,"hexadecimal"===l?16:10);if(lS(e))h(7,x),S=oS(65533);else if(e in eS)h(6,x),S=eS[e];else{let t="";aS(e)&&h(6,x),e>65535&&(e-=65536,t+=oS(e>>>10|55296),e=56320|1023&e),S=t+oS(e)}}else"named"!==l&&h(4,x);else;if(S){m(),p=f(),s=g-1,d+=g-i+1,r.push(S);const n=f();n.offset++,t.reference&&t.reference.call(t.referenceContext,S,{start:p,end:n},e.slice(i-1,g)),p=n}else v=e.slice(i-1,g),a+=v,d+=v.length,s=g-1}else 10===c&&(u++,l++,d=0),Number.isNaN(c)?m():(a+=oS(c),d++);return r.join("");function f(){return{line:u,column:d,offset:s+((o?o.offset:0)||0)}}function h(e,n){let r;t.warning&&(r=f(),r.column+=n,r.offset+=n,t.warning.call(t.warningContext,iS[e],r,e))}function m(){a&&(r.push(a),t.text&&t.text.call(t.textContext,a,{start:p,end:f()}),a="")}}function lS(e){return e>=55296&&e<=57343||e>1114111}function aS(e){return e>=1&&e<=8||11===e||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||65535===(65535&e)||65534===(65535&e)}var cS=0,uS={},dS={util:{type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++cS}),e.__id},clone:function e(t,n){var r,o;switch(n=n||{},dS.util.type(t)){case"Object":if(o=dS.util.objId(t),n[o])return n[o];for(var i in r={},n[o]=r,t)t.hasOwnProperty(i)&&(r[i]=e(t[i],n));return r;case"Array":return o=dS.util.objId(t),n[o]?n[o]:(r=[],n[o]=r,t.forEach((function(t,o){r[o]=e(t,n)})),r);default:return t}}},languages:{plain:uS,plaintext:uS,text:uS,txt:uS,extend:function(e,t){var n=dS.util.clone(dS.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var o=(r=r||dS.languages)[e],i={};for(var s in o)if(o.hasOwnProperty(s)){if(s==t)for(var l in n)n.hasOwnProperty(l)&&(i[l]=n[l]);n.hasOwnProperty(s)||(i[s]=o[s])}var a=r[e];return r[e]=i,dS.languages.DFS(dS.languages,(function(t,n){n===a&&t!=e&&(this[t]=i)})),i},DFS:function e(t,n,r,o){o=o||{};var i=dS.util.objId;for(var s in t)if(t.hasOwnProperty(s)){n.call(t,s,t[s],r||s);var l=t[s],a=dS.util.type(l);"Object"!==a||o[i(l)]?"Array"!==a||o[i(l)]||(o[i(l)]=!0,e(l,n,s,o)):(o[i(l)]=!0,e(l,n,null,o))}}},plugins:{},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(dS.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=dS.tokenize(r.code,r.grammar),dS.hooks.run("after-tokenize",r),pS.stringify(dS.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var o=new mS;return gS(o,o.head,e),hS(e,o,t,o.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(o)},hooks:{all:{},add:function(e,t){var n=dS.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=dS.hooks.all[e];if(n&&n.length)for(var r,o=0;r=n[o++];)r(t)}},Token:pS};function pS(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function fS(e,t,n,r){e.lastIndex=t;var o=e.exec(n);if(o&&r&&o[1]){var i=o[1].length;o.index+=i,o[0]=o[0].slice(i)}return o}function hS(e,t,n,r,o,i){for(var s in n)if(n.hasOwnProperty(s)&&n[s]){var l=n[s];l=Array.isArray(l)?l:[l];for(var a=0;a<l.length;++a){if(i&&i.cause==s+","+a)return;var c=l[a],u=c.inside,d=!!c.lookbehind,p=!!c.greedy,f=c.alias;if(p&&!c.pattern.global){var h=c.pattern.toString().match(/[imsuy]*$/)[0];c.pattern=RegExp(c.pattern.source,h+"g")}for(var m=c.pattern||c,g=r.next,y=o;g!==t.tail&&!(i&&y>=i.reach);y+=g.value.length,g=g.next){var b=g.value;if(t.length>e.length)return;if(!(b instanceof pS)){var v,w=1;if(p){if(!(v=fS(m,y,e,d))||v.index>=e.length)break;var k=v.index,x=v.index+v[0].length,S=y;for(S+=g.value.length;k>=S;)S+=(g=g.next).value.length;if(y=S-=g.value.length,g.value instanceof pS)continue;for(var E=g;E!==t.tail&&(S<x||"string"===typeof E.value);E=E.next)w++,S+=E.value.length;w--,b=e.slice(y,S),v.index-=y}else if(!(v=fS(m,0,b,d)))continue;k=v.index;var C=v[0],T=b.slice(0,k),M=b.slice(k+C.length),N=y+b.length;i&&N>i.reach&&(i.reach=N);var A=g.prev;if(T&&(A=gS(t,A,T),y+=T.length),yS(t,A,w),g=gS(t,A,new pS(s,u?dS.tokenize(C,u):C,f,C)),M&&gS(t,g,M),w>1){var O={cause:s+","+a,reach:N};hS(e,t,n,g.prev,y,O),i&&O.reach>i.reach&&(i.reach=O.reach)}}}}}}function mS(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function gS(e,t,n){var r=t.next,o={value:n,prev:t,next:r};return t.next=o,r.prev=o,e.length++,o}function yS(e,t,n){for(var r=t.next,o=0;o<n&&r!==e.tail;o++)r=r.next;t.next=r,r.prev=t,e.length-=o}const bS=dS,vS={}.hasOwnProperty;function wS(){}wS.prototype=bS;const kS=new wS;kS.highlight=function(e,t){if("string"!==typeof e)throw new TypeError("Expected `string` for `value`, got `"+e+"`");let n,r;if(t&&"object"===typeof t)n=t;else{if(r=t,"string"!==typeof r)throw new TypeError("Expected `string` for `name`, got `"+r+"`");if(!vS.call(kS.languages,r))throw new Error("Unknown language: `"+r+"` is not registered");n=kS.languages[r]}return{type:"root",children:bS.highlight.call(kS,e,n,r)}},kS.register=function(e){if("function"!==typeof e||!e.displayName)throw new Error("Expected `function` for `syntax`, got `"+e+"`");vS.call(kS.languages,e.displayName)||e(kS)},kS.alias=function(e,t){const n=kS.languages;let r,o={};"string"===typeof e?t&&(o[e]=t):o=e;for(r in o)if(vS.call(o,r)){const e=o[r],t="string"===typeof e?[e]:e;let i=-1;for(;++i<t.length;)n[t[i]]=n[r]}},kS.registered=function(e){if("string"!==typeof e)throw new TypeError("Expected `string` for `aliasOrLanguage`, got `"+e+"`");return vS.call(kS.languages,e)},kS.listLanguages=function(){const e=kS.languages,t=[];let n;for(n in e)vS.call(e,n)&&"object"===typeof e[n]&&t.push(n);return t},kS.util.encode=function(e){return e},kS.Token.stringify=function e(t,n){if("string"===typeof t)return{type:"text",value:t};if(Array.isArray(t)){const r=[];let o=-1;for(;++o<t.length;)""!==t[o]&&null!==t[o]&&void 0!==t[o]&&r.push(e(t[o],n));return r}const r={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n};t.alias&&r.classes.push(..."string"===typeof t.alias?[t.alias]:t.alias);return kS.hooks.run("wrap",r),Qx(r.tag+"."+r.classes.join("."),function(e){let t;for(t in e)vS.call(e,t)&&(e[t]=sS(e[t]));return e}(r.attributes),r.content)},kS.register(Ok),kS.register(Ik),kS.register(Rk),kS.register(Dk),kS.register(Lk),kS.register(_k),kS.register(Pk),kS.register(Fk),kS.register(zk),kS.register($k),kS.register(Bk),kS.register(jk),kS.register(Hk),kS.register(Uk),kS.register(Wk),kS.register(Vk),kS.register(qk),kS.register(Gk),kS.register(Kk),kS.register(Yk),kS.register(Jk),kS.register(Xk),kS.register(Qk),kS.register(Zk),kS.register(ex),kS.register(tx),kS.register(nx),kS.register(rx),kS.register(ox),kS.register(ix),kS.register(sx),kS.register(lx),kS.register(ax),kS.register(cx),kS.register(ux),kS.register(dx);const xS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.flatMap((e=>{var n;return"element"===e.type?xS(e.children,[...t,...(null==(n=e.properties)?void 0:n.className)||[]]):[{text:e.value,className:t}]}))};function SS(e,t,n){const{highlight:r,listLanguages:o}=n,i=o(),s=[];return op((e=>e.type.name===t))(e).forEach((e=>{let t=e.pos+1;const{language:n}=e.node.attrs;if(!n||!i.includes(n))return void console.warn("Unsupported language detected, this language has not been supported by prism: ",n);const o=r(e.node.textContent,n);xS(o.children).forEach((e=>{const n=t+e.text.length;if(e.className.length){const r=ed.inline(t,n,{class:e.className.join(" ")});s.push(r)}t=n}))})),rd.create(e,s)}const ES=function(){const e={nodeName:"fence",configureRefractor:()=>{},...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return(e=>{const t=()=>async n=>{await n.wait(pf);const r=e(n);n.update(of,(e=>[...e,r])),t.plugin=r};return t})((()=>function(e){const{nodeName:t,configureRefractor:n}=e;return new Wo({key:new Go("MILKDOWN_PRISM"),state:{init:(e,r)=>{let{doc:o}=r;const i=n(kS);return SS(o,t,null!=i?i:kS)},apply:(e,n,r,o)=>{var i,s;const l=o.selection.$head.parent.type.name===t,a=r.selection.$head.parent.type.name===t,c=op((e=>e.type.name===t))(r.doc),u=op((e=>e.type.name===t))(o.doc);return e.docChanged&&(l||a||c.length!==u.length||(null==(i=c[0])?void 0:i.node.attrs.language)!==(null==(s=u[0])?void 0:s.node.attrs.language)||e.steps.some((e=>{const t=e;return void 0!==t.from&&void 0!==t.to&&c.some((e=>e.pos>=t.from&&e.pos+e.node.nodeSize<=t.to))})))?SS(e.doc,t,kS):n.map(e.mapping,e.doc)}},props:{decorations(e){return this.getState(e)}}})}(e)))}();var CS,TS,MS,NS,AS,OS=Object.defineProperty,IS=(e,t,n)=>(((e,t,n)=>{t in e?OS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const RS=(e,t)=>{if(!t)return!1;const{from:n,$from:r,to:o,empty:i}=e.selection;return i?!!t.isInSet(e.storedMarks||r.marks()):e.doc.rangeHasMark(n,o,t)},DS=qf("SelectParent"),LS=[[{type:"button",icon:"undo",key:"Undo",disabled:e=>!Ih(e.state)},{type:"button",icon:"redo",key:"Redo",disabled:e=>!Rh(e.state)}],[{type:"select",text:"Heading",options:[{id:"1",text:"Large Heading"},{id:"2",text:"Medium Heading"},{id:"3",text:"Small Heading"},{id:"0",text:"Plain Text"}],disabled:e=>{const{state:t}=e,n=t.schema.nodes.heading;if(!n)return!0;const r=e=>Sp(n,{level:e})(t);return!(e.state.selection instanceof Ao)||!(r(1)||r(2)||r(3))},onSelect:e=>Number(e)?["TurnIntoHeading",Number(e)]:["TurnIntoText",null]}],[{type:"button",icon:"bold",key:"ToggleBold",active:e=>RS(e.state,e.state.schema.marks.strong),disabled:e=>!e.state.schema.marks.strong},{type:"button",icon:"italic",key:"ToggleItalic",active:e=>RS(e.state,e.state.schema.marks.em),disabled:e=>!e.state.schema.marks.em},{type:"button",icon:"strikeThrough",key:"ToggleStrikeThrough",active:e=>RS(e.state,e.state.schema.marks.strike_through),disabled:e=>!e.state.schema.marks.strike_through}],[{type:"button",icon:"bulletList",key:"WrapInBulletList",disabled:e=>{const{state:t}=e,n=t.schema.nodes.bullet_list;return!n||!xp(n)(t)}},{type:"button",icon:"orderedList",key:"WrapInOrderedList",disabled:e=>{const{state:t}=e,n=t.schema.nodes.ordered_list;return!n||!xp(n)(t)}},{type:"button",icon:"taskList",key:"TurnIntoTaskList",disabled:e=>{const{state:t}=e,n=t.schema.nodes.task_list_item;return!n||!xp(n)(t)}},{type:"button",icon:"liftList",key:"LiftListItem",disabled:e=>{const{state:t}=e,n=t.schema.nodes.list_item;return!n||!dg(n)(t)}},{type:"button",icon:"sinkList",key:"SinkListItem",disabled:e=>{const{state:t}=e,n=t.schema.nodes.list_item;return!n||!pg(n)(t)}}],[{type:"button",icon:"link",key:"ToggleLink",active:e=>RS(e.state,e.state.schema.marks.link)},{type:"button",icon:"image",key:"InsertImage"},{type:"button",icon:"table",key:"InsertTable"},{type:"button",icon:"code",key:"TurnIntoCodeFence"}],[{type:"button",icon:"quote",key:"WrapInBlockquote"},{type:"button",icon:"divider",key:"InsertHr"},{type:"button",icon:"select",key:DS}]];class _S{constructor(e,t,n,r,o){IS(this,"config"),this.utils=t,this.ctx=n,this.config=e.map((e=>e.map((e=>({...e,$:this.$create(e,o)}))))).map(((t,n)=>{if(n===e.length-1)return t;const r={type:"divider",group:t.map((e=>e.$))};return[...t,{...r,$:this.$create(r,o)}]})).flat(),this.config.forEach((e=>r.appendChild(e.$)))}update(e){this.config.forEach((t=>{if("button"===t.type)return t.active&&(t.active(e)?t.$.classList.add("active"):t.$.classList.remove("active")),void(t.disabled&&(t.disabled(e)?t.$.setAttribute("disabled","true"):t.$.removeAttribute("disabled")));if("select"===t.type&&t.disabled){const n=t.disabled(e),r=t.$.children[0];r&&(n?(t.$.classList.add("disabled"),r.setAttribute("disabled","true")):(t.$.classList.remove("disabled"),r.removeAttribute("disabled")))}"divider"===t.type&&(t.group.every((e=>e.getAttribute("disabled")||e.classList.contains("disabled")))?t.$.classList.add("disabled"):t.$.classList.remove("disabled"))}))}$create(e,t){const{utils:n,ctx:r}=this;switch(e.type){case"button":return((e,t,n)=>{const r=document.createElement("button");r.setAttribute("type","button"),e.themeManager.onFlush((()=>{r.className="button";const t=e.getStyle((t=>{let{css:n}=t;const r=Pt(e.themeManager);return n(CS||(CS=ph(["\n                border: 0;\n                box-sizing: unset;\n                width: 28px;\n                height: 28px;\n                padding: 4px;\n                margin: 8px;\n                flex-shrink: 0;\n                font-size: 14px;\n\n                display: flex;\n                justify-content: center;\n                align-items: center;\n\n                background-color: ",";\n                color: ",";\n                transition: color 0.4s ease-in-out, background-color 0.4s ease-in-out;\n\n                cursor: pointer;\n\n                &.active,\n                &:hover {\n                    background-color: ",";\n                    color: ",";\n                }\n\n                &:disabled {\n                    display: none;\n                }\n\n                .material-icons-outlined {\n                    font-size: 24px;\n                }\n            "])),r("surface"),r("solid"),r("secondary",.12),r("primary"))}));t&&r.classList.add(t)}));const o=e.themeManager.get(Tt,t.icon);if(o){const{label:e,dom:t}=o;e&&(r.setAttribute("aria-label",e),r.setAttribute("title",e)),r.appendChild(t)}else r.setAttribute("aria-label",t.icon),r.setAttribute("title",t.icon),r.textContent=t.icon;return r.addEventListener("mousedown",(e=>{e.preventDefault(),e.stopPropagation(),n.get(Gf).call(t.key,t.options)})),r})(n,e,r);case"select":return((e,t,n,r)=>{var o;const i=document.createElement("div");i.classList.add("menu-selector-wrapper","fold");const s=document.createElement("button"),l=document.createElement("div");s.setAttribute("type","button"),s.classList.add("menu-selector","fold"),s.addEventListener("mousedown",(t=>{var n;t.preventDefault(),t.stopPropagation(),i.classList.toggle("fold");const o=i.getBoundingClientRect();l.style.left="".concat(o.left-((null==(n=r.dom.parentElement)?void 0:n.getBoundingClientRect().left)||0),"px");const s=e.themeManager.get(Lt,"lineWidth");l.style.top="calc(".concat("".concat(o.height,"px")," + ",s," * 2)")})),r.dom.addEventListener("click",(()=>{i.classList.add("fold")}));const a=document.createElement("span");a.classList.add("menu-selector-value"),a.textContent=t.text;const c=null==(o=e.themeManager.get(Tt,"downArrow"))?void 0:o.dom;i.appendChild(s),s.appendChild(a),c&&(c.setAttribute("aria-hidden","true"),s.appendChild(c)),l.classList.add("menu-selector-list"),t.options.forEach((e=>{const t=document.createElement("button");t.setAttribute("type","button"),t.dataset.id=e.id,t.textContent=e.text,t.classList.add("menu-selector-list-item"),l.appendChild(t)})),l.addEventListener("mousedown",(e=>{const{target:o}=e;if(o instanceof HTMLButtonElement&&o.dataset.id){const e=t.onSelect(o.dataset.id,r),[s,l]=e;n.get(Gf).call(s,l),i.classList.add("fold")}})),i.appendChild(l);const{themeManager:u}=e;return u.onFlush((()=>{const t=e.getStyle((e=>{let{css:t}=e;const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return u.get(St,[e,t])};return t(MS||(MS=ph(["\n                flex-shrink: 0;\n                font-weight: 500;\n                font-size: 14px;\n\n                ","\n                ","\n\n                .menu-selector {\n                    border: 0;\n                    box-sizing: unset;\n                    cursor: pointer;\n                    font: inherit;\n                    text-align: left;\n                    justify-content: space-between;\n                    align-items: center;\n                    color: ",";\n                    display: flex;\n                    padding: 4px;\n                    margin: 8px;\n                    height: 28px;\n                    background: ",";\n                    width: 160px;\n\n                    &:disabled {\n                        display: none;\n                    }\n                }\n\n                .menu-selector-value {\n                    flex: 1;\n                    white-space: nowrap;\n                    text-overflow: ellipsis;\n                }\n\n                .menu-selector-list {\n                    width: 184px;\n                    position: absolute;\n                    background: ",";\n                    ","\n                    ","\n                    border-bottom-left-radius: ",";\n                    border-bottom-right-radius: ",";\n                    z-index: 3;\n                }\n\n                .menu-selector-list-item {\n                    background-color: transparent;\n                    border: 0;\n                    cursor: pointer;\n                    display: block;\n                    font: inherit;\n                    text-align: left;\n                    padding: 12px 16px;\n                    line-height: 28px;\n                    width: 100%;\n                    color: ",";\n\n                    &:hover {\n                        background: ",";\n                        color: ",";\n                    }\n                }\n\n                &.fold {\n                    border-color: transparent;\n\n                    .menu-selector {\n                        background: unset;\n                    }\n\n                    .menu-selector-list {\n                        display: none;\n                    }\n                }\n            "])),u.get(xt,"right"),u.get(xt,"left"),n("neutral",.87),n("secondary",.12),n("surface"),u.get(xt,void 0),u.get(Dt,void 0),u.get(Lt,"radius"),u.get(Lt,"radius"),n("neutral",.87),n("secondary",.12),n("primary"))}));t&&i.classList.add(t)})),i})(n,e,r,t);default:return(e=>{const t=document.createElement("div");t.classList.add("divider");const{themeManager:n}=e;return n.onFlush((()=>{const r=e.getStyle((e=>{let{css:t}=e;return t(TS||(TS=ph(["\n                flex-shrink: 0;\n                width: ",";\n                background-color: ",";\n                margin: 12px 16px;\n                min-height: 24px;\n            "])),n.get(Lt,"lineWidth"),n.get(St,["line"]))}));r&&t.classList.add(r)})),t})(n)}}}const PS=e=>{let{menu:t,menuWrapper:n,milkdownDOM:r}=e;n.insertBefore(t,r)},FS=e=>{if(!e)return document.body;if("string"==typeof e){return document.querySelector(e)||document.body}return e},zS=new Go("MILKDOWN_MENU"),$S=sg(((e,t)=>{const n=null==t?void 0:t.domHandler;let r=null,o=null,i=null,s=null;const l=(l,a)=>{const c=null!=t&&t.config?"function"==typeof t.config?t.config(l):t.config:LS;if(a.editable){if(i||(i=((e,t)=>{let n=null;n=document.createElement("div"),n.classList.add("milkdown-menu-wrapper");const r=e.get(Pf),o=t.dom,i=FS(r),s=o.parentElement;if(!s)throw w();return i.replaceChild(n,s),n.appendChild(s),n})(l,a),l.set(zf,i)),!o){const[t,c]=function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:PS;if(!r)throw x();const i=document.createElement("div");i.classList.add("milkdown-menu");const s=t.dom,{themeManager:l}=e;l.onFlush((()=>{const t=e.getStyle((()=>l.get(Rt,["y"])));t&&s.classList.add(t);const n=e.getStyle((e=>{let{css:t}=e;return t(NS||(NS=ph(["\n                position: relative;\n            "])))}));r&&n&&r.classList.add(n);const o=e.getStyle((e=>{let{css:t}=e;const n=l.get(xt,void 0),r=l.get(Rt,["x","thin"]);return t(AS||(AS=ph(["\n                font-family: ",";\n                box-sizing: border-box;\n                width: 100%;\n                display: flex;\n                flex-wrap: nowrap;\n                overflow-x: scroll;\n                ",";\n                ",";\n                overflow-y: hidden;\n                background: ",";\n                transition: background-color 0.4s ease-in-out;\n\n                -webkit-overflow-scrolling: auto;\n\n                .disabled {\n                    display: none;\n                }\n            "])),l.get(Et,"typography"),n,r,l.get(St,["surface"]))}));o&&o.split(" ").forEach((e=>i.classList.add(e)))}));const a=n.get(Pf),c=FS(a),u=s.parentElement;if(!u)throw w();return o({menu:i,menuWrapper:r,editorDOM:s,editorRoot:c,milkdownDOM:u}),[i,()=>((e=>{let{menu:t,menuWrapper:n,milkdownDOM:r,editorRoot:o}=e;o.appendChild(r),n.remove(),t.remove()})({menu:i,menuWrapper:r,editorDOM:s,editorRoot:c,milkdownDOM:u}),u)]}(e,a,l,i,n);o=t,r=()=>{const e=c();i=null,o=null,s=null,r=null,l.set(zf,e)}}s||(s=new _S(c,e,l,o,a))}};return{commands:()=>[Vf(DS,(()=>yp))],prosePlugins:(e,t)=>[new Wo({key:zS,view:e=>(l(t,e),e.editable&&(null==s||s.update(e)),{update:n=>{l(t,e),e.editable?null==s||s.update(n):null==r||r()},destroy:()=>{null==r||r()}})})]}})),BS=Am.create([$S()]);var jS,HS,US=Object.defineProperty,WS=(e,t,n)=>(((e,t,n)=>{t in e?US(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n),VS=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},qS=(e,t,n)=>(VS(e,t,"read from private field"),n?n.call(e):t.get(e)),GS=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},KS=(e,t,n,r)=>(VS(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),YS=(e,t,n)=>(VS(e,t,"access private method"),n);const JS=()=>[{id:"text",icon:"text",content:"Text",command:e=>e.get(Gf).call("TurnIntoHeading",0),disabled:(e,t)=>!t.node.type.isTextblock},{id:"h1",icon:"h1",content:"Heading 1",command:e=>e.get(Gf).call("TurnIntoHeading",1),disabled:(e,t)=>!t.node.type.isTextblock},{id:"h2",icon:"h2",content:"Heading 2",command:e=>e.get(Gf).call("TurnIntoHeading",2),disabled:(e,t)=>!t.node.type.isTextblock},{id:"h3",icon:"h3",content:"Heading 3",command:e=>e.get(Gf).call("TurnIntoHeading",3),disabled:(e,t)=>!t.node.type.isTextblock},{id:"bullet_list",icon:"bulletList",content:"Bullet list",command:e=>e.get(Gf).call("WrapInBulletList"),disabled:e=>{const t=e.get(Lf);return!xp(ip("bullet_list",t.state.schema))(t.state)}},{id:"ordered_list",icon:"orderedList",content:"Ordered list",command:e=>e.get(Gf).call("WrapInOrderedList"),disabled:e=>{const t=e.get(Lf);return!xp(ip("ordered_list",t.state.schema))(t.state)}},{id:"task_list",icon:"taskList",content:"Task list",command:e=>e.get(Gf).call("TurnIntoTaskList"),disabled:e=>{const t=e.get(Lf);return!xp(ip("task_list_item",t.state.schema))(t.state)}},{id:"blockquote",icon:"quote",content:"Blockquote",command:e=>e.get(Gf).call("WrapInBlockquote"),disabled:e=>{const t=e.get(Lf);return!xp(ip("blockquote",t.state.schema))(t.state)}},{id:"code_fence",icon:"code",content:"Code",command:e=>e.get(Gf).call("TurnIntoCodeFence"),disabled:e=>{const t=e.get(Lf);return!Sp(ip("fence",t.state.schema))(t.state)}}];var XS,QS,ZS,eE,tE,nE,rE,oE,iE,sE,lE,aE,cE,uE,dE,pE;class fE{constructor(e){GS(this,QS),GS(this,eE),WS(this,"dom$"),GS(this,XS,void 0),KS(this,XS,e),this.dom$=YS(this,eE,tE).call(this),YS(this,QS,ZS).call(this)}hide(){this.dom$.classList.add("hide")}show(){this.dom$.classList.remove("hide")}toggle(){this.dom$.classList.toggle("hide")}mount(e){var t;null==(t=e.dom.parentNode)||t.appendChild(this.dom$)}unmount(){this.dom$.remove()}render(e,t){const n=e.dom.parentElement;if(!n)throw w();const r=t.getBoundingClientRect(),o=n.getBoundingClientRect(),i=this.dom$.getBoundingClientRect(),s=r.left-o.left-i.width,l=r.top-o.top+n.scrollTop;this.dom$.style.left="".concat(s,"px"),this.dom$.style.top="".concat(l,"px")}}XS=new WeakMap,QS=new WeakSet,ZS=function(){const{themeManager:e,getStyle:t}=qS(this,XS);e.onFlush((()=>{if(!this.dom$)return;const n=t((t=>{let{css:n}=t;const r=Pt(e);return n(jS||(jS=ph(["\n                    position: absolute;\n                    color: ",";\n                    cursor: grab;\n                    border-radius: ",";\n                    transition: background-color 0.4s;\n                    height: 24px;\n                    line-height: 24px;\n                    &:hover {\n                        color: ",";\n                        background-color: ",";\n                    }\n                    &.hide {\n                        display: none;\n                    }\n                "])),r("solid"),e.get(Lt,"radius"),r("primary"),r("background"))}));if(n){const e=["block-handle",n,"hide"].filter((e=>null!=e)).join(" ");this.dom$.className=e}}))},eE=new WeakSet,tE=function(){const{themeManager:e}=qS(this,XS),t=document.createElement("div");t.draggable=!0;const n=e.get(Tt,"dragHandle");return t.appendChild(n.dom),t};class hE{constructor(e,t,n,r,o){GS(this,aE),GS(this,uE),WS(this,"dom$"),GS(this,nE,void 0),GS(this,rE,void 0),GS(this,oE,void 0),GS(this,iE,void 0),GS(this,sE,void 0),GS(this,lE,void 0),GS(this,pE,(e=>{let t=e.target;for(;t&&!t.dataset.id&&t.parentElement;)t=t.parentElement;if(t){const e=t.dataset.id,n=qS(this,iE).find((t=>t.id===e)),r=qS(this,lE).call(this);r&&(null==n||n.command(qS(this,rE),r))}qS(this,sE).hide(),this.hide()})),KS(this,nE,e),KS(this,rE,t),KS(this,oE,n),KS(this,sE,r),KS(this,iE,qS(this,oE).call(this,qS(this,rE))),KS(this,lE,o),this.dom$=YS(this,uE,dE).call(this),YS(this,aE,cE).call(this)}hide(){this.dom$.classList.add("hide")}show(){this.dom$.style.maxHeight="",this.dom$.classList.remove("hide")}toggle(){this.dom$.style.maxHeight="",this.dom$.classList.toggle("hide")}mount(e){var t;null==(t=e.dom.parentNode)||t.appendChild(this.dom$),this.dom$.addEventListener("click",qS(this,pE))}unmount(){this.dom$.remove(),this.dom$.removeEventListener("click",qS(this,pE))}render(e,t){const n=e.dom.parentElement;if(!n)throw w();if(qS(this,iE).reduce(((e,t)=>{let{disabled:n,id:r}=t;const o=qS(this,lE).call(this);if(!o)return e;const i=n(qS(this,rE),o),s=this.dom$.querySelector('[data-id="'.concat(r,'"]'));return s?i?(s.classList.add("hide"),e):(s.classList.remove("hide"),!1):e}),!0))return void this.hide();const r=n.getBoundingClientRect(),o=qS(this,sE).dom$.getBoundingClientRect(),i=this.dom$.getBoundingClientRect(),s=t.left-r.left-o.width;let l,a;const c=t.top-r.top,u=r.height+r.top-(o.height+t.top);u>=i.height+14?l="bottom":c>=i.height+14?l="top":u>=c?(l="bottom",a=u-14):(l="top",a=c-14);const d="top"===l?t.top-r.top-(null!=a?a:i.height)-2+n.scrollTop:t.top-r.top+n.scrollTop+o.height;this.dom$.style.left="".concat(s,"px"),this.dom$.style.top="".concat(d,"px"),this.dom$.style.maxHeight=void 0!==a&&a>0?"".concat(a,"px"):""}}nE=new WeakMap,rE=new WeakMap,oE=new WeakMap,iE=new WeakMap,sE=new WeakMap,lE=new WeakMap,aE=new WeakSet,cE=function(){const{themeManager:e,getStyle:t}=qS(this,nE);e.onFlush((()=>{if(!this.dom$)return;const n=t((t=>{let{css:n}=t;const r=Pt(e);return n(HS||(HS=ph(["\n                    position: absolute;\n                    cursor: pointer;\n                    background: ",";\n                    z-index: 2;\n                    border-radius: ",";\n                    width: 140px;\n                    overflow-y: auto;\n\n                    ","\n                    ",";\n                    ","\n\n                    &.hide {\n                        display: none;\n                    }\n\n                    .block-menu_item {\n                        font-size: 14px;\n                        display: flex;\n                        height: 24px;\n                        padding: 4px 10px;\n                        align-items: center;\n                        justify-content: start;\n                        gap: 10px;\n                        transition: all 0.4s;\n\n                        &:hover {\n                            background: ",";\n                            color: ",";\n                        }\n\n                        &.hide {\n                            display: none;\n                        }\n                    }\n                "])),r("surface"),e.get(Lt,"radius"),e.get(Rt,["y"]),e.get(Dt,void 0),e.get(xt,void 0),r("secondary",.12),r("primary"))}));if(n){const e=["block-menu",n,"hide"].filter((e=>null!=e)).join(" ");this.dom$.className=e}}))},uE=new WeakSet,dE=function(){const e=document.createElement("div");return qS(this,iE).forEach((t=>{let{icon:n,content:r,id:o}=t;const i=document.createElement("div"),s=document.createElement("span");let l;s.textContent=r,l="string"==typeof n?qS(this,nE).themeManager.get(Tt,n).dom:n,i.appendChild(l),i.appendChild(s),i.dataset.id=o,i.classList.add("block-menu_item"),e.appendChild(i)})),e},pE=new WeakMap;const mE=e=>!e.type.isBlock,gE=e=>{let t=e.parent;const n=e.node();return t===n&&(t=e.node(e.depth-1)),!(!t||"doc"===t.type.name)&&t.firstChild===n};let yE=null;const bE={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};function vE(e,t){const n=[];let{openStart:r,openEnd:o,content:i}=t;for(;r>1&&o>1&&1===i.childCount&&1===i.firstChild.childCount;){r-=1,o-=1;const e=i.firstChild;n.push(e.type.name,e.attrs!==e.type.defaultAttrs?e.attrs:null),i=e.content}const s=e.someProp("clipboardSerializer")||Hn.fromSchema(e.state.schema),l=yE||(yE=document.implementation.createHTMLDocument("title")),a=l.createElement("div");a.appendChild(s.serializeFragment(i,{document:l}));let c,u=a.firstChild,d=0;for(;u&&1===u.nodeType&&(c=bE[u.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){const t=l.createElement(c[e]);for(;a.firstChild;)t.appendChild(a.firstChild);a.appendChild(t),d++}u=a.firstChild}u&&1===u.nodeType&&u.setAttribute("data-pm-slice","".concat(r," ").concat(o).concat(d?" -".concat(d):""," ").concat(JSON.stringify(n)));const p=e.someProp("clipboardTextSerializer",(e=>e(t)))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:a,text:p}}const wE=Xd.ie&&Xd.ie_version<15||Xd.ios&&Xd.webkit_version<604;var kE,xE,SE,EE,CE,TE,ME,NE,AE,OE,IE,RE;class DE{constructor(e,t,n,r){GS(this,NE),WS(this,"blockHandle$"),WS(this,"blockMenu$"),GS(this,kE,(()=>{if(!qS(this,SE))return null;const e=qS(this,SE),t=qS(this,NE,AE);if(Io.isSelectable(e.node)){const n=Io.create(t.state.doc,e.$pos.pos-1);return t.dispatch(t.state.tr.setSelection(n)),t.focus(),KS(this,xE,n),n}return null})),GS(this,xE,null),GS(this,SE,null),GS(this,EE,void 0),GS(this,CE,!1),GS(this,TE,void 0),GS(this,ME,void 0),GS(this,OE,(()=>{var e;KS(this,EE,null==(e=qS(this,SE))?void 0:e.el.getBoundingClientRect()),qS(this,kE).call(this)})),GS(this,IE,(()=>{qS(this,CE)?(KS(this,CE,!1),KS(this,xE,null)):requestAnimationFrame((()=>{!qS(this,EE)||(this.blockMenu$.toggle(),this.blockMenu$.render(qS(this,NE,AE),qS(this,EE)),qS(this,NE,AE).focus())}))})),GS(this,RE,(e=>{KS(this,CE,!0);const t=qS(this,xE);if(e.dataTransfer&&t){const n=qS(this,NE,AE),r=t.content();e.dataTransfer.effectAllowed="copyMove";const{dom:o,text:i}=vE(n,r);e.dataTransfer.clearData(),e.dataTransfer.setData(wE?"Text":"text/html",o.innerHTML),wE||e.dataTransfer.setData("text/plain",i),n.dragging={slice:r,move:!0}}})),WS(this,"keydownCallback",(()=>(this.blockMenu$.hide(),this.blockHandle$.hide(),!1))),WS(this,"mousedownCallback",(()=>(this.blockMenu$.hide(),!1))),WS(this,"mousemoveCallback",((e,t)=>{if(!e.editable)return!1;const n=t.target;if(!(n instanceof Element))return qS(this,CE)||this.blockHandle$.hide(),!1;const r=((e,t,n)=>{const r=t.dom.parentElement;if(!r)throw w();const o=t.posAtDOM(e,0);if(0===o)return null;let i=t.state.doc.resolve(o),s=i.node();for(;s&&(mE(s)||gE(i)||!n(s));)i=t.state.doc.resolve(i.before()),s=i.node();i=t.state.doc.resolve(i.pos-i.parentOffset);const l=((e,t,n)=>{const{node:r}=e.domAtPos(n.pos);let o=r,i=o.parentElement;for(;i&&i!==t&&n.pos===e.posAtDOM(i,0);)o=i,i=i.parentElement;return o})(t,r,i);return{node:s,$pos:i,el:l}})(n,e,qS(this,ME));return KS(this,SE,r),r?(this.blockHandle$.show(),this.blockHandle$.render(e,r.el),!1):(qS(this,CE)||this.blockHandle$.hide(),!1)})),WS(this,"dragoverCallback",((e,t)=>{if(qS(this,CE)){const e=qS(this,NE,AE).dom.parentElement;if(!e)return!1;const n=e.scrollHeight>e.clientHeight,r=e.getBoundingClientRect();if(n){if(e.scrollTop>0&&Math.abs(t.y-r.y)<20){const t=e.scrollTop>10?e.scrollTop-10:0;return e.scrollTop=t,!1}const n=Math.round(qS(this,NE,AE).dom.getBoundingClientRect().height);if(Math.round(e.scrollTop+r.height)<n&&Math.abs(t.y-(r.height+r.y))<20){const t=e.scrollTop+10;return e.scrollTop=t,!1}}}return!1})),WS(this,"dropCallback",((e,t)=>{if(qS(this,CE)){this.blockMenu$.hide();const n=t,r=((e,t)=>{var n;const{state:r}=e,o=r.selection.$anchor;for(let i=o.depth;i>0;i--)if("table"===o.node(i).type.spec.tableRole){const s=e.posAtCoords({left:t.clientX,top:t.clientY});if(!s)return null;const l=null==(n=e.dragging)?void 0:n.slice;if(!l)return null;const a=e.state.doc.resolve(s.pos),c=ao(e.state.doc,a.pos,l);if(null==c||c<0)return null;let u=r.tr;u=u.delete(o.before(i),o.after(i));const d=u.mapping.map(c);return u=u.replaceRange(d,d,l),u}return null})(e,n);if(KS(this,CE,!1),r)return e.dispatch(r),n.preventDefault(),!0}return!1})),KS(this,TE,e),KS(this,ME,n),this.blockHandle$=new fE(t),this.blockMenu$=new hE(t,e,r,this.blockHandle$,(()=>qS(this,SE)))}mount(e){this.blockHandle$.dom$.addEventListener("mousedown",qS(this,OE)),this.blockHandle$.dom$.addEventListener("mouseup",qS(this,IE)),this.blockHandle$.dom$.addEventListener("dragstart",qS(this,RE)),this.blockHandle$.mount(e),this.blockMenu$.mount(e)}unmount(){this.blockHandle$.dom$.removeEventListener("mousedown",qS(this,OE)),this.blockHandle$.dom$.removeEventListener("mouseup",qS(this,IE)),this.blockHandle$.dom$.removeEventListener("dragstart",qS(this,RE)),this.blockHandle$.unmount(),this.blockMenu$.unmount()}}kE=new WeakMap,xE=new WeakMap,SE=new WeakMap,EE=new WeakMap,CE=new WeakMap,TE=new WeakMap,ME=new WeakMap,NE=new WeakSet,AE=function(){return qS(this,TE).get(Lf)},OE=new WeakMap,IE=new WeakMap,RE=new WeakMap;const LE=new Go("MILKDOWN_BLOCK"),_E=(e,t,n,r)=>{const o=new DE(e,t,n,r);return new Wo({key:LE,props:{handleDOMEvents:{drop:(e,t)=>o.dropCallback(e,t),mousemove:(e,t)=>o.mousemoveCallback(e,t),mousedown:()=>o.mousedownCallback(),keydown:()=>o.keydownCallback(),dragover:(e,t)=>o.dragoverCallback(e,t)}},view:e=>(o.mount(e),{destroy:()=>{o.unmount()}})})},PE=e=>{const{name:t}=e.type;return!(t.startsWith("table")&&"table"!==t)},FE=sg(((e,t)=>{var n,r;const o=null!=(n=null==t?void 0:t.filterNodes)?n:PE,i=null!=(r=null==t?void 0:t.configBuilder)?r:JS;return{prosePlugins:(t,n)=>[_E(n,e,o,i)]}})),zE=Am.create([FE()]);function $E(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function BE(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function jE(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return BE(n.overflowY,t)||BE(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function HE(e,t,n,r,o,i,s,l){return i<e&&s>t||i>e&&s<t?0:i<=e&&l<=n||s>=t&&l>=n?i-e-r:s>t&&l<n||i<e&&l>n?s-t+o:0}var UE=function(e,t){var n=window,r=t.scrollMode,o=t.block,i=t.inline,s=t.boundary,l=t.skipOverflowHiddenElements,a="function"==typeof s?s:function(e){return e!==s};if(!$E(e))throw new TypeError("Invalid target");for(var c,u,d=document.scrollingElement||document.documentElement,p=[],f=e;$E(f)&&a(f);){if((f=null==(u=(c=f).parentElement)?c.getRootNode().host||null:u)===d){p.push(f);break}null!=f&&f===document.body&&jE(f)&&!jE(document.documentElement)||null!=f&&jE(f,l)&&p.push(f)}for(var h=n.visualViewport?n.visualViewport.width:innerWidth,m=n.visualViewport?n.visualViewport.height:innerHeight,g=window.scrollX||pageXOffset,y=window.scrollY||pageYOffset,b=e.getBoundingClientRect(),v=b.height,w=b.width,k=b.top,x=b.right,S=b.bottom,E=b.left,C="start"===o||"nearest"===o?k:"end"===o?S:k+v/2,T="center"===i?E+w/2:"end"===i?x:E,M=[],N=0;N<p.length;N++){var A=p[N],O=A.getBoundingClientRect(),I=O.height,R=O.width,D=O.top,L=O.right,_=O.bottom,P=O.left;if("if-needed"===r&&k>=0&&E>=0&&S<=m&&x<=h&&k>=D&&S<=_&&E>=P&&x<=L)return M;var F=getComputedStyle(A),z=parseInt(F.borderLeftWidth,10),$=parseInt(F.borderTopWidth,10),B=parseInt(F.borderRightWidth,10),j=parseInt(F.borderBottomWidth,10),H=0,U=0,W="offsetWidth"in A?A.offsetWidth-A.clientWidth-z-B:0,V="offsetHeight"in A?A.offsetHeight-A.clientHeight-$-j:0,q="offsetWidth"in A?0===A.offsetWidth?0:R/A.offsetWidth:0,G="offsetHeight"in A?0===A.offsetHeight?0:I/A.offsetHeight:0;if(d===A)H="start"===o?C:"end"===o?C-m:"nearest"===o?HE(y,y+m,m,$,j,y+C,y+C+v,v):C-m/2,U="start"===i?T:"center"===i?T-h/2:"end"===i?T-h:HE(g,g+h,h,z,B,g+T,g+T+w,w),H=Math.max(0,H+y),U=Math.max(0,U+g);else{H="start"===o?C-D-$:"end"===o?C-_+j+V:"nearest"===o?HE(D,_,I,$,j+V,C,C+v,v):C-(D+I/2)+V/2,U="start"===i?T-P-z:"center"===i?T-(P+R/2)+W/2:"end"===i?T-L+B+W:HE(P,L,R,z,B+W,T,T+w,w);var K=A.scrollLeft,Y=A.scrollTop;C+=Y-(H=Math.max(0,Math.min(Y+H/G,A.scrollHeight-I/G+V))),T+=K-(U=Math.max(0,Math.min(K+U/q,A.scrollWidth-R/q+W)))}M.push({el:A,top:H,left:U})}return M};function WE(e){return e===Object(e)&&0!==Object.keys(e).length}const VE=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(WE(t)&&"function"===typeof t.behavior)return t.behavior(n?UE(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:WE(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,o=e.top,i=e.left;r.scroll&&n?r.scroll({top:o,left:i,behavior:t}):(r.scrollTop=o,r.scrollLeft=i)}))}(UE(e,r),r.behavior)}};var qE,GE=function(){return qE||(qE="performance"in window?performance.now.bind(performance):Date.now),qE()};function KE(e){var t=GE(),n=Math.min((t-e.startTime)/e.duration,1),r=e.ease(n),o=e.startX+(e.x-e.startX)*r,i=e.startY+(e.y-e.startY)*r;e.method(o,i),o!==e.x||i!==e.y?requestAnimationFrame((function(){return KE(e)})):e.cb()}function YE(e,t,n,r,o,i){var s,l,a,c;void 0===r&&(r=600),void 0===o&&(o=function(e){return 1+--e*e*e*e*e}),s=e,l=e.scrollLeft,a=e.scrollTop,c=function(t,n){e.scrollLeft=Math.ceil(t),e.scrollTop=Math.ceil(n)},KE({scrollable:s,method:c,startTime:GE(),startX:l,startY:a,x:t,y:n,duration:r,ease:o,cb:i})}const JE=function(e,t){var n=t||{};return function(e){return e&&!e.behavior||"smooth"===e.behavior}(n)?VE(e,{block:n.block,inline:n.inline,scrollMode:n.scrollMode,boundary:n.boundary,behavior:function(e){return Promise.all(e.reduce((function(e,t){var r=t.el,o=t.left,i=t.top,s=r.scrollLeft,l=r.scrollTop;return s===o&&l===i?e:[].concat(e,[new Promise((function(e){return YE(r,o,i,n.duration,n.ease,(function(){return e({el:r,left:[s,o],top:[l,i]})}))}))])}),[]))}}):Promise.resolve(VE(e,t))};var XE,QE,ZE,eC;const tC=(e,t)=>t.css(QE||(QE=ph(["\n        width: 320px;\n        min-height: 48px;\n        max-height: 320px;\n        overflow-y: auto;\n        border-radius: ",";\n        position: absolute;\n        background: ",";\n\n        ","\n        ","\n        ","\n\n        &.hide {\n            display: none;\n        }\n\n        ","\n    "])),e.get(Lt,"radius"),function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.get(St,[t,n])}("surface"),e.get(xt,void 0),e.get(Dt,void 0),e.get(Rt,void 0),((e,t)=>{let{css:n}=t;const r=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.get(St,[t,n])};return n(XE||(XE=ph(["\n        .slash-dropdown-item {\n            display: flex;\n            gap: 32px;\n            height: 48px;\n            padding: 0 16px;\n            align-items: center;\n            justify-content: flex-start;\n            cursor: pointer;\n            line-height: 48px;\n            font-family: ",";\n            font-size: 14px;\n\n            transition: all 0.2s ease-in-out;\n\n            &,\n            .icon {\n                color: ",";\n                transition: all 0.2s ease-in-out;\n            }\n\n            &.hide {\n                display: none;\n            }\n\n            &.active {\n                background: ",";\n                &,\n                .icon {\n                    color: ",";\n                }\n            }\n        }\n    "])),e.get(Et,"typography"),r("neutral",.87),r("secondary",.12),r("primary"))})(e,t)),nC=(e,t,n,r)=>{var o;const i=null!=(o=null==r?void 0:r.textClassName)?o:"text",s=document.createElement("div");s.setAttribute("role","option"),s.classList.add("slash-dropdown-item");const l=e.get(Tt,n);if(!l)throw k(n);const a=document.createElement("span");return a.textContent=t,a.className=i,s.appendChild(l.dom),s.appendChild(a),s},rC=e=>(t,n,r)=>(r&&(((e,t)=>{const{selection:n}=e,{$from:r}=n,o=e.tr.deleteRange(r.start(),r.pos);null==t||t(o)})(t,n),e()),!0),oC=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";const{nodes:n}=e.get(ff),r=[{id:"h1",dom:nC(e.get(kt),"Large Heading","h1"),command:()=>e.get(Gf).call("TurnIntoHeading",1),keyword:["h1","large heading"],typeName:"heading"},{id:"h2",dom:nC(e.get(kt),"Medium Heading","h2"),command:()=>e.get(Gf).call("TurnIntoHeading",2),keyword:["h2","medium heading"],typeName:"heading"},{id:"h3",dom:nC(e.get(kt),"Small Heading","h3"),command:()=>e.get(Gf).call("TurnIntoHeading",3),keyword:["h3","small heading"],typeName:"heading"},{id:"bulletList",dom:nC(e.get(kt),"Bullet List","bulletList"),command:()=>e.get(Gf).call("WrapInBulletList"),keyword:["bullet list","ul"],typeName:"bullet_list"},{id:"orderedList",dom:nC(e.get(kt),"Ordered List","orderedList"),command:()=>e.get(Gf).call("WrapInOrderedList"),keyword:["ordered list","ol"],typeName:"ordered_list"},{id:"taskList",dom:nC(e.get(kt),"Task List","taskList"),command:()=>e.get(Gf).call("TurnIntoTaskList"),keyword:["task list","task"],typeName:"task_list_item"},{id:"image",dom:nC(e.get(kt),"Image","image"),command:()=>e.get(Gf).call("InsertImage"),keyword:["image"],typeName:"image"},{id:"blockquote",dom:nC(e.get(kt),"Quote","quote"),command:()=>e.get(Gf).call("WrapInBlockquote"),keyword:["quote","blockquote"],typeName:"blockquote"},{id:"table",dom:nC(e.get(kt),"Table","table"),command:()=>e.get(Gf).call("InsertTable"),keyword:["table"],typeName:"table"},{id:"code",dom:nC(e.get(kt),"Code Fence","code"),command:()=>e.get(Gf).call("TurnIntoCodeFence"),keyword:["code"],typeName:"fence"},{id:"divider",dom:nC(e.get(kt),"Divide Line","divider"),command:()=>e.get(Gf).call("InsertHr"),keyword:["divider","hr"],typeName:"hr"}],o=t.slice(1).toLocaleLowerCase();return r.filter((e=>!!n[e.typeName]&&e.keyword.some((e=>e.includes(o))))).map((e=>{let{keyword:t,typeName:n,...r}=e;return r}))},iC=e=>t=>{let{content:n,isTopLevel:r}=t;if(!r)return null;const o=e.get(Lf);return null!=o&&o.editable?n?n.startsWith("/")?"/"===n?{placeholder:"Type to filter...",actions:oC(e)}:{actions:oC(e,n)}:null:{placeholder:"Type / to use the slash commands..."}:null},sC=(e,t)=>({handleKeyDown:(t,n)=>!(e.isEmpty()||!(n instanceof KeyboardEvent)||!["ArrowUp","ArrowDown","Enter"].includes(n.key)),decorations:n=>{const r=sp((e=>{let{type:t}=e;return"paragraph"===t.name}))(n.selection),o=n.plugins.find((e=>"MILKDOWN_UPLOAD$"===e.key)),i=null==o?void 0:o.getState(n);if(null!=i&&i.find(n.selection.from,n.selection.to).length>0||!r||r.node.childCount>1||n.selection.$from.parentOffset!==r.node.textContent.length||r.node.firstChild&&"text"!==r.node.firstChild.type.name)return e.clear(),null;const{placeholder:s,actions:l}=e.update({parentNode:n.selection.$from.node(n.selection.$from.depth-1),isTopLevel:1===n.selection.$from.depth,content:r.node.textContent,state:n});if(!s)return null;const a=(e,t)=>{const o=r.pos;return rd.create(n.doc,[ed.node(o,o+r.node.nodeSize,{class:t.filter((e=>e)).join(" "),"data-text":e})])},c=t.getStyle((e=>((e,t)=>{let{css:n}=t;const r=e.get(Et,"typography");return n(ZE||(ZE=ph(["\n        position: relative;\n        &::before {\n            position: absolute;\n            cursor: text;\n            font-family: ",";\n            font-size: 14px;\n            color: ",";\n            content: attr(data-text);\n            height: 100%;\n            display: flex;\n            align-items: center;\n        }\n    "])),r,function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.get(St,[t,n])}("neutral",.6))})(t.themeManager,e))),u=t.getStyle((e=>((e,t)=>{let{css:n}=t;return n(eC||(eC=ph(["\n    &::before {\n        left: 8px;\n    }\n"])))})(t.themeManager,e)));return l.length?a(s,[c,u,"empty-node","is-slash"]):a(s,[c,"empty-node"])}}),lC=e=>({id:e.id,$:e.dom,command:rC(e.command)}),aC=(e,t)=>{tp(e,t,((e,n,r)=>{const o=t.parentElement;if(!o)throw w();let i,s,l=e.left-r.left;l<0&&(l=0);const a=e.top-r.top,c=r.height+r.top-e.bottom;c>=n.height+28?i="bottom":a>=n.height+28?i="top":c>=a?(i="bottom",s=c-28):(i="top",s=a-28),(a<0||c<0)&&(s=r.height-e.height-28,s>n.height&&(s=void 0));const u="top"===i?e.top-r.top-(null!=s?s:n.height)-14+o.scrollTop:e.bottom-r.top+14+o.scrollTop;return t.style.maxHeight=void 0!==s&&s>0?"".concat(s,"px"):"",[u,l]}))},cC=(e,t,n,r,o)=>{const i=t.dom.parentNode;if(!i)return{};const s=((e,t)=>{const n=document.createElement("div");return n.setAttribute("role","listbox"),n.setAttribute("tabindex","-1"),e.themeManager.onFlush((()=>{const t=e.getStyle((t=>tC(e.themeManager,t)));t&&n.classList.add(t)})),n.classList.add(e.getClassName({},t),"hide"),n})(n,r),l=(()=>{let e=!1;return{isLock:()=>e,lock:()=>{e=!0},unlock:()=>{e=!1}}})();i.appendChild(s);const a=(e=>()=>{e.unlock()})(l),c=((e,t,n)=>r=>{const{target:o}=r;if(!(o instanceof HTMLElement)||!t)return;const i=()=>{r.stopPropagation(),r.preventDefault()},{actions:s}=e.get(),l=Object.values(s).find((e=>{let{$:t}=e;return t.contains(o)}));if(!l){if(e.isEmpty())return;return e.clear(),n.classList.add("hide"),void i()}i(),l.command(t.state,t.dispatch,t)})(e,t,s),u=((e,t,n,r)=>o=>{if(!(o instanceof KeyboardEvent))return;r.isLock()||r.lock();const{key:i}=o;if(e.isEmpty()||!["ArrowDown","ArrowUp","Enter","Escape"].includes(i))return;const{actions:s}=e.get();let l=s.findIndex((e=>{let{$:t}=e;return t.classList.contains("active")}));l<0&&(l=0);const a=e=>{const t=s[l],n=s[e];!t||!n||(t.$.classList.remove("active"),n.$.classList.add("active"),JE(n.$,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}))};if("ArrowDown"===i)return void a(l===s.length-1?0:l+1);if("ArrowUp"===i)return void a(0===l?s.length-1:l-1);if("Escape"===i){if(e.isEmpty())return;return e.clear(),void n.classList.add("hide")}const c=s[l];!c||(c.command(t.state,t.dispatch,t),c.$.classList.remove("active"))})(e,t,s,l),d=((e,t)=>n=>{if(t.isLock())return;const{actions:r}=e.get(),o=r.findIndex((e=>e.$.classList.contains("active"))),i=r[o];i&&o>=0&&i.$.classList.remove("active");const{target:s}=n;s instanceof HTMLElement&&s.classList.add("active")})(e,l),p=e=>{const{target:t}=e;t instanceof HTMLElement&&t.classList.remove("active")};return i.addEventListener("mousemove",a),i.addEventListener("mousedown",c),i.addEventListener("keydown",u),{update:t=>{!((e,t,n)=>{const{actions:r}=e.get();if(!r.length)return t.classList.add("hide"),!1;for(t.childNodes.forEach((e=>{e.removeEventListener("mouseenter",n.mouseEnter),e.removeEventListener("mouseleave",n.mouseLeave)}));t.firstChild;)t.firstChild.remove();r.forEach((e=>{let{$:r}=e;r.classList.remove("active"),r.addEventListener("mouseenter",n.mouseEnter),r.addEventListener("mouseleave",n.mouseLeave),t.appendChild(r)})),t.style.maxHeight="",t.classList.remove("hide");const o=r[0];return o&&(o.$.classList.add("active"),requestAnimationFrame((()=>{JE(o.$,{scrollMode:"if-needed",block:"nearest",inline:"nearest"})}))),!0})(e,s,{mouseEnter:d,mouseLeave:p})||o(t,s)},destroy:()=>{i.removeEventListener("mousemove",a),i.removeEventListener("mousedown",c),i.removeEventListener("keydown",u),s.remove()}}},uC=(e,t,n,r)=>{const o=(e=>{const t={placeholder:null,actions:[]};return{get:()=>t,clear:()=>{t.placeholder=null,t.actions=[]},update:n=>{var r,o;const i=e(n);return t.placeholder=null!=(r=null==i?void 0:i.placeholder)?r:null,t.actions=(null!=(o=null==i?void 0:i.actions)?o:[]).map(lC),t},isEmpty:()=>0===t.actions.length}})(t);return new Wo({key:new Go("MILKDOWN_SLASH"),props:sC(o,e),view:t=>cC(o,t,e,n,r)})},dC=sg(((e,t)=>{var n,r;const o=null!=(n=null==t?void 0:t.config)?n:iC,i=null!=(r=null==t?void 0:t.calcPosition)?r:aC;return{prosePlugins:(t,n)=>{const r=o(n);return[uC(e,r,"slash-dropdown",i)]}}})),pC=Am.create([dC()]).configure(dC,{config:e=>t=>{let{isTopLevel:n,content:r,parentNode:o}=t;return n?r?r.startsWith("/")?"/"===r?{actions:oC(e)}:{actions:oC(e,r.slice(1).toLocaleLowerCase())}:void 0:{}:null}});function fC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Wo({view:t=>new hC(t,e)})}class hC{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=t.width)&&void 0!==n?n:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map((t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}}))}destroy(){this.handlers.forEach((e=>{let{name:t,handler:n}=e;return this.editorView.dom.removeEventListener(t,n)}))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent;if(n){let n=t.nodeBefore,r=t.nodeAfter;if(n||r){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(t){let o=t.getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos);e={left:t.left-this.width/2,right:t.left+this.width/2,top:t.top,bottom:t.bottom}}let r,o,i=this.editorView.dom.offsetParent;if(this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!i||i==document.body&&"static"==getComputedStyle(i).position)r=-pageXOffset,o=-pageYOffset;else{let e=i.getBoundingClientRect();r=e.left-i.scrollLeft,o=e.top-i.scrollTop}this.element.style.left=e.left-r+"px",this.element.style.top=e.top-o+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,o="function"==typeof r?r(this.editorView,t,e):r;if(t&&!o){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=ao(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class mC extends Co{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return mC.valid(n)?new mC(n):Co.near(n)}content(){return Gt.empty}eq(e){return e instanceof mC&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new mC(e.resolve(t.pos))}getBookmark(){return new gC(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0!=n)for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e:for(;;){if(!n&&mC.valid(e))return e;let r=e.pos,o=null;for(let n=e.depth;;n--){let i=e.node(n);if(t>0?e.indexAfter(n)<i.childCount:e.index(n)>0){o=i.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let s=e.doc.resolve(r);if(mC.valid(s))return s}for(;;){let i=t>0?o.firstChild:o.lastChild;if(!i){if(o.isAtom&&!o.isText&&!Io.isSelectable(o)){e=e.doc.resolve(r+o.nodeSize*t),n=!1;continue e}break}o=i,r+=t;let s=e.doc.resolve(r);if(mC.valid(s))return s}return null}}}mC.prototype.visible=!1,mC.findFrom=mC.findGapCursorFrom,Co.jsonID("gapcursor",mC);class gC{constructor(e){this.pos=e}map(e){return new gC(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return mC.valid(t)?new mC(t):Co.near(t)}}const yC=jp({ArrowLeft:bC("horiz",-1),ArrowRight:bC("horiz",1),ArrowUp:bC("vert",-1),ArrowDown:bC("vert",1)});function bC(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,o){let i=e.selection,s=t>0?i.$to:i.$from,l=i.empty;if(i instanceof Ao){if(!o.endOfTextblock(n)||0==s.depth)return!1;l=!1,s=e.doc.resolve(t>0?s.after():s.before())}let a=mC.findGapCursorFrom(s,t,l);return!!a&&(r&&r(e.tr.setSelection(new mC(a))),!0)}}function vC(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!mC.valid(r))return!1;let o=e.posAtCoords({left:n.clientX,top:n.clientY});return!(o&&o.inside>-1&&Io.isSelectable(e.state.doc.nodeAt(o.inside)))&&(e.dispatch(e.state.tr.setSelection(new mC(r))),!0)}function wC(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof mC))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let o=jt.empty;for(let s=r.length-1;s>=0;s--)o=jt.from(r[s].createAndFill(null,o));let i=e.state.tr.replace(n.pos,n.pos,new Gt(o,0,0));return i.setSelection(Ao.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function kC(e){if(!(e.selection instanceof mC))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",rd.create(e.doc,[ed.widget(e.selection.head,t,{key:"gapcursor"})])}var xC;const SC=sg((e=>{let{getStyle:t,themeManager:n}=e;return n.onFlush((()=>{t((e=>{let{injectGlobal:t}=e;t(xC||(xC=ph(["\n                /* copy from https://github.com/ProseMirror/prosemirror-gapcursor/blob/master/style/gapcursor.css */\n                .ProseMirror-gapcursor {\n                    display: none;\n                    pointer-events: none;\n                    position: absolute;\n                    margin: 0 !important;\n                }\n\n                .ProseMirror-gapcursor:after {\n                    content: '';\n                    display: block;\n                    position: absolute;\n                    top: -2px;\n                    width: 20px;\n                    border-top: "," solid\n                        ",";\n                    animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n                }\n\n                @keyframes ProseMirror-cursor-blink {\n                    to {\n                        visibility: hidden;\n                    }\n                }\n\n                .ProseMirror-focused .ProseMirror-gapcursor {\n                    display: block;\n                }\n            "])),n.get(Lt,"lineWidth"),n.get(St,["secondary"]))}))})),{prosePlugins:(e,t)=>{var n,r;const o=t.get(kt),i=o.get(Lt,"lineWidth"),s=o.get(St,["secondary"]),l=Number(null!=(r=null==(n=null==i?void 0:i.match(/\d+/))?void 0:n[0])?r:1);return[new Wo({props:{decorations:kC,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&mC.valid(n)?new mC(n):null,handleClick:vC,handleKeyDown:yC,handleDOMEvents:{beforeinput:wC}}}),fC({color:s,width:l})]}}}))(),EC=e=>{if(!e)return!1;if(Array.isArray(e))return!(e.length>1)&&EC(e[0]);const t=e.content;return t?EC(t):"text"===e.type},CC=new Go("MILKDOWN_CLIPBOARD"),TC=sg((()=>({prosePlugins:(e,t)=>{const n=t.get(ff);return t.update(_f,(e=>{var t;return{...e,editable:null!=(t=e.editable)?t:()=>!0}})),[new Wo({key:CC,props:{handlePaste:(e,r,o)=>{var i,s;const l=t.get(vf),a=t.get(Sf),c=null==(s=(i=e.props).editable)?void 0:s.call(i,e.state),{clipboardData:u}=r;if(!c||!u||e.state.selection.$from.node().type.spec.code)return!1;let d=u.getData("text/plain");const p=u.getData("vscode-editor-data");if(p){const t=JSON.parse(p),r=null==t?void 0:t.mode;if(d&&r){const{tr:t}=e.state,o=ip("fence",n);return t.replaceSelectionWith(o.create({language:r})).setSelection(Ao.near(t.doc.resolve(Math.max(0,t.selection.from-2)))).insertText(d.replace(/\r\n?/g,"\n")),e.dispatch(t),!0}}const f=u.getData("text/html");if(0===f.length&&0===d.length)return!1;if(f.length>0||0===d.length){const e=document.createElement("template");e.innerHTML=f;const t=Rn.fromSchema(n).parse(e.content);e.remove(),d=a(t)}const h=l(d);return!(!h||"string"==typeof h)&&(e.dispatch(e.state.tr.replaceSelection(new Gt(h.content,o.openStart,o.openEnd))),!0)},clipboardTextSerializer:e=>{const r=t.get(Sf);if(EC(e.content.toJSON()))return e.content.textBetween(0,e.content.size,"\n\n");const o=n.topNodeType.createAndFill(void 0,e.content);return o?r(o):""}}})]}}))),MC=TC();var NC=n(579);const AC=e=>{let{defaultValue:t,vscode:n}=e;const[r,i]=(0,o.useState)(t),{editor:s,getInstance:l}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=(0,o.useRef)(void 0),r=(0,o.useRef)(),[i,s]=(0,o.useState)(!0),l=(0,o.useCallback)((function(){return e(...arguments)}),t);return{loading:i,getInstance:()=>r.current,getDom:()=>n.current,editor:{getEditorCallback:l,dom:n,editor:r,setLoading:s}}}((e=>dh.make().config((t=>{t.set(Pf,e),t.set(Mf,r),t.get(Mk).mounted((e=>{})).updated(((e,t,n)=>{})).markdownUpdated(((e,t,o)=>{n&&t!==r&&n.postMessage({type:"edit",text:t}),i(t)}))})).use(Cm).use(Hy).use(nk).use(Gy).use(Ak).use(ES).use(BS).use(zE).use(SC).use(MC).use(pC)));return(0,o.useEffect)((()=>{t!==r&&(l().action(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n=>{const r=n.get(Lf),o=n.get(vf)(e);if(!o)return;if(!t){const{state:e}=r;return r.dispatch(e.tr.replace(0,e.doc.content.size,new Gt(o.content,0,0)))}const i=n.get(ff),s=n.get(Af),l=n.get(of),a=n.get(kt),c=Ho.create({schema:i,doc:o,plugins:l,...s});r.updateState(c),a.flush(n)}}(t)),i(t))}),[t]),(0,NC.jsx)("div",{className:"App",children:(0,NC.jsx)(Sk,{editor:s})})},OC=()=>{const[e,t]=(0,o.useState)(null),[n,r]=(0,o.useState)("");return(0,o.useEffect)((()=>{const e=acquireVsCodeApi();e?t(e):console.error("No vscode found")}),[]),(0,o.useEffect)((()=>{const t=t=>{const n=t.data;if("update"===n.type)return e.setState({text:n.text}),void r(n.text);console.warn("Unknown message type",n.type)};if(e)return window.removeEventListener("message",t),window.addEventListener("message",t),e.postMessage({type:"readyToListen"}),()=>window.removeEventListener("message",t)}),[e]),e?(0,NC.jsx)(AC,{defaultValue:n,vscode:e}):null},IC=document.getElementById("root");if(!IC)throw new Error("No root element found");(0,r.H)(IC).render((0,NC.jsx)(OC,{}))})()})();
//# sourceMappingURL=main.0f1e3d8c.js.map